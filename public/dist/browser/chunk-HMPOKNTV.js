import{b as vi,c as st,d as Ai,e as nn,f as Pi,g as Ri,h as Oi}from"./chunk-G5BW4ZBV.js";import{a as ne}from"./chunk-HXI3SQFM.js";import{F as tn,a as yi,b as Ti,f as Qt,m as Ci,o as Si,s as Zt,u as ki,y as en}from"./chunk-LWBZFDH4.js";import{a as Ze,b as C,c as et,d as tt,e as F,f as N,g as nt,i as it,j as rt,k as Ii,l as bi,m as Ei,n as wi}from"./chunk-4FIV745A.js";import{$ as _i,V as Xe,Y as mi,_ as gi,aa as ye,ba as Qe,da as ot,k as pi,l as te,o as Xt}from"./chunk-PT6AYX4V.js";import"./chunk-H6M6RJKF.js";import{$ as ve,A as ri,B as oi,Cb as D,Dc as Ee,Ec as Ye,Fa as Gt,Fb as I,Fc as we,Gb as v,Hc as hi,Kb as Jt,Kc as fi,M as si,Pb as Ke,Q as Bt,Sb as f,T as de,Ta as Kt,Tb as li,U as zt,Ub as ue,Va as be,Vb as di,Xa as g,Ya as R,Zb as Je,_ as ai,ac as ui,ba as $,c as jt,da as x,ea as ci,f as ii,ia as ee,ja as Ie,l as Ne,lc as Yt,m as ze,mb as P,n as $t,o as xe,qa as E,qb as _,ra as w,rb as Ge,s as qe,xb as u,ya as qt,yb as d,zb as A}from"./chunk-JI4USUWK.js";import{e as le,f as a,g as Be}from"./chunk-KT3CPUTC.js";var at=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["app-forms-label"]],decls:8,vars:0,consts:[[1,"container","py-5","text-center"],[1,"row"],[1,"col-md-12","py-5"],[1,"col-md-12","text-center"],[1,"fs-4"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),f(4,"Accedi o registrati"),d()(),u(5,"div",3)(6,"p",4),f(7," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. "),d()()()())},styles:[".bg-personal-trasparent[_ngcontent-%COMP%]{background-color:#eac843b3}h1[_ngcontent-%COMP%]{font-size:80px}"]})};function _o(n,e){n&1&&A(0,"div",9)}function vo(n,e){if(n&1&&(u(0,"div",7),P(1,_o,1,0,"div",8),d()),n&2){let t=v();g(),_("ngForOf",t.balls)}}var ct=class n{constructor(e,t){this.router=e;this.modeService=t;this.modeService.mode.subscribe(i=>{i&&(this.mode=i)})}login=new F({});signup=new F({});mode="light";balls=[1,2,3,4,5,6];window={innerWidth:0};ngOnInit(){this.window=window}route(e){this.router.navigate([`forms/${e}`])}onResize(){this.window=window}static \u0275fac=function(t){return new(t||n)(R(te),R(ye))};static \u0275cmp=ee({type:n,selectors:[["app-forms"]],hostBindings:function(t,i){t&1&&I("resize",function(){return i.onResize(i.event)},!1,be)},decls:12,vars:2,consts:[[1,"w-100","z-4","position-relative",3,"ngClass"],["class","position-absolute w-100 d-flex balls-container",4,"ngIf"],[1,"position-absolute","w-100"],[1,"container","py-5","text-center"],[1,"row","d-flex","justify-content-around"],["title","Registrati e scopri i nuovi giochi.",1,"btn","btn-1","w-25","fs-2",3,"click"],["title","Accedi e gioca.",1,"btn","btn-2","w-25","fs-2",3,"click"],[1,"position-absolute","w-100","d-flex","balls-container"],["class","p-3 m-1 rounded-circle position-absolute",4,"ngFor","ngForOf"],[1,"p-3","m-1","rounded-circle","position-absolute"]],template:function(t,i){t&1&&(u(0,"div",0),P(1,vo,2,1,"div",1),u(2,"div",2),A(3,"app-forms-label"),u(4,"div",3)(5,"div",4)(6,"button",5),I("click",function(){return i.route("signup")}),f(7," Signup "),d(),u(8,"button",6),I("click",function(){return i.route("login")}),f(9," Login "),d()()()()(),u(10,"router-outlet"),A(11,"router-outlet"),d()),t&2&&(_("ngClass",i.mode=="light"?"bg-white":"bg-personal"),g(),_("ngIf",i.window.innerWidth>700))},dependencies:[Ee,Ye,we,pi,at],styles:["@keyframes _ngcontent-%COMP%_rotation-1{0%{top:0;right:50%;transition:1s;width:100px;height:100px}20%{top:25%;right:20%;transition:1s;width:100px;height:100px;background-color:#90ee9033}40%{top:75%;right:20%;transition:1s;width:100px;height:100px;background-color:#ee82ee33}60%{top:100%;right:50%;transition:1s;width:100px;height:100px;background-color:#ff03}80%{top:75%;right:80%;transition:1s;width:100px;height:100px;background-color:#add8e633}to{top:25%;right:80%;transition:1s;width:100px;height:100px;background-color:#ffa50033}}@keyframes _ngcontent-%COMP%_rotation-2{0%{top:25%;right:20%;transition:1s;width:100px;height:100px}20%{top:75%;right:20%;transition:1s;width:100px;height:100px;background-color:#90ee9033}40%{top:100%;right:50%;transition:1s;width:100px;height:100px;background-color:#ee82ee33}60%{top:75%;right:80%;transition:1s;width:100px;height:100px;background-color:#ff03}80%{top:25%;right:80%;transition:1s;width:100px;height:100px;background-color:#add8e633}to{top:0;right:50%;transition:1s;width:100px;height:100px;background-color:#ffa50033}}@keyframes _ngcontent-%COMP%_rotation-3{0%{top:75%;right:20%;transition:1s;width:100px;height:100px}20%{top:100%;right:50%;transition:1s;width:100px;height:100px;background-color:#90ee9033}40%{top:75%;right:80%;transition:1s;width:100px;height:100px;background-color:#ee82ee33}60%{top:25%;right:80%;transition:1s;width:100px;height:100px;background-color:#ff03}80%{top:0%;right:50%;transition:1s;width:100px;height:100px;background-color:#add8e633}to{top:25%;right:20%;transition:1s;width:100px;height:100px;background-color:#ffa50033}}@keyframes _ngcontent-%COMP%_rotation-4{0%{top:100%;right:50%;transition:1s;width:100px;height:100px}20%{top:75%;right:80%;transition:1s;width:100px;height:100px;background-color:#90ee9033}40%{top:25%;right:80%;transition:1s;width:100px;height:100px;background-color:#ee82ee33}60%{top:0;right:50%;transition:1s;width:100px;height:100px;background-color:#ff03}80%{top:25%;right:20%;transition:1s;width:100px;height:100px;background-color:#add8e633}to{top:75%;right:20%;transition:1s;width:100px;height:100px;background-color:#ffa50033}}@keyframes _ngcontent-%COMP%_rotation-5{0%{top:75%;right:80%;transition:1s;width:100px;height:100px}20%{top:25%;right:80%;transition:1s;width:100px;height:100px;background-color:#90ee9033}40%{top:0;right:50%;transition:1s;width:100px;height:100px;background-color:#ee82ee33}60%{top:25%;right:20%;transition:1s;width:100px;height:100px;background-color:#ff03}80%{top:75%;right:20%;transition:1s;width:100px;height:100px;background-color:#add8e633}to{top:100%;right:50%;transition:1s;width:100px;height:100px;background-color:#ffa50033}}@keyframes _ngcontent-%COMP%_rotation-6{0%{top:25%;right:80%;transition:1s;width:100px;height:100px}20%{top:0%;right:50%;transition:1s;width:100px;height:100px;background-color:#90ee9033}40%{top:25%;right:20%;transition:1s;width:100px;height:100px;background-color:#ee82ee33}60%{top:75%;right:20%;transition:1s;width:100px;height:100px;background-color:#ff03}80%{top:100%;right:50%;transition:1s;width:100px;height:100px;background-color:#add8e633}to{top:75%;right:80%;transition:1s;width:100px;height:100px;background-color:#ffa50033}}.h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{font-family:Just Me Again Down Here,cursive;font-weight:400;font-style:normal}h1[_ngcontent-%COMP%]{font-size:80px}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:120px}.bg-personal[_ngcontent-%COMP%]{background-color:gray}.background-forms-image[_ngcontent-%COMP%]{height:100vh}.balls-container[_ngcontent-%COMP%]{top:10%;left:5%;height:70vh;align-items:center;justify-content:center;transition:1s}.balls-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(1){top:0%;right:50%;transition:1s;background-color:#3dd3234d;animation-name:_ngcontent-%COMP%_rotation-1;animation-duration:7s;animation-iteration-count:infinite}.balls-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2){top:15%;right:20%;background-color:#00fe5d4d;animation-name:_ngcontent-%COMP%_rotation-2;animation-duration:7s;animation-iteration-count:infinite;transition:1s}.balls-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3){top:85%;right:20%;background-color:#00fe5d4d;animation-name:_ngcontent-%COMP%_rotation-3;animation-duration:7s;animation-iteration-count:infinite;transition:1s}.balls-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){top:100%;right:50%;background-color:#00fe5d4d;animation-name:_ngcontent-%COMP%_rotation-4;animation-duration:7s;animation-iteration-count:infinite;transition:1s}.balls-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(5){top:85%;right:80%;background-color:#00fe5d4d;animation-name:_ngcontent-%COMP%_rotation-5;animation-duration:7s;animation-iteration-count:infinite;transition:1s}.balls-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(6){top:15%;right:80%;background-color:#00fe5d4d;animation-name:_ngcontent-%COMP%_rotation-6;animation-duration:7s;animation-iteration-count:infinite;transition:1s}.bg-personal-trasparent[_ngcontent-%COMP%]{background-color:#eac843b3}.position-relative[_ngcontent-%COMP%]{min-height:930px}.btn-1[_ngcontent-%COMP%]{background-color:#feb30380;scale:.8;transition:1s}.btn-1[_ngcontent-%COMP%]:hover{background-color:#feb303;box-shadow:0 0 .2rem #fff,0 0 .2rem #fff,0 0 2rem #ffb700,0 0 .8rem #ffb700,0 0 2.8rem #ffb700,inset 0 0 1.3rem #ffb700;transition:1s;scale:1}.btn-2[_ngcontent-%COMP%]{background-color:#04ff0080;scale:.8;transition:1s}.btn-2[_ngcontent-%COMP%]:hover{background-color:#04ff00;box-shadow:0 0 .2rem #fff,0 0 .2rem #fff,0 0 2rem #00ff0d,0 0 .8rem #00ff0d,0 0 2.8rem #00ff0d,inset 0 0 1.3rem #00ff0d;transition:1s;scale:1}"]})};var Li=()=>{};var Fi=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},Io=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=n[t++],s=n[t++],l=n[t++],c=((r&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Ui={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let o=n[r],s=r+1<n.length,l=s?n[r+1]:0,c=r+2<n.length,h=c?n[r+2]:0,p=o>>2,b=(o&3)<<4|l>>4,T=(l&15)<<2|h>>6,S=h&63;c||(S=64,s||(T=64)),i.push(t[p],t[b],t[T],t[S])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Fi(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Io(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let o=t[n.charAt(r++)],l=r<n.length?t[n.charAt(r)]:0;++r;let h=r<n.length?t[n.charAt(r)]:64;++r;let b=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||l==null||h==null||b==null)throw new sn;let T=o<<2|l>>4;if(i.push(T),h!==64){let S=l<<4&240|h>>2;if(i.push(S),b!==64){let G=h<<6&192|b;i.push(G)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},sn=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},bo=function(n){let e=Fi(n);return Ui.encodeByteArray(e,!0)},cn=function(n){return bo(n).replace(/\./g,"")},dt=function(n){try{return Ui.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Eo(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var wo=()=>Eo().__FIREBASE_DEFAULTS__,yo=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},To=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&dt(n[1]);return e&&JSON.parse(e)},ln=()=>{try{return Li()||wo()||yo()||To()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Vi=n=>{var e,t;return(t=(e=ln())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]};var dn=()=>{var n;return(n=ln())===null||n===void 0?void 0:n.config},un=n=>{var e;return(e=ln())===null||e===void 0?void 0:e[`_${n}`]};var lt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function O(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hi(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O())}function Wi(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ji(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function $i(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bi(){let n=O();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function zi(){try{return typeof indexedDB=="object"}catch{return!1}}function qi(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var Co="FirebaseError",U=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Co,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,K.prototype.create)}},K=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?So(o,i):"Error",l=`${this.serviceName}: ${s} (${r}).`;return new U(r,l,i)}};function So(n,e){return n.replace(ko,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var ko=/\{\$([^}]+)}/g;function Gi(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ie(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let o=n[r],s=e[r];if(Mi(o)&&Mi(s)){if(!ie(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function Mi(n){return n!==null&&typeof n=="object"}function Ce(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ki(n,e){let t=new an(n,e);return t.subscribe.bind(t)}var an=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");Ao(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=on),r.error===void 0&&(r.error=on),r.complete===void 0&&(r.complete=on);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Ao(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function on(){}var kl=4*60*60*1e3;function he(n){return n&&n._delegate?n._delegate:n}var B=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var fe="[DEFAULT]";var hn=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new lt;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ro(e))try{this.getOrInitializeService({instanceIdentifier:fe})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=fe){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return a(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=fe){return this.instances.has(e)}getOptions(e=fe){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[o,s]of this.instancesDeferred.entries()){let l=this.normalizeInstanceIdentifier(o);i===l&&s.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Po(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=fe){return this.component?this.component.multipleInstances?e:fe:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Po(n){return n===fe?void 0:n}function Ro(n){return n.instantiationMode==="EAGER"}var ut=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new hn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Oo=[],y=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(y||{}),No={debug:y.DEBUG,verbose:y.VERBOSE,info:y.INFO,warn:y.WARN,error:y.ERROR,silent:y.SILENT},xo=y.INFO,Do={[y.DEBUG]:"log",[y.VERBOSE]:"log",[y.INFO]:"info",[y.WARN]:"warn",[y.ERROR]:"error"},Lo=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=Do[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Se=class{constructor(e){this.name=e,this._logLevel=xo,this._logHandler=Lo,this._userLogHandler=null,Oo.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?No[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,y.DEBUG,...e),this._logHandler(this,y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,y.VERBOSE,...e),this._logHandler(this,y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,y.INFO,...e),this._logHandler(this,y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,y.WARN,...e),this._logHandler(this,y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,y.ERROR,...e),this._logHandler(this,y.ERROR,...e)}};var pn=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Mo(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function Mo(n){let e=n.getComponent();return e?.type==="VERSION"}var mn="@firebase/app",Ji="0.11.5";var J=new Se("@firebase/app"),Fo="@firebase/app-compat",Uo="@firebase/analytics-compat",Vo="@firebase/analytics",Ho="@firebase/app-check-compat",Wo="@firebase/app-check",jo="@firebase/auth",$o="@firebase/auth-compat",Bo="@firebase/database",zo="@firebase/data-connect",qo="@firebase/database-compat",Go="@firebase/functions",Ko="@firebase/functions-compat",Jo="@firebase/installations",Yo="@firebase/installations-compat",Xo="@firebase/messaging",Qo="@firebase/messaging-compat",Zo="@firebase/performance",es="@firebase/performance-compat",ts="@firebase/remote-config",ns="@firebase/remote-config-compat",is="@firebase/storage",rs="@firebase/storage-compat",os="@firebase/firestore",ss="@firebase/vertexai",as="@firebase/firestore-compat",cs="firebase",ls="11.6.1";var gn="[DEFAULT]",ds={[mn]:"fire-core",[Fo]:"fire-core-compat",[Vo]:"fire-analytics",[Uo]:"fire-analytics-compat",[Wo]:"fire-app-check",[Ho]:"fire-app-check-compat",[jo]:"fire-auth",[$o]:"fire-auth-compat",[Bo]:"fire-rtdb",[zo]:"fire-data-connect",[qo]:"fire-rtdb-compat",[Go]:"fire-fn",[Ko]:"fire-fn-compat",[Jo]:"fire-iid",[Yo]:"fire-iid-compat",[Xo]:"fire-fcm",[Qo]:"fire-fcm-compat",[Zo]:"fire-perf",[es]:"fire-perf-compat",[ts]:"fire-rc",[ns]:"fire-rc-compat",[is]:"fire-gcs",[rs]:"fire-gcs-compat",[os]:"fire-fst",[as]:"fire-fst-compat",[ss]:"fire-vertex","fire-js":"fire-js",[cs]:"fire-js-all"};var ht=new Map,us=new Map,_n=new Map;function Yi(n,e){try{n.container.addComponent(e)}catch(t){J.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ke(n){let e=n.name;if(_n.has(e))return J.debug(`There were multiple attempts to register component ${e}.`),!1;_n.set(e,n);for(let t of ht.values())Yi(t,n);for(let t of us.values())Yi(t,n);return!0}function En(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function V(n){return n==null?!1:n.settings!==void 0}var hs={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},re=new K("app","Firebase",hs);var vn=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new B("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw re.create("app-deleted",{appName:this._name})}};var Ae=ls;function wn(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:gn,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw re.create("bad-app-name",{appName:String(r)});if(t||(t=dn()),!t)throw re.create("no-options");let o=ht.get(r);if(o){if(ie(t,o.options)&&ie(i,o.config))return o;throw re.create("duplicate-app",{appName:r})}let s=new ut(r);for(let c of _n.values())s.addComponent(c);let l=new vn(t,i,s);return ht.set(r,l),l}function er(n=gn){let e=ht.get(n);if(!e&&n===gn&&dn())return wn();if(!e)throw re.create("no-app",{appName:n});return e}function oe(n,e,t){var i;let r=(i=ds[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let l=[`Unable to register library "${r}" with version "${e}":`];o&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),J.warn(l.join(" "));return}ke(new B(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var fs="firebase-heartbeat-database",ps=1,De="firebase-heartbeat-store",fn=null;function tr(){return fn||(fn=yi(fs,ps,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(De)}catch(t){console.warn(t)}}}}).catch(n=>{throw re.create("idb-open",{originalErrorMessage:n.message})})),fn}function ms(n){return a(this,null,function*(){try{let t=(yield tr()).transaction(De),i=yield t.objectStore(De).get(nr(n));return yield t.done,i}catch(e){if(e instanceof U)J.warn(e.message);else{let t=re.create("idb-get",{originalErrorMessage:e?.message});J.warn(t.message)}}})}function Xi(n,e){return a(this,null,function*(){try{let i=(yield tr()).transaction(De,"readwrite");yield i.objectStore(De).put(e,nr(n)),yield i.done}catch(t){if(t instanceof U)J.warn(t.message);else{let i=re.create("idb-set",{originalErrorMessage:t?.message});J.warn(i.message)}}})}function nr(n){return`${n.name}!${n.options.appId}`}var gs=1024,_s=30,In=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new bn(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return a(this,null,function*(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Qi();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>_s){let s=Is(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){J.warn(i)}})}getHeartbeatsHeader(){return a(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Qi(),{heartbeatsToSend:i,unsentEntries:r}=vs(this._heartbeatsCache.heartbeats),o=cn(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return J.warn(t),""}})}};function Qi(){return new Date().toISOString().substring(0,10)}function vs(n,e=gs){let t=[],i=n.slice();for(let r of n){let o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),Zi(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),Zi(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var bn=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return a(this,null,function*(){return zi()?qi().then(()=>!0).catch(()=>!1):!1})}read(){return a(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield ms(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return a(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Xi(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return a(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Xi(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function Zi(n){return cn(JSON.stringify({version:2,heartbeats:n})).length}function Is(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function bs(n){ke(new B("platform-logger",e=>new pn(e),"PRIVATE")),ke(new B("heartbeat",e=>new In(e),"PRIVATE")),oe(mn,Ji,n),oe(mn,Ji,"esm2017"),oe("fire-js","")}bs("");function _r(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var vr=_r,Ir=new K("auth","Firebase",_r());var vt=new Se("@firebase/auth");function Es(n,...e){vt.logLevel<=y.WARN&&vt.warn(`Auth (${Ae}): ${n}`,...e)}function pt(n,...e){vt.logLevel<=y.ERROR&&vt.error(`Auth (${Ae}): ${n}`,...e)}function q(n,...e){throw Hn(n,...e)}function H(n,...e){return Hn(n,...e)}function Vn(n,e,t){let i=Object.assign(Object.assign({},vr()),{[e]:t});return new K("auth","Firebase",i).create(e,{appName:n.name})}function pe(n){return Vn(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ws(n,e,t){let i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&q(n,"argument-error"),Vn(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hn(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Ir.create(n,...e)}function m(n,e,...t){if(!n)throw Hn(e,...t)}function Y(n){let e="INTERNAL ASSERTION FAILED: "+n;throw pt(e),new Error(e)}function Q(n,e){n||Y(e)}function Cn(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ys(){return ir()==="http:"||ir()==="https:"}function ir(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Ts(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ys()||ji()||"connection"in navigator)?navigator.onLine:!0}function Cs(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var me=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Q(t>e,"Short delay should be less than long delay!"),this.isMobile=Hi()||$i()}get(){return Ts()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Wn(n,e){Q(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var It=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Y("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Y("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Y("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Ss={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var ks=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],As=new me(3e4,6e4);function jn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Re(o,s,l,c){return a(this,arguments,function*(n,e,t,i,r={}){return br(n,r,()=>a(this,null,function*(){let h={},p={};i&&(e==="GET"?p=i:h={body:JSON.stringify(i)});let b=Ce(Object.assign({key:n.config.apiKey},p)).slice(1),T=yield n._getAdditionalHeaders();T["Content-Type"]="application/json",n.languageCode&&(T["X-Firebase-Locale"]=n.languageCode);let S=Object.assign({method:e,headers:T},h);return Wi()||(S.referrerPolicy="no-referrer"),It.fetch()(yield Er(n,n.config.apiHost,t,b),S)}))})}function br(n,e,t){return a(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},Ss),e);try{let r=new Sn(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw ft(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let l=o.ok?s.errorMessage:s.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ft(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw ft(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw ft(n,"user-disabled",s);let p=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Vn(n,p,h);q(n,p)}}catch(r){if(r instanceof U)throw r;q(n,"network-request-failed",{message:String(r)})}})}function Ps(o,s,l,c){return a(this,arguments,function*(n,e,t,i,r={}){let h=yield Re(n,e,t,i,r);return"mfaPendingCredential"in h&&q(n,"multi-factor-auth-required",{_serverResponse:h}),h})}function Er(n,e,t,i){return a(this,null,function*(){let r=`${e}${t}?${i}`,o=n,s=o.config.emulator?Wn(n.config,r):`${n.config.apiScheme}://${r}`;return ks.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var Sn=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(H(this.auth,"network-request-failed")),As.get())})}};function ft(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=H(n,e,i);return r.customData._tokenResponse=t,r}function Rs(n,e){return a(this,null,function*(){return Re(n,"POST","/v1/accounts:delete",e)})}function bt(n,e){return a(this,null,function*(){return Re(n,"POST","/v1/accounts:lookup",e)})}function Le(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function wr(n,e=!1){return a(this,null,function*(){let t=he(n),i=yield t.getIdToken(e),r=$n(i);m(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:Le(yn(r.auth_time)),issuedAtTime:Le(yn(r.iat)),expirationTime:Le(yn(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function yn(n){return Number(n)*1e3}function $n(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return pt("JWT malformed, contained fewer than 3 sections"),null;try{let r=dt(t);return r?JSON.parse(r):(pt("Failed to decode base64 JWT payload"),null)}catch(r){return pt("Caught error parsing JWT payload as JSON",r?.toString()),null}}function rr(n){let e=$n(n);return m(e,"internal-error"),m(typeof e.exp<"u","internal-error"),m(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Fe(n,e,t=!1){return a(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof U&&Os(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function Os({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var kn=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>a(this,null,function*(){yield this.iteration()}),t)}iteration(){return a(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ue=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Le(this.lastLoginAt),this.creationTime=Le(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Et(n){return a(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield Fe(n,bt(t,{idToken:i}));m(r?.users.length,t,"internal-error");let o=r.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Tr(o.providerUserInfo):[],l=Ns(n.providerData,s),c=n.isAnonymous,h=!(n.email&&o.passwordHash)&&!l?.length,p=c?h:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Ue(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,b)})}function yr(n){return a(this,null,function*(){let e=he(n);yield Et(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Ns(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function Tr(n){return n.map(e=>{var{providerId:t}=e,i=Be(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function xs(n,e){return a(this,null,function*(){let t=yield br(n,{},()=>a(this,null,function*(){let i=Ce({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=yield Er(n,r,"/v1/token",`key=${o}`),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",It.fetch()(s,{method:"POST",headers:l,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Ds(n,e){return a(this,null,function*(){return Re(n,"POST","/v2/accounts:revokeToken",jn(n,e))})}var Me=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){m(e.idToken,"internal-error"),m(typeof e.idToken<"u","internal-error"),m(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){m(e.length!==0,"internal-error");let t=rr(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return a(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(m(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return a(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield xs(e,t);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new n;return i&&(m(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(m(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(m(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Y("not implemented")}};function se(n,e){m(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ae=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=Be(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ue(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return a(this,null,function*(){let t=yield Fe(this,this.stsTokenManager.getToken(this.auth,e));return m(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return wr(this,e)}reload(){return yr(this)}_assign(e){this!==e&&(m(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){m(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return a(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Et(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return a(this,null,function*(){if(V(this.auth.app))return Promise.reject(pe(this.auth));let e=yield this.getIdToken();return yield Fe(this,Rs(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,l,c,h,p;let b=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(r=t.email)!==null&&r!==void 0?r:void 0,S=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,G=(s=t.photoURL)!==null&&s!==void 0?s:void 0,Z=(l=t.tenantId)!==null&&l!==void 0?l:void 0,L=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,Oe=(h=t.createdAt)!==null&&h!==void 0?h:void 0,_e=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:k,emailVerified:M,isAnonymous:j,providerData:Ht,stsTokenManager:ni}=t;m(k&&ni,e,"internal-error");let po=Me.fromJSON(this.name,ni);m(typeof k=="string",e,"internal-error"),se(b,e.name),se(T,e.name),m(typeof M=="boolean",e,"internal-error"),m(typeof j=="boolean",e,"internal-error"),se(S,e.name),se(G,e.name),se(Z,e.name),se(L,e.name),se(Oe,e.name),se(_e,e.name);let Wt=new n({uid:k,auth:e,email:T,emailVerified:M,displayName:b,isAnonymous:j,photoURL:G,phoneNumber:S,tenantId:Z,stsTokenManager:po,createdAt:Oe,lastLoginAt:_e});return Ht&&Array.isArray(Ht)&&(Wt.providerData=Ht.map(mo=>Object.assign({},mo))),L&&(Wt._redirectEventId=L),Wt}static _fromIdTokenResponse(e,t,i=!1){return a(this,null,function*(){let r=new Me;r.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Et(o),o})}static _fromGetAccountInfoResponse(e,t,i){return a(this,null,function*(){let r=t.users[0];m(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?Tr(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,l=new Me;l.updateFromIdToken(i);let c=new n({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:s}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Ue(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(c,h),c})}};var or=new Map;function X(n){Q(n instanceof Function,"Expected a class definition");let e=or.get(n);return e?(Q(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,or.set(n,e),e)}var Ls=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return a(this,null,function*(){return!0})}_set(t,i){return a(this,null,function*(){this.storage[t]=i})}_get(t){return a(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return a(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),An=Ls;function mt(n,e,t){return`firebase:${n}:${e}:${t}`}var wt=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=mt(this.userKey,r.apiKey,o),this.fullPersistenceKey=mt("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return a(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield bt(this.auth,{idToken:e}).catch(()=>{});return t?ae._fromGetAccountInfoResponse(this.auth,t,e):null}return ae._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return a(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return a(this,null,function*(){if(!t.length)return new n(X(An),e,i);let r=(yield Promise.all(t.map(h=>a(this,null,function*(){if(yield h._isAvailable())return h})))).filter(h=>h),o=r[0]||X(An),s=mt(i,e.config.apiKey,e.name),l=null;for(let h of t)try{let p=yield h._get(s);if(p){let b;if(typeof p=="string"){let T=yield bt(e,{idToken:p}).catch(()=>{});if(!T)break;b=yield ae._fromGetAccountInfoResponse(e,T,p)}else b=ae._fromJSON(e,p);h!==o&&(l=b),o=h;break}}catch{}let c=r.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,i):(o=c[0],l&&(yield o._set(s,l.toJSON())),yield Promise.all(t.map(h=>a(this,null,function*(){if(h!==o)try{yield h._remove(s)}catch{}}))),new n(o,e,i))})}};function sr(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ar(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Cr(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rr(e))return"Blackberry";if(Or(e))return"Webos";if(Sr(e))return"Safari";if((e.includes("chrome/")||kr(e))&&!e.includes("edge/"))return"Chrome";if(Pr(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function Cr(n=O()){return/firefox\//i.test(n)}function Sr(n=O()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kr(n=O()){return/crios\//i.test(n)}function Ar(n=O()){return/iemobile/i.test(n)}function Pr(n=O()){return/android/i.test(n)}function Rr(n=O()){return/blackberry/i.test(n)}function Or(n=O()){return/webos/i.test(n)}function Bn(n=O()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Ms(n=O()){var e;return Bn(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Fs(){return Bi()&&document.documentMode===10}function Nr(n=O()){return Bn(n)||Pr(n)||Or(n)||Rr(n)||/windows phone/i.test(n)||Ar(n)}function xr(n,e=[]){let t;switch(n){case"Browser":t=sr(O());break;case"Worker":t=`${sr(O())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ae}/${i}`}var Pn=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=o=>new Promise((s,l)=>{try{let c=e(o);s(c)}catch(c){l(c)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return a(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function Us(t){return a(this,arguments,function*(n,e={}){return Re(n,"GET","/v2/passwordPolicy",jn(n,e))})}var Vs=6,Rn=class{constructor(e){var t,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:Vs,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,o,s,l;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var On=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yt(this),this.idTokenSubscription=new yt(this),this.beforeStateQueue=new Pn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ir,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=X(t)),this._initializationPromise=this.queue(()=>a(this,null,function*(){var i,r,o;if(!this._deleted&&(this.persistenceManager=yield wt.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return a(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return a(this,null,function*(){try{let t=yield bt(this,{idToken:e}),i=yield ae._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return a(this,null,function*(){var t;if(V(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,l=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===l)&&c?.user&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return m(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return a(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return a(this,null,function*(){try{yield Et(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Cs()}_delete(){return a(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return a(this,null,function*(){if(V(this.app))return Promise.reject(pe(this));let t=e?he(e):null;return t&&m(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return a(this,null,function*(){if(!this._deleted)return e&&m(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>a(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return a(this,null,function*(){return V(this.app)?Promise.reject(pe(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return V(this.app)?Promise.reject(pe(this)):this.queue(()=>a(this,null,function*(){yield this.assertedPersistence.setPersistence(X(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return a(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return a(this,null,function*(){let e=yield Us(this),t=new Rn(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new K("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return a(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield Ds(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return a(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return a(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&X(e)||this._popupRedirectResolver;m(t,this,"argument-error"),this.redirectPersistenceManager=yield wt.create(this,[X(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return a(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>a(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return a(this,null,function*(){if(e===this.currentUser)return this.queue(()=>a(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,l=this._isInitialized?Promise.resolve():this._initializationPromise;if(m(l,this,"internal-error"),l.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,i,r);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return a(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return m(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return a(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return a(this,null,function*(){var e;if(V(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&Es(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Ot(n){return he(n)}var yt=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ki(t=>this.observer=t)}get next(){return m(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var zn={loadJS(){return a(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hs(n){zn=n}function Ws(n){return zn.loadJS(n)}function js(){return zn.gapiScript}function Dr(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Lr(n,e){let t=En(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),o=t.getOptions();if(ie(o,e??{}))return r;q(r,"already-initialized")}return t.initialize({options:e})}function $s(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(X);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function Mr(n,e,t){let i=Ot(n);m(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,o=Fr(e),{host:s,port:l}=Bs(e),c=l===null?"":`:${l}`,h={url:`${o}//${s}${c}/`},p=Object.freeze({host:s,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){m(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),m(ie(h,i.config.emulator)&&ie(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,r||zs()}function Fr(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Bs(n){let e=Fr(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:ar(i.substr(o.length+1))}}else{let[o,s]=i.split(":");return{host:o,port:ar(s)}}}function ar(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function zs(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Ve=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Y("not implemented")}_getIdTokenResponse(e){return Y("not implemented")}_linkToIdToken(e,t){return Y("not implemented")}_getReauthenticationResolver(e){return Y("not implemented")}};function Pe(n,e){return a(this,null,function*(){return Ps(n,"POST","/v1/accounts:signInWithIdp",jn(n,e))})}var qs="http://localhost",Tt=class n extends Ve{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):q("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,o=Be(t,["providerId","signInMethod"]);if(!i||!r)return null;let s=new n(i,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return Pe(e,t)}_linkToIdToken(e,t){let i=this.buildRequest();return i.idToken=t,Pe(e,i)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Pe(e,t)}buildRequest(){let e={requestUri:qs,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ce(t)}return e}};var He=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ct=class extends He{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Nt=(()=>{class n extends Ct{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Tt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return n.credential(i,r)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();var We=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return a(this,null,function*(){let o=yield ae._fromIdTokenResponse(e,i,r),s=cr(i);return new n({user:o,providerId:s,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return a(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=cr(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function cr(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Nn=class n extends U{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function Ur(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Nn._fromErrorAndOperation(n,o,e,i):o})}function Gs(n,e,t=!1){return a(this,null,function*(){let i=yield Fe(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return We._forOperation(n,"link",i)})}function Ks(n,e,t=!1){return a(this,null,function*(){let{auth:i}=n;if(V(i.app))return Promise.reject(pe(i));let r="reauthenticate";try{let o=yield Fe(n,Ur(i,r,e,n),t);m(o.idToken,i,"internal-error");let s=$n(o.idToken);m(s,i,"internal-error");let{sub:l}=s;return m(n.uid===l,i,"user-mismatch"),We._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&q(i,"user-mismatch"),o}})}function Js(n,e,t=!1){return a(this,null,function*(){if(V(n.app))return Promise.reject(pe(n));let i="signIn",r=yield Ur(n,i,e),o=yield We._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(o.user)),o})}function Vr(n,e,t,i){return he(n).onIdTokenChanged(e,t,i)}function Hr(n,e,t){return he(n).beforeAuthStateChanged(e,t)}var St="__sak";var kt=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(St,"1"),this.storage.removeItem(St),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Ys=1e3,Xs=10,Qs=(()=>{class n extends kt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nr(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}let r=t.key;i?this.detachListener():this.stopPolling();let o=()=>{let l=this.storage.getItem(r);!i&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);Fs()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Xs):o()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},Ys)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return a(this,null,function*(){yield le(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return a(this,null,function*(){let i=yield le(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return a(this,null,function*(){yield le(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Wr=Qs;var Zs=(()=>{class n extends kt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),qn=Zs;function ea(n){return Promise.all(n.map(e=>a(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var ta=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return a(this,null,function*(){let i=t,{eventId:r,eventType:o,data:s}=i.data,l=this.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let c=Array.from(l).map(p=>a(this,null,function*(){return p(i.origin,s)})),h=yield ea(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:h})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Gn(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var xn=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return a(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((l,c)=>{let h=Gn("",20);r.port1.start();let p=setTimeout(()=>{c(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(b){let T=b;if(T.data.eventId===h)switch(T.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(T.data.response);break;default:clearTimeout(p),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function z(){return window}function na(n){z().location.href=n}function jr(){return typeof z().WorkerGlobalScope<"u"&&typeof z().importScripts=="function"}function ia(){return a(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function ra(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function oa(){return jr()?self:null}var $r="firebaseLocalStorageDb",sa=1,At="firebaseLocalStorage",Br="fbase_key",ge=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function xt(n,e){return n.transaction([At],e?"readwrite":"readonly").objectStore(At)}function aa(){let n=indexedDB.deleteDatabase($r);return new ge(n).toPromise()}function Dn(){let n=indexedDB.open($r,sa);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(At,{keyPath:Br})}catch(r){t(r)}}),n.addEventListener("success",()=>a(this,null,function*(){let i=n.result;i.objectStoreNames.contains(At)?e(i):(i.close(),yield aa(),e(yield Dn()))}))})}function lr(n,e,t){return a(this,null,function*(){let i=xt(n,!0).put({[Br]:e,value:t});return new ge(i).toPromise()})}function ca(n,e){return a(this,null,function*(){let t=xt(n,!1).get(e),i=yield new ge(t).toPromise();return i===void 0?null:i.value})}function dr(n,e){let t=xt(n,!0).delete(e);return new ge(t).toPromise()}var la=800,da=3,ua=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return a(this,null,function*(){return this.db?this.db:(this.db=yield Dn(),this.db)})}_withRetries(t){return a(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>da)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return a(this,null,function*(){return jr()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return a(this,null,function*(){this.receiver=ta._getInstance(oa()),this.receiver._subscribe("keyChanged",(t,i)=>a(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>a(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return a(this,null,function*(){var t,i;if(this.activeServiceWorker=yield ia(),!this.activeServiceWorker)return;this.sender=new xn(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return a(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||ra()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return a(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Dn();return yield lr(t,St,"1"),yield dr(t,St),!0}catch{}return!1})}_withPendingWrite(t){return a(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return a(this,null,function*(){return this._withPendingWrite(()=>a(this,null,function*(){return yield this._withRetries(r=>lr(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return a(this,null,function*(){let i=yield this._withRetries(r=>ca(r,t));return this.localCache[t]=i,i})}_remove(t){return a(this,null,function*(){return this._withPendingWrite(()=>a(this,null,function*(){return yield this._withRetries(i=>dr(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return a(this,null,function*(){let t=yield this._withRetries(o=>{let s=xt(o,!1).getAll();return new ge(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>a(this,null,function*(){return this._poll()}),la)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),zr=ua;var Xl=Dr("rcb"),Ql=new me(3e4,6e4);function qr(n,e){return e?X(e):(m(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var je=class extends Ve{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pe(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Pe(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Pe(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function ha(n){return Js(n.auth,new je(n),n.bypassAuthState)}function fa(n){let{auth:e,user:t}=n;return m(t,e,"internal-error"),Ks(t,new je(n),n.bypassAuthState)}function pa(n){return a(this,null,function*(){let{auth:e,user:t}=n;return m(t,e,"internal-error"),Gs(t,new je(n),n.bypassAuthState)})}var Pt=class{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>a(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return a(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:o,error:s,type:l}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(l)(c))}catch(h){this.reject(h)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ha;case"linkViaPopup":case"linkViaRedirect":return pa;case"reauthViaPopup":case"reauthViaRedirect":return fa;default:q(this.auth,"internal-error")}}resolve(e){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var ma=new me(2e3,1e4);function Dt(n,e,t){return a(this,null,function*(){if(V(n.app))return Promise.reject(H(n,"operation-not-supported-in-this-environment"));let i=Ot(n);ws(n,e,He);let r=qr(i,t);return new ga(i,"signInViaPopup",e,r).executeNotNull()})}var ga=(()=>{class n extends Pt{constructor(t,i,r,o,s){super(t,i,o,s),this.provider=r,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return a(this,null,function*(){let t=yield this.execute();return m(t,this.auth,"internal-error"),t})}onExecution(){return a(this,null,function*(){Q(this.filter.length===1,"Popup operations only handle one event");let t=Gn();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(H(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(H(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(H(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ma.get())};t()}}n.currentPopupAction=null;return n})(),_a="pendingRedirect",gt=new Map,Ln=class n extends Pt{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return a(this,null,function*(){let e=gt.get(this.auth._key());if(!e){try{let i=(yield va(this.resolver,this.auth))?yield le(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}gt.set(this.auth._key(),e)}return this.bypassAuthState||gt.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return a(this,null,function*(){if(e.type==="signInViaRedirect")return le(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,le(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return a(this,null,function*(){})}cleanUp(){}};function va(n,e){return a(this,null,function*(){let t=Ea(e),i=ba(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function Ia(n,e){gt.set(n._key(),e)}function ba(n){return X(n._redirectPersistence)}function Ea(n){return mt(_a,n.config.apiKey,n.name)}function wa(n,e,t=!1){return a(this,null,function*(){if(V(n.app))return Promise.reject(pe(n));let i=Ot(n),r=qr(i,e),s=yield new Ln(i,r,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})}var ya=10*60*1e3,Mn=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ta(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Gr(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(H(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ya&&this.cachedEventUids.clear(),this.cachedEventUids.has(ur(e))}saveEventToCache(e){this.cachedEventUids.add(ur(e)),this.lastProcessedEventTime=Date.now()}};function ur(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Gr({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Ta(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gr(n);default:return!1}}function Ca(t){return a(this,arguments,function*(n,e={}){return Re(n,"GET","/v1/projects",e)})}var Sa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ka=/^https?/;function Aa(n){return a(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield Ca(n);for(let t of e)try{if(Pa(t))return}catch{}q(n,"unauthorized-domain")})}function Pa(n){let e=Cn(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===i}if(!ka.test(t))return!1;if(Sa.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var Ra=new me(3e4,6e4);function hr(){let n=z().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Oa(n){return new Promise((e,t)=>{var i,r,o;function s(){hr(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hr(),t(H(n,"network-request-failed"))},timeout:Ra.get()})}if(!((r=(i=z().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=z().gapi)===null||o===void 0)&&o.load)s();else{let l=Dr("iframefcb");return z()[l]=()=>{gapi.load?s():t(H(n,"network-request-failed"))},Ws(`${js()}?onload=${l}`).catch(c=>t(c))}}).catch(e=>{throw _t=null,e})}var _t=null;function Na(n){return _t=_t||Oa(n),_t}var xa=new me(5e3,15e3),Da="__/auth/iframe",La="emulator/auth/iframe",Ma={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ua(n){let e=n.config;m(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Wn(e,La):`https://${n.config.authDomain}/${Da}`,i={apiKey:e.apiKey,appName:n.name,v:Ae},r=Fa.get(n.config.apiHost);r&&(i.eid=r);let o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Ce(i).slice(1)}`}function Va(n){return a(this,null,function*(){let e=yield Na(n),t=z().gapi;return m(t,n,"internal-error"),e.open({where:document.body,url:Ua(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ma,dontclear:!0},i=>new Promise((r,o)=>a(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let s=H(n,"network-request-failed"),l=z().setTimeout(()=>{o(s)},xa.get());function c(){z().clearTimeout(l),r(i)}i.ping(c).then(c,()=>{o(s)})})))})}var Ha={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Wa=500,ja=600,$a="_blank",Ba="http://localhost",Rt=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function za(n,e,t,i=Wa,r=ja){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),l="",c=Object.assign(Object.assign({},Ha),{width:i.toString(),height:r.toString(),top:o,left:s}),h=O().toLowerCase();t&&(l=kr(h)?$a:t),Cr(h)&&(e=e||Ba,c.scrollbars="yes");let p=Object.entries(c).reduce((T,[S,G])=>`${T}${S}=${G},`,"");if(Ms(h)&&l!=="_self")return qa(e||"",l),new Rt(null);let b=window.open(e||"",l,p);m(b,n,"popup-blocked");try{b.focus()}catch{}return new Rt(b)}function qa(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var Ga="__/auth/handler",Ka="emulator/auth/handler",Ja=encodeURIComponent("fac");function fr(n,e,t,i,r,o){return a(this,null,function*(){m(n.config.authDomain,n,"auth-domain-config-required"),m(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ae,eventId:r};if(e instanceof He){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",Gi(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,b]of Object.entries(o||{}))s[p]=b}if(e instanceof Ct){let p=e.getScopes().filter(b=>b!=="");p.length>0&&(s.scopes=p.join(","))}n.tenantId&&(s.tid=n.tenantId);let l=s;for(let p of Object.keys(l))l[p]===void 0&&delete l[p];let c=yield n._getAppCheckToken(),h=c?`#${Ja}=${encodeURIComponent(c)}`:"";return`${Ya(n)}?${Ce(l).slice(1)}${h}`})}function Ya({config:n}){return n.emulator?Wn(n,Ka):`https://${n.authDomain}/${Ga}`}var Tn="webStorageSupport",Fn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qn,this._completeRedirectFn=wa,this._overrideRedirectResult=Ia}_openPopup(e,t,i,r){return a(this,null,function*(){var o;Q((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield fr(e,t,i,Cn(),r);return za(e,s,Gn())})}_openRedirect(e,t,i,r){return a(this,null,function*(){yield this._originValidation(e);let o=yield fr(e,t,i,Cn(),r);return na(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(Q(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return a(this,null,function*(){let t=yield Va(e),i=new Mn(e);return t.register("authEvent",r=>(m(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Tn,{type:Tn},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[Tn];s!==void 0&&t(!!s),q(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Aa(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Nr()||Sr()||Bn()}},Lt=Fn;var pr="@firebase/auth",mr="1.10.1";var Un=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return a(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){m(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Xa(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Qa(n){ke(new B("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=i.options;m(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:s,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xr(n)},h=new On(i,r,o,c);return $s(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ke(new B("auth-internal",e=>{let t=Ot(e.getProvider("auth").getImmediate());return(i=>new Un(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),oe(pr,mr,Xa(n)),oe(pr,mr,"esm2017")}var Za=5*60,ec=un("authIdTokenMaxAge")||Za,gr=null,tc=n=>e=>a(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>ec)return;let r=t?.token;gr!==r&&(gr=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Kn(n=er()){let e=En(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Lr(n,{popupRedirectResolver:Lt,persistence:[zr,Wr,qn]}),i=un("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(i,location.origin);if(location.origin===o.origin){let s=tc(o.toString());Hr(t,s,()=>s(t.currentUser)),Vr(t,l=>s(l))}}let r=Vi("auth");return r&&Mr(t,`http://${r}`),t}function nc(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Hs({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let o=H("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",nc().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Qa("Browser");var ic="firebase",rc="11.6.1";oe(ic,rc,"app");var dc=(n,e)=>[n,e];function uc(n,e){n&1&&(u(0,"p",36),f(1," Inserisci un formato tipo : 'nome@cognome.it' "),d())}function hc(n,e){n&1&&(u(0,"p",36),f(1," Inserisci un valore di almeno 8 caratteri. "),d())}function fc(n,e){n&1&&(u(0,"p",37),f(1,"Inserisci qui sotto il codice inviato per mail"),d())}function pc(n,e){if(n&1){let t=D();u(0,"p",38),f(1,"Il codice che ti abbiamo inviato non \xE8 pi\xF9 valido, "),u(2,"span")(3,"button",39),I("click",function(){E(t);let r=v(2);return w(r.login())}),f(4,"Richiedine un altro"),d()()()}}function mc(n,e){if(n&1){let t=D();u(0,"form",40)(1,"div",41)(2,"input",42),I("input",function(){E(t);let r=v(2);return w(r.updateCodeForm())}),d(),u(3,"input",43),I("input",function(){E(t);let r=v(2);return w(r.updateCodeForm())}),d(),u(4,"input",44),I("input",function(){E(t);let r=v(2);return w(r.updateCodeForm())}),d()(),u(5,"div",41)(6,"input",45),I("input",function(){E(t);let r=v(2);return w(r.updateCodeForm())}),d(),u(7,"input",46),I("input",function(){E(t);let r=v(2);return w(r.updateCodeForm())}),d(),u(8,"input",47),I("input",function(){E(t);let r=v(2);return w(r.updateCodeForm())}),d()()()}if(n&2){let t=v(2);_("formGroup",t.codeForm)}}function gc(n,e){if(n&1){let t=D();u(0,"button",48),I("click",function(){E(t);let r=v(2);return w(r.validateCode())}),f(1,"Valida profilo"),d()}}function _c(n,e){if(n&1){let t=D();u(0,"div",19)(1,"form",20)(2,"label",21),f(3,"Inserisci la tua email"),d(),u(4,"input",22),I("input",function(){E(t);let r=v();return w(r.codeDeleted=!1)}),d(),P(5,uc,2,0,"p",23),u(6,"label",24),f(7,"Inserisci la password"),d(),u(8,"input",25),I("input",function(){E(t);let r=v();return w(r.codeDeleted=!1)}),d(),P(9,hc,2,0,"p",23),u(10,"button",26),I("click",function(){E(t);let r=v();return w(r.login())}),f(11,"Login"),d(),u(12,"div",27)(13,"p"),f(14,"OR"),d(),A(15,"hr"),u(16,"div",28)(17,"p",29),f(18,"Accedi con "),d(),u(19,"button",30),I("click",function(){E(t);let r=v();return w(r.signInWithGoogle())}),A(20,"img",31),d()()(),P(21,fc,2,0,"p",32)(22,pc,5,0,"p",33),d(),P(23,mc,9,1,"form",34)(24,gc,2,0,"button",35),d()}if(n&2){let t=v();_("ngClass",t.mode=="light"?"bg-light text-dark":"bg-dark text-light"),g(),_("formGroup",t.loginForm),g(4),_("ngIf",t.isLoginFormSubmitted&&t.loginForm.controls.email.invalid),g(4),_("ngIf",t.isLoginFormSubmitted&&t.loginForm.controls.password.invalid),g(12),_("ngIf",t.showInsertCode),g(),_("ngIf",t.codeDeleted),g(),_("ngIf",t.showInsertCode),g(),_("ngIf",t.showInsertCode)}}function vc(n,e){n&1&&A(0,"app-spinner",49),n&2&&_("width",150)("height",150)("baseColor","green")}function Ic(n,e){n&1&&A(0,"div",50)(1,"div",51)(2,"div",52)(3,"div",53)}var Mt=class n{constructor(e,t,i,r,o,s,l){this.toastr=e;this.router=t;this.modeService=i;this.formsService=r;this.authService=o;this.authGuard=s;this.errorService=l;this.modeService.mode.subscribe(c=>{c&&(this.mode=c)}),this.errorService.showSpinner.subscribe(c=>{this.showSpinner=c}),this.formsService.requestLoginCode.subscribe(c=>{c=="Abbiamo inviato un codice alla mail da te indicata. Inseriscilo qui sotto."?(this.previousEmail=this.loginForm.get("email")?.value,this.showInsertCode=!0,clearTimeout(this.interval),this.interval=setTimeout(()=>{this.showInsertCode=!1,this.formsService.clearCode(this.loginForm.get("email")?.value).subscribe({next:h=>{this.codeDeleted=!0}}),console.log("timed out")},12e4)):this.showInsertCode=!1})}loginForm=new F({});isLoginFormSubmitted=!1;isOpen=!1;canMoveMenu=!1;mode="light";showSpinner=!1;showInsertCode=!1;previousEmail="";interval=setTimeout(()=>{});codeDeleted=!1;codeForm=new F({});ngOnInit(){this.loginForm=new F({email:new N("",[C.required,C.pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/)]),password:new N("",[C.required,C.minLength(8)])}),this.codeForm=new F({firstLetter:new N("",[C.required,C.maxLength(1)]),secondLetter:new N("",[C.required,C.maxLength(1)]),thirdLetter:new N("",[C.required,C.maxLength(1)]),fourthLetter:new N("",[C.required,C.maxLength(1)]),fifthLetter:new N("",[C.required,C.maxLength(1)]),sixthLetter:new N("",[C.required,C.maxLength(1)])}),this.codeForm.disable(),this.codeForm.get("firstLetter")?.enable(),this.codeForm.updateValueAndValidity(),this.authGuard.isAuthenticated&&(this.authService.setToken(""),this.authService.setUser(null),this.authService.authenticateUser(!1),localStorage.clear(),this.toastr.show("Logout avvenuto con successo.")),this.onResize()}login(){this.isLoginFormSubmitted=!0,this.codeDeleted=!1,this.showInsertCode&&this.previousEmail==this.loginForm.get("email")?.value?this.toastr.show("Ti abbiamo gi\xE0 mandato un codice per mail, inseriscilo qui. E' valido per 2 minuti."):this.loginForm.get("email").valid&&this.loginForm.get("password").valid?(this.showInsertCode=!1,this.showSpinner=!0,this.formsService.logIn({email:this.loginForm.controls.email.value,password:this.loginForm.controls.password.value}).subscribe({next:e=>{e&&setTimeout(()=>{this.showSpinner=!1,this.toastr.show("Login effettuato."),this.authService.setToken(e?.token?.accessToken),localStorage.setItem("refreshToken",e?.token?.refreshToken),localStorage.setItem("accessToken",e?.token?.accessToken),this.authService.setUser(e.user),this.authService.authenticateUser(!0),this.router.navigate(["lobby"])},1e3)}})):this.toastr.error("Completa correttamente il form!")}toggleMenu(e){this.isOpen=e}switchRoute(e){e=="forms"?this.router.navigate(["forms"]):this.router.navigate(["forms/signup"])}onResize(){if(window.innerWidth<630)for(let e=1;e<=4;e++){let t=document.getElementsByClassName(`box-${e}`)[0];t&&(t.style.visibility="hidden")}else for(let e=1;e<=4;e++){let t=document.getElementsByClassName(`box-${e}`)[0];t&&(t.style.visibility="visible")}}ngOnDestroy(){clearTimeout(this.interval)}validateCode(){if(this.codeForm.valid){let e=this.codeForm.get("firstLetter")?.value+this.codeForm.get("secondLetter")?.value+this.codeForm.get("thirdLetter")?.value+this.codeForm.get("fourthLetter")?.value+this.codeForm.get("fifthLetter")?.value+this.codeForm.get("sixthLetter")?.value;this.formsService.verifyCode(this.loginForm.get("email")?.value,e,!0).subscribe({next:t=>{t&&(this.previousEmail="",this.showInsertCode=!1,this.login())}})}else this.toastr.error("Inserisci il codice prima.")}updateCodeForm(){if(this.codeForm.get("firstLetter")?.value==""?(this.codeForm.disable(),this.codeForm.reset(),this.codeForm.get("firstLetter")?.enable()):this.codeForm.get("firstLetter")?.value.length>0&&(this.codeForm.get("secondLetter")?.enable(),this.codeForm.get("firstLetter")?.value.length>1&&this.codeForm.get("firstLetter")?.setValue(this.codeForm.get("firstLetter")?.value.substring(0,1))),this.codeForm.get("secondLetter")?.value==""){let e=this.codeForm.get("firstLetter")?.value;this.codeForm.disable(),this.codeForm.reset(),this.codeForm.get("firstLetter")?.enable(),this.codeForm.get("secondLetter")?.enable(),this.codeForm.get("firstLetter")?.setValue(e)}else this.codeForm.get("secondLetter")?.value.length>0&&(this.codeForm.get("thirdLetter")?.enable(),this.codeForm.get("secondLetter")?.value.length>1&&this.codeForm.get("secondLetter")?.setValue(this.codeForm.get("secondLetter")?.value.substring(0,1)));if(this.codeForm.get("thirdLetter")?.value==""){let e=this.codeForm.get("firstLetter")?.value,t=this.codeForm.get("secondLetter")?.value;this.codeForm.disable(),this.codeForm.reset(),this.codeForm.get("firstLetter")?.enable(),this.codeForm.get("secondLetter")?.enable(),this.codeForm.get("thirdLetter")?.enable(),this.codeForm.get("firstLetter")?.setValue(e),this.codeForm.get("secondLetter")?.setValue(t)}else this.codeForm.get("thirdLetter")?.value.length>0&&(this.codeForm.get("fourthLetter")?.enable(),this.codeForm.get("thirdLetter")?.value.length>1&&this.codeForm.get("thirdLetter")?.setValue(this.codeForm.get("thirdLetter")?.value.substring(0,1)));if(this.codeForm.get("fourthLetter")?.value==""){let e=this.codeForm.get("firstLetter")?.value,t=this.codeForm.get("secondLetter")?.value,i=this.codeForm.get("thirdLetter")?.value;this.codeForm.disable(),this.codeForm.reset(),this.codeForm.get("firstLetter")?.enable(),this.codeForm.get("secondLetter")?.enable(),this.codeForm.get("thirdLetter")?.enable(),this.codeForm.get("fourthLetter")?.enable(),this.codeForm.get("firstLetter")?.setValue(e),this.codeForm.get("secondLetter")?.setValue(t),this.codeForm.get("thirdLetter")?.setValue(i)}else this.codeForm.get("fourthLetter")?.value.length>0&&(this.codeForm.get("fifthLetter")?.enable(),this.codeForm.get("fourthLetter")?.value.length>1&&this.codeForm.get("fourthLetter")?.setValue(this.codeForm.get("fourthLetter")?.value.substring(0,1)));if(this.codeForm.get("fifthLetter")?.value==""){let e=this.codeForm.get("firstLetter")?.value,t=this.codeForm.get("secondLetter")?.value,i=this.codeForm.get("thirdLetter")?.value,r=this.codeForm.get("fourthLetter")?.value;this.codeForm.disable(),this.codeForm.reset(),this.codeForm.get("firstLetter")?.enable(),this.codeForm.get("secondLetter")?.enable(),this.codeForm.get("thirdLetter")?.enable(),this.codeForm.get("fourthLetter")?.enable(),this.codeForm.get("fifthLetter")?.enable(),this.codeForm.get("firstLetter")?.setValue(e),this.codeForm.get("secondLetter")?.setValue(t),this.codeForm.get("thirdLetter")?.setValue(i),this.codeForm.get("fourthLetter")?.setValue(r)}else this.codeForm.get("fifthLetter")?.value.length>0&&(this.codeForm.get("sixthLetter")?.enable(),this.codeForm.get("fifthLetter")?.value.length>1&&this.codeForm.get("fifthLetter")?.setValue(this.codeForm.get("fifthLetter")?.value.substring(0,1)));this.codeForm.get("sixthLetter")?.value.length>1&&this.codeForm.get("sixthLetter")?.setValue(this.codeForm.get("sixthLetter")?.value.substring(0,1)),this.codeForm.updateValueAndValidity()}ngAfterViewInit(){}router1=ci(te);loginWithGoogle(){return a(this,null,function*(){try{let e=new Nt;yield Dt(this.auth,e,Lt).then(t=>{let i=t?.user.displayName,r=t?.user.email,o=t?.user.photoURL;console.log(i,r,o)})}catch(e){console.log(e)}})}app=wn(Oi);auth=Kn(this.app);provider=new Nt;signInWithGoogle(){return a(this,null,function*(){try{let t=(yield Dt(this.auth,this.provider)).user;t&&t.emailVerified==!0&&console.log("Let's authenticate!",t)}catch(e){let t=e.code,i=e.message;t==="auth/network-request-failed"?this.toastr.warning("C'\xE8 stato un problema di rete. Per favore verifica la tua connessione."):this.toastr.error("Si \xE8 verificato il seguente errore : "+i)}})}static \u0275fac=function(t){return new(t||n)(R(Xe),R(te),R(ye),R(ot),R(_i),R(gi),R(st))};static \u0275cmp=ee({type:n,selectors:[["app-login"]],hostBindings:function(t,i){t&1&&I("resize",function(o){return i.onResize(o)},!1,be)},decls:30,vars:12,consts:[["boxes",""],[1,"w-100",3,"ngClass"],[1,"container","text-center","py-5"],[1,"row","py-5"],[1,"col-md-12","d-flex","justify-content-end"],[1,"w-auto","text-center"],[1,"btn",3,"click"],[1,"bi","bi-list","h2"],[1,"menu","text-center","overflow-hidden",3,"ngClass"],[1,"btn",3,"click","ngClass"],[1,"col-md-12"],[1,"col-lg-6"],[1,"row"],[1,"col-md-12","py-5"],[1,"col-md-12","text-center"],[1,"fs-4"],[1,"col-lg-6","py-5","my-5","position-relative","d-flex","justify-content-center","align-items-center"],["class","p-3 login-form m-auto py-5 border rounded w-75",3,"ngClass",4,"ngIf"],[3,"width","height","baseColor",4,"ngIf","ngIfElse"],[1,"p-3","login-form","m-auto","py-5","border","rounded","w-75",3,"ngClass"],[3,"formGroup"],["for","email",1,"py-3"],["type","email","name","email","id","email","formControlName","email",1,"form-control",3,"input"],["class","text-danger",4,"ngIf"],["for","password",1,"py-3"],["type","password","name","password","id","password","formControlName","password",1,"form-control",3,"input"],["type","button",1,"btn","my-3","btn-warning","border",3,"click"],[1,"text-center","p-3"],["id","buttonDiv",1,"text-center"],[1,"py-3"],["type","button",1,"btn","btn-light",3,"click"],["src","assets/forms/login/google.svg","alt","google_icon"],["class","fs-4 py-3",4,"ngIf"],["class","fs-4 py-3 text-danger",4,"ngIf"],["class","row",3,"formGroup",4,"ngIf"],["type","button","class","btn btn-outline-light text-dark m-2",3,"click",4,"ngIf"],[1,"text-danger"],[1,"fs-4","py-3"],[1,"fs-4","py-3","text-danger"],[1,"btn","btn-outline-danger",3,"click"],[1,"row",3,"formGroup"],[1,"col-md-6","d-flex"],["type","text","formControlName","firstLetter",1,"form-control","m-1","secret-code",3,"input"],["type","text","formControlName","secondLetter",1,"form-control","m-1","secret-code",3,"input"],["type","text","formControlName","thirdLetter",1,"form-control","m-1","secret-code",3,"input"],["type","text","formControlName","fourthLetter",1,"form-control","m-1","secret-code",3,"input"],["type","text","formControlName","fifthLetter",1,"form-control","m-1","secret-code",3,"input"],["type","text","formControlName","sixthLetter",1,"form-control","m-1","secret-code",3,"input"],["type","button",1,"btn","btn-outline-light","text-dark","m-2",3,"click"],[3,"width","height","baseColor"],[1,"position-absolute","box-1"],[1,"position-absolute","box-2"],[1,"position-absolute","box-3"],[1,"position-absolute","box-4"]],template:function(t,i){if(t&1){let r=D();u(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"button",6),I("click",function(){return E(r),w(i.toggleMenu(!i.isOpen))}),A(6,"i",7),d(),u(7,"div",8)(8,"p")(9,"button",9),I("click",function(){return E(r),w(i.switchRoute("signup"))}),f(10," Signup "),d()(),u(11,"p")(12,"button",9),I("click",function(){return E(r),w(i.switchRoute("forms"))}),f(13," Forms "),d()()()()(),u(14,"div",10)(15,"h1"),f(16,"Login here"),d()(),u(17,"div",11)(18,"div",12)(19,"div",13)(20,"h2"),f(21,"Lorem ipsum"),d()(),u(22,"div",14)(23,"p",15),f(24," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. "),d()()()(),u(25,"div",16),P(26,_c,25,8,"div",17)(27,vc,1,3,"app-spinner",18)(28,Ic,4,0,"ng-template",null,0,ui),d()()()()}if(t&2){let r=Ke(29);_("ngClass",i.mode=="light"?"bg-white":"bg-secondary"),g(7),Ge("height",i.isOpen?"100px":"0px"),_("ngClass",Je(9,dc,i.isOpen?"border rounded shadow":"",i.mode=="light"?"bg-light":"bg-dark")),g(2),_("ngClass",i.mode=="light"?"text-dark":"text-white"),g(3),_("ngClass",i.mode=="light"?"text-dark":"text-white"),g(14),_("ngIf",!i.showSpinner),g(),_("ngIf",i.showSpinner)("ngIfElse",r)}},dependencies:[Ee,we,nt,Ze,et,tt,it,rt,Qe],styles:["@keyframes _ngcontent-%COMP%_red-box{18%{border-left:5px solid transparent;border-top:5px solid transparent}22%{border-left:5px solid red;border-top:5px solid red}25%{top:2%;left:74%;transform:rotate(90deg)}38%{border-left:5px solid transparent;border-top:5px solid transparent}47%{border-left:5px solid red;border-top:5px solid red}50%{top:75%;left:74%;transform:rotate(180deg)}58%{border-left:5px solid transparent;border-top:5px solid transparent}72%{border-left:5px solid red;border-top:5px solid red}75%{top:75%;left:10%;transform:rotate(270deg)}78%{border-left:5px solid transparent;border-top:5px solid transparent}92%{border-left:5px solid red;border-top:5px solid red}to{top:2%;left:10%;transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_green-box{18%{border-right:5px solid transparent;border-top:5px solid transparent}22%{border-right:5px solid green;border-top:5px solid green}25%{top:75%;left:74%;transform:rotate(90deg)}38%{border-right:5px solid transparent;border-top:5px solid transparent}47%{border-right:5px solid green;border-top:5px solid green}50%{top:75%;left:10%;transform:rotate(180deg)}58%{border-right:5px solid transparent;border-top:5px solid transparent}72%{border-right:5px solid green;border-top:5px solid green}75%{top:2%;left:10%;transform:rotate(270deg)}78%{border-right:5px solid transparent;border-top:5px solid transparent}92%{border-right:5px solid green;border-top:5px solid green}to{top:2%;left:74%;transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_orange-box{18%{border-left:5px solid transparent;border-bottom:5px solid transparent}22%{border-left:5px solid orange;border-bottom:5px solid orange}25%{top:2%;left:10%;transform:rotate(90deg)}38%{border-left:5px solid transparent;border-bottom:5px solid transparent}47%{border-left:5px solid orange;border-bottom:5px solid orange}50%{top:2%;left:74%;transform:rotate(180deg)}58%{border-left:5px solid transparent;border-bottom:5px solid transparent}72%{border-left:5px solid orange;border-bottom:5px solid orange}75%{top:75%;left:74%;transform:rotate(270deg)}78%{border-left:5px solid transparent;border-bottom:5px solid transparent}92%{border-left:5px solid orange;border-bottom:5px solid orange}to{top:75%;left:10%;transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_blue-box{18%{border-right:5px solid transparent;border-bottom:5px solid transparent}22%{border-right:5px solid rgb(0,26,255);border-bottom:5px solid rgb(0,26,255)}25%{top:75%;left:10%;transform:rotate(90deg)}38%{border-right:5px solid transparent;border-bottom:5px solid transparent}47%{border-right:5px solid rgb(0,26,255);border-bottom:5px solid rgb(0,26,255)}50%{top:2%;left:10%;transform:rotate(180deg)}58%{border-right:5px solid transparent;border-bottom:5px solid transparent}72%{border-right:5px solid rgb(0,26,255);border-bottom:5px solid rgb(0,26,255)}75%{top:2%;left:74%;transform:rotate(270deg)}78%{border-right:5px solid transparent;border-bottom:5px solid transparent}92%{border-right:5px solid rgb(0,26,255);border-bottom:5px solid rgb(0,26,255)}to{top:75%;left:74%;transform:rotate(360deg)}}.h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{font-family:Just Me Again Down Here,cursive;font-weight:400;font-style:normal}h1[_ngcontent-%COMP%]{font-size:80px}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:120px}.bg-personal[_ngcontent-%COMP%]{background-color:gray}.w-auto[_ngcontent-%COMP%]{max-width:130px;position:relative}.w-auto[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{width:100px;transition:1s;position:absolute;right:10px;z-index:40}.w-auto[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .p[_ngcontent-%COMP%]:hover{background-color:red}.login-form[_ngcontent-%COMP%]{box-shadow:0 0 .2rem #fff,0 0 .2rem #fff,0 0 2rem #add8e6,0 0 .8rem #add8e6,0 0 2.8rem #add8e6,inset 0 0 1.3rem #add8e6}.box-1[_ngcontent-%COMP%]{width:100px;height:100px;border-left:5px solid red;border-top:5px solid red;top:10%;left:20%;animation-name:_ngcontent-%COMP%_red-box;animation-duration:7s;animation-iteration-count:infinite}.box-2[_ngcontent-%COMP%]{width:100px;height:100px;border-right:5px solid green;border-top:5px solid green;top:10%;left:80%;animation-name:_ngcontent-%COMP%_green-box;animation-duration:7s;animation-iteration-count:infinite}.box-3[_ngcontent-%COMP%]{width:100px;height:100px;border-left:5px solid orange;border-bottom:5px solid orange;top:90%;left:20%;animation-name:_ngcontent-%COMP%_orange-box;animation-duration:7s;animation-iteration-count:infinite}.box-4[_ngcontent-%COMP%]{width:100px;height:100px;border-right:5px solid rgb(0,26,255);border-bottom:5px solid rgb(0,26,255);top:90%;left:80%;animation-name:_ngcontent-%COMP%_blue-box;animation-duration:7s;animation-iteration-count:infinite}.secret-code[_ngcontent-%COMP%]{height:50px}"]})};var bc=(n,e)=>[n,e];function Ec(n,e){if(n&1){let t=D();u(0,"div")(1,"label",23),f(2,"Inserisci il tuo nome"),d(),A(3,"input",24),u(4,"label",25),f(5,"Inserisci il tuo cognome"),d(),A(6,"input",26),u(7,"div",27)(8,"button",28),I("click",function(){E(t);let r=v(2);return w(r.signupStep=2)}),f(9,"Next"),d()()()}}function wc(n,e){if(n&1){let t=D();u(0,"div")(1,"label",29),f(2,"Inserisci la tua email"),d(),A(3,"input",30),u(4,"label",31),f(5,"Inserisci la tua password"),d(),A(6,"input",32),u(7,"div",27)(8,"button",28),I("click",function(){E(t);let r=v(2);return w(r.signupStep=1)}),f(9,"Previous"),d(),u(10,"button",28),I("click",function(){E(t);let r=v(2);return w(r.signupStep=3)}),f(11,"Next"),d()()()}}function yc(n,e){if(n&1&&(u(0,"option",40),f(1),d()),n&2){let t=e.$implicit;_("value",t.id),g(),li(t.nome)}}function Tc(n,e){if(n&1){let t=D();u(0,"div",41)(1,"p",42)(2,"button",6),I("click",function(){E(t),v();let r=Ke(10),o=v(2);return w(o.deleteProfileImage(r))}),f(3,"Elimina"),d()(),A(4,"img",43),d()}if(n&2){let t=v(3);g(4),_("src",t.url,Kt)}}function Cc(n,e){if(n&1){let t=D();u(0,"div")(1,"label",33),f(2,"Inserisci la tua citt\xE0"),d(),u(3,"select",34),I("change",function(){E(t);let r=v(2);return w(r.updateSelectedCity())}),u(4,"option",35),f(5,"Seleziona una citt\xE0."),d(),P(6,yc,2,2,"option",36),d(),u(7,"label",37),f(8,"Inserisci la tua immagine del profilo"),d(),u(9,"input",38,0),I("change",function(r){E(t);let o=v(2);return w(o.handleProfileImage(r))}),d(),P(11,Tc,5,1,"div",39),u(12,"div",27)(13,"button",28),I("click",function(){E(t);let r=v(2);return w(r.signupStep=2)}),f(14,"Previous"),d(),u(15,"button",28),I("click",function(){E(t);let r=v(2);return w(r.updateFourthStep())}),f(16,"Next"),d()()()}if(n&2){let t=v(2);g(6),_("ngForOf",t.cities),g(5),_("ngIf",t.url!="")}}function Sc(n,e){if(n&1&&(u(0,"span"),f(1),d()),n&2){let t=v(3);g(),ue(" ",t.maskedPassword," ")}}function kc(n,e){if(n&1&&(u(0,"span"),f(1),d()),n&2){let t=v(3);g(),ue(" ",t.signupForm.controls.password.value," ")}}function Ac(n,e){if(n&1&&(u(0,"span"),f(1),d()),n&2){let t=e.$implicit,i=e.index,r=v(4);g(),di("",t," ",i+1==r.missedDatas.length?".":", "," ")}}function Pc(n,e){if(n&1&&(u(0,"div",52)(1,"p",46),f(2,"Dati mancanti o incompleti: "),d(),P(3,Ac,2,2,"span",53),d()),n&2){let t=v(3);g(3),_("ngForOf",t.missedDatas)}}function Rc(n,e){if(n&1){let t=D();u(0,"button",28),I("click",function(){E(t);let r=v(3);return w(r.signup())}),f(1,"Signup"),d()}}function Oc(n,e){if(n&1){let t=D();u(0,"div")(1,"h2"),f(2,"Riepilogo dei tuoi dati "),d(),u(3,"div",44)(4,"div",45)(5,"p",46),f(6," Nome "),d(),u(7,"span"),f(8),d()(),u(9,"div",45)(10,"p",46),f(11," Cognome "),d(),u(12,"span"),f(13),d()(),u(14,"div",47)(15,"p",46),f(16," Email "),d(),u(17,"span"),f(18),d()(),u(19,"div",47)(20,"p",46),f(21," Password "),d(),P(22,Sc,2,1,"span",22)(23,kc,2,1,"span",22),d(),u(24,"div",48)(25,"p",46),f(26," Citt\xE0 "),d(),u(27,"span"),f(28),d()(),u(29,"div",49),A(30,"img",43),d()(),P(31,Pc,4,1,"div",50),u(32,"div",27)(33,"button",28),I("click",function(){E(t);let r=v(2);return w(r.signupStep=3)}),f(34,"Previous"),d(),P(35,Rc,2,0,"button",51),d()()}if(n&2){let t=v(2);g(8),ue(" ",t.signupForm.controls.nome.value," "),g(5),ue(" ",t.signupForm.controls.cognome.value," "),g(5),ue(" ",t.signupForm.controls.email.value," "),g(4),_("ngIf",t.showPassword),g(),_("ngIf",!t.showPassword),g(5),ue(" ",t.selectedCity.name," "),g(2),_("src",t.url!=""?t.url:"assets/forms/signup/empty_avatar.jpg",Kt),g(),_("ngIf",t.missedDatas.length>0),g(4),_("ngIf",t.signupCheck())}}function Nc(n,e){if(n&1&&(u(0,"form",21),P(1,Ec,10,0,"div",22)(2,wc,12,0,"div",22)(3,Cc,17,2,"div",22)(4,Oc,36,9,"div",22),d()),n&2){let t=v();_("formGroup",t.signupForm)("ngClass",t.mode=="light"?"bg-light text-dark":"bg-dark text-light"),g(),_("ngIf",t.signupStep==1),g(),_("ngIf",t.signupStep==2),g(),_("ngIf",t.signupStep==3),g(),_("ngIf",t.signupStep==4)}}function xc(n,e){n&1&&(u(0,"div",54),A(1,"app-spinner"),d())}function Dc(n,e){if(n&1&&(u(0,"div",55),A(1,"div",56),d()),n&2){let t=e.index;Jt("id","l-",t+1,""),g(),Jt("id","l-child-",t+1,"")}}var Ft=class n{constructor(e,t,i,r,o){this.router=e;this.toastr=t;this.modeService=i;this.formsService=r;this.errorService=o;this.modeService.mode.subscribe(s=>{s&&(this.mode=s)}),this.errorService.showSpinner.subscribe(s=>{this.isLoading=s})}isOpen=!1;signupForm=new F({});signupStep=1;cities=[];selectedImage=null;url="";selectedCity="";missedDatas=[];showPassword=!1;maskedPassword="";mode="light";lines=[1,2,3,4];isLoading=!1;ngOnInit(){this.signupForm=new F({nome:new N("",[C.required]),cognome:new N("",[C.required]),email:new N("",[C.required,C.pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/)]),password:new N("",[C.required,C.minLength(8)]),citta:new N("",[C.required])}),this.getCities()}toggleMenu(e){this.isOpen=e}switchRoute(e){e=="forms"?this.router.navigate(["forms"]):this.router.navigate(["forms/login"])}signup(){if(this.signupForm.valid&&this.selectedImage){let e={email:this.signupForm.get("email")?.value,nome:this.signupForm.get("nome")?.value,cognome:this.signupForm.get("cognome")?.value,password:this.signupForm.get("password")?.value,citta_id:this.signupForm.get("citta")?.value,immagine_profilo:this.selectedImage};this.errorService.emitShowSpinner(!0),this.formsService.signUp(e).subscribe({next:t=>{t&&setTimeout(()=>{this.errorService.emitShowSpinner(!1),this.toastr.show("Registrazione avvenuta con successo."),this.router.navigate(["forms/login"])},1500)}})}else this.toastr.error("Assicurati di avere inserito tutti i dati mancanti.")}handleProfileImage(e){if(e&&e.target&&e.target.files&&e.target.files[0]){this.selectedImage=e.target.files[0];var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=i=>{this.url=i.target.result}}}deleteProfileImage(e){this.url="",this.selectedImage=null,e.value=""}updateSelectedCity(){if(this.signupForm.controls.citta.value==""){this.selectedCity="";return}this.selectedCity=this.cities.filter(e=>e.id==this.signupForm.controls.citta.value)[0]}signupCheck(){return this.signupForm.valid&&this.selectedImage}populateMissedDatasArray(){this.missedDatas=[],Object.keys(this.signupForm.controls).forEach(e=>{this.signupForm.get(e)?.invalid&&this.missedDatas.push(e)}),this.selectedImage||this.missedDatas.push("immagine del profilo")}updateFourthStep(){this.populateMissedDatasArray(),this.signupStep=4}getCities(){this.formsService.getCities().subscribe({next:e=>{this.cities=e}})}onresize(){let e;if(window.innerWidth<545)for(let t=1;t<=4;t++)e=document.getElementById(`l-${t}`),e&&(e.style.visibility="hidden");else for(let t=1;t<=4;t++)e=document.getElementById(`l-${t}`),e&&(e.style.visibility="visible")}ngAfterViewInit(){}static \u0275fac=function(t){return new(t||n)(R(te),R(Xe),R(ye),R(ot),R(st))};static \u0275cmp=ee({type:n,selectors:[["app-signup"]],hostBindings:function(t,i){t&1&&I("resize",function(o){return i.onresize(o)},!1,be)},decls:30,vars:12,consts:[["file",""],[1,"w-100",3,"ngClass"],[1,"container","text-center","py-5"],[1,"row","py-5"],[1,"col-md-12","d-flex","justify-content-end"],[1,"w-auto","text-center"],[1,"btn",3,"click"],[1,"bi","bi-list","h2"],[1,"menu","text-center","overflow-hidden",3,"ngClass"],[1,"btn",3,"click","ngClass"],[1,"col-md-12"],[1,"col-lg-6"],[1,"row"],[1,"col-md-12","py-5"],[1,"col-md-12","text-center"],[1,"fs-4"],[1,"col-lg-6","py-5","my-5"],["class","p-3 login-form m-auto py-5 border rounded shadow w-75",3,"formGroup","ngClass",4,"ngIf"],["class","m-auto w-75 d-flex justify-content-center",4,"ngIf"],[1,"w-75","m-auto","d-flex"],["class","p-1 position-relative",3,"id",4,"ngFor","ngForOf"],[1,"p-3","login-form","m-auto","py-5","border","rounded","shadow","w-75",3,"formGroup","ngClass"],[4,"ngIf"],["for","nome",1,"py-3"],["type","text","name","nome","id","nome","formControlName","nome",1,"form-control"],["for","cognome",1,"py-3"],["type","text","name","cognome","id","cognome","formControlName","cognome",1,"form-control"],[1,"d-flex","justify-content-around"],[1,"btn","my-3","btn-warning","border",3,"click"],["for","email",1,"py-3"],["type","email","name","email","id","email","formControlName","email",1,"form-control"],["for","password",1,"py-3"],["type","password","name","password","id","password","formControlName","password",1,"form-control"],["for","citta",1,"py-3"],["type","text","name","citta","id","citta","formControlName","citta","onfocus","this.size=7","onblur","this.size=1","onchange","this.blur()",1,"form-select",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","immagineProfilo",1,"py-3"],["type","file","name","immagineProfilo","id","immagineProfilo","accept","image/png, image/gif, image/jpeg",1,"form-control",3,"change"],["class","py-3",4,"ngIf"],[3,"value"],[1,"py-3"],[1,"text-end"],["alt","your_choosed_profile_image",1,"profile-image","border","rounded-circle","shadow-sm","m-auto",3,"src"],[1,"row","text-start"],[1,"col-md-6","p-2","border-bottom"],[1,"text-danger"],[1,"col-md-12","p-2","border-bottom"],[1,"col-md-4","p-2","border-bottom"],[1,"col-md-8","p-2","border-bottom","text-center"],["class","py-1 d-block",4,"ngIf"],["class","btn my-3 btn-warning border",3,"click",4,"ngIf"],[1,"py-1","d-block"],[4,"ngFor","ngForOf"],[1,"m-auto","w-75","d-flex","justify-content-center"],[1,"p-1","position-relative",3,"id"],[1,"p-1",3,"id"]],template:function(t,i){t&1&&(u(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"button",6),I("click",function(){return i.toggleMenu(!i.isOpen)}),A(6,"i",7),d(),u(7,"div",8)(8,"p")(9,"button",9),I("click",function(){return i.switchRoute("login")}),f(10," Login "),d()(),u(11,"p")(12,"button",9),I("click",function(){return i.switchRoute("forms")}),f(13," Forms "),d()()()()(),u(14,"div",10)(15,"h1"),f(16,"Signup here"),d()(),u(17,"div",11)(18,"div",12)(19,"div",13)(20,"h2"),f(21,"Lorem ipsum"),d()(),u(22,"div",14)(23,"p",15),f(24," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. "),d()()()(),u(25,"div",16),P(26,Nc,5,6,"form",17)(27,xc,2,0,"div",18),u(28,"div",19),P(29,Dc,2,4,"div",20),d()()()()()),t&2&&(_("ngClass",i.mode=="light"?"bg-white":"bg-personal"),g(7),Ge("height",i.isOpen?"100px":"0px"),_("ngClass",Je(9,bc,i.isOpen?"border rounded shadow":"",i.mode=="light"?"bg-light":"bg-dark")),g(2),_("ngClass",i.mode=="light"?"text-dark":"text-white"),g(3),_("ngClass",i.mode=="light"?"text-dark":"text-white"),g(14),_("ngIf",!i.isLoading),g(),_("ngIf",i.isLoading),g(2),_("ngForOf",i.lines))},dependencies:[Ee,Ye,we,nt,bi,Ei,Ze,Ii,et,tt,it,rt,Qe],styles:["@keyframes _ngcontent-%COMP%_l-1{0%{transform:translate(-100%)}1%{transform:translate(-96%)}2%{transform:translate(-92%)}3%{transform:translate(-88%)}4%{transform:translate(-84%)}5%{transform:translate(-80%)}6%{transform:translate(-76%)}7%{transform:translate(-72%)}8%{transform:translate(-68%)}9%{transform:translate(-64%)}10%{transform:translate(-60%)}11%{transform:translate(-56%)}12%{transform:translate(-52%)}13%{transform:translate(-48%)}14%{transform:translate(-44%)}15%{transform:translate(-40%)}16%{transform:translate(-36%)}17%{transform:translate(-32%)}18%{transform:translate(-28%)}19%{transform:translate(-24%)}20%{transform:translate(-20%)}21%{transform:translate(-16%)}22%{transform:translate(-12%)}23%{transform:translate(-8%)}24%{transform:translate(-4%)}25%{transform:translate(0)}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_l-2{24%{transform:translate(-105%)}25%{transform:translate(-100%)}26%{transform:translate(-96%)}27%{transform:translate(-92%)}28%{transform:translate(-88%)}29%{transform:translate(-84%)}30%{transform:translate(-80%)}31%{transform:translate(-76%)}32%{transform:translate(-72%)}33%{transform:translate(-68%)}34%{transform:translate(-64%)}35%{transform:translate(-60%)}36%{transform:translate(-56%)}37%{transform:translate(-52%)}38%{transform:translate(-48%)}39%{transform:translate(-44%)}40%{transform:translate(-40%)}41%{transform:translate(-36%)}42%{transform:translate(-32%)}43%{transform:translate(-28%)}44%{transform:translate(-24%)}45%{transform:translate(-20%)}46%{transform:translate(-16%)}47%{transform:translate(-12%)}48%{transform:translate(-8%)}49%{transform:translate(-4%)}50%{transform:translate(-4%)}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_l-3{49%{transform:translate(-105%)}50%{transform:translate(-100%)}51%{transform:translate(-96%)}52%{transform:translate(-92%)}53%{transform:translate(-88%)}54%{transform:translate(-84%)}55%{transform:translate(-80%)}56%{transform:translate(-76%)}57%{transform:translate(-72%)}58%{transform:translate(-68%)}59%{transform:translate(-64%)}60%{transform:translate(-60%)}61%{transform:translate(-56%)}62%{transform:translate(-52%)}63%{transform:translate(-48%)}64%{transform:translate(-44%)}65%{transform:translate(-40%)}66%{transform:translate(-36%)}67%{transform:translate(-32%)}68%{transform:translate(-28%)}69%{transform:translate(-24%)}70%{transform:translate(-20%)}71%{transform:translate(-16%)}72%{transform:translate(-12%)}73%{transform:translate(-8%)}74%{transform:translate(-4%)}75%{transform:translate(0)}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_l-4{74%{transform:translate(-105%)}75%{transform:translate(-100%)}76%{transform:translate(-96%)}77%{transform:translate(-92%)}78%{transform:translate(-88%)}79%{transform:translate(-84%)}80%{transform:translate(-80%)}81%{transform:translate(-76%)}82%{transform:translate(-72%)}83%{transform:translate(-68%)}84%{transform:translate(-64%)}85%{transform:translate(-60%)}86%{transform:translate(-56%)}87%{transform:translate(-52%)}88%{transform:translate(-48%)}89%{transform:translate(-44%)}90%{transform:translate(-40%)}91%{transform:translate(-36%)}92%{transform:translate(-32%)}93%{transform:translate(-28%)}94%{transform:translate(-24%)}95%{transform:translate(-20%)}96%{transform:translate(-16%)}97%{transform:translate(-12%)}98%{transform:translate(-8%)}99%{transform:translate(-4%)}to{transform:translate(0)}}.h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{font-family:Just Me Again Down Here,cursive;font-weight:400;font-style:normal}h1[_ngcontent-%COMP%]{font-size:80px}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:120px}.bg-personal[_ngcontent-%COMP%]{background-color:gray}.w-auto[_ngcontent-%COMP%]{max-width:130px;position:relative}.w-auto[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{width:100px;transition:1s;position:absolute;right:10px;z-index:40}.w-auto[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .p[_ngcontent-%COMP%]:hover{background-color:red}.profile-image[_ngcontent-%COMP%]{width:100px;height:100px}ul[_ngcontent-%COMP%]{list-style-type:none}span[_ngcontent-%COMP%]{font-weight:700}.signup-form[_ngcontent-%COMP%]{box-shadow:0 0 .2rem #fff,0 0 .2rem #fff,0 0 2rem orange,0 0 .8rem orange,0 0 2.8rem orange,inset 0 0 1.3rem orange}#l-1[_ngcontent-%COMP%]{overflow:hidden;width:23%}#l-1[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-image:linear-gradient(.25turn,#fff,#ffc2c2);height:4px;width:100%;transform:translate(-105%);animation-name:_ngcontent-%COMP%_l-1;animation-duration:4s;animation-iteration-count:infinite}#l-2[_ngcontent-%COMP%]{overflow:hidden;margin-left:2%;width:23%}#l-2[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:linear-gradient(.25turn,#ffc2c2,#ff8787);height:4px;width:100%;transform:translate(-105%);animation-name:_ngcontent-%COMP%_l-2;animation-duration:4s;animation-iteration-count:infinite}#l-3[_ngcontent-%COMP%]{overflow:hidden;margin-left:2%;width:23%}#l-3[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:linear-gradient(.25turn,#ff8787,#ff6060);height:4px;width:100%;transform:translate(-105%);animation-name:_ngcontent-%COMP%_l-3;animation-duration:4s;animation-iteration-count:infinite}#l-4[_ngcontent-%COMP%]{overflow:hidden;margin-left:2%;width:23%}#l-4[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:linear-gradient(.25turn,#ff6060,red);height:4px;width:100%;transform:translate(-105%);animation-name:_ngcontent-%COMP%_l-4;animation-duration:4s;animation-iteration-count:infinite}"]})};var Lc=[{path:"",component:ct},{path:"login",component:Mt},{path:"signup",component:Ft},{path:"**",component:vi}],Ut=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ie({type:n});static \u0275inj=ve({imports:[Xt.forChild(Lc),Xt]})};var Mc=new Map,Fc={activated:!1,tokenObservers:[]},Uc={initialized:!1,enabled:!1};function W(n){return Mc.get(n)||Object.assign({},Fc)}function Qr(){return Uc}var Vc="https://content-firebaseappcheck.googleapis.com/v1";var Hc="exchangeDebugToken",Kr={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},ah=24*60*60*1e3;var Yn=class{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return a(this,null,function*(){this.stop();try{this.pending=new Qt,this.pending.promise.catch(t=>{}),yield Wc(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Qt,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function Wc(n){return new Promise(e=>{setTimeout(e,n)})}var jc={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},ce=new Si("appCheck","AppCheck",jc);function Zr(n){if(!W(n).activated)throw ce.create("use-before-activation",{appName:n.name})}function eo(i,r){return a(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let S=yield s.getHeartbeatsHeader();S&&(o["X-Firebase-Client"]=S)}let l={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,l)}catch(S){throw ce.create("fetch-network-error",{originalErrorMessage:S?.message})}if(c.status!==200)throw ce.create("fetch-status-error",{httpStatus:c.status});let h;try{h=yield c.json()}catch(S){throw ce.create("fetch-parse-error",{originalErrorMessage:S?.message})}let p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw ce.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});let b=Number(p[1])*1e3,T=Date.now();return{token:h.token,expireTimeMillis:T+b,issuedAtTimeMillis:T}})}function to(n,e){let{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${Vc}/projects/${t}/apps/${i}:${Hc}?key=${r}`,body:{debug_token:e}}}var $c="firebase-app-check-database",Bc=1,Xn="firebase-app-check-store";var Vt=null;function zc(){return Vt||(Vt=new Promise((n,e)=>{try{let t=indexedDB.open($c,Bc);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(ce.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},t.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(Xn,{keyPath:"compositeKey"})}}}catch(t){e(ce.create("storage-open",{originalErrorMessage:t?.message}))}}),Vt)}function qc(n,e){return Gc(Kc(n),e)}function Gc(n,e){return a(this,null,function*(){let i=(yield zc()).transaction(Xn,"readwrite"),o=i.objectStore(Xn).put({compositeKey:n,value:e});return new Promise((s,l)=>{o.onsuccess=c=>{s()},i.onerror=c=>{var h;l(ce.create("storage-set",{originalErrorMessage:(h=c.target.error)===null||h===void 0?void 0:h.message}))}})})}function Kc(n){return`${n.options.appId}-${n.name}`}var Qn=new ki("@firebase/app-check");function Jn(n,e){return Ci()?qc(n,e).catch(t=>{Qn.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function no(){return Qr().enabled}function io(){return a(this,null,function*(){let n=Qr();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Jc={error:"UNKNOWN_ERROR"};function Yc(n){return Ti.encodeString(JSON.stringify(n),!1)}function Zn(n,e=!1){return a(this,null,function*(){let t=n.app;Zr(t);let i=W(t),r=i.token,o;if(r&&!$e(r)&&(i.token=void 0,r=void 0),!r){let c=yield i.cachedTokenPromise;c&&($e(c)?r=c:yield Jn(t,void 0))}if(!e&&r&&$e(r))return{token:r.token};let s=!1;if(no()){i.exchangeTokenPromise||(i.exchangeTokenPromise=eo(to(t,yield io()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);let c=yield i.exchangeTokenPromise;return yield Jn(t,c),i.token=c,{token:c.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield W(t).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?Qn.warn(c.message):Qn.error(c),o=c}let l;return r?o?$e(r)?l={token:r.token,internalError:o}:l=Yr(o):(l={token:r.token},i.token=r,yield Jn(t,r)):l=Yr(o),s&&el(t,l),l})}function Xc(n){return a(this,null,function*(){let e=n.app;Zr(e);let{provider:t}=W(e);if(no()){let i=yield io(),{token:r}=yield eo(to(e,i),n.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield t.getToken();return{token:i}}})}function Qc(n,e,t,i){let{app:r}=n,o=W(r),s={next:t,error:i,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&$e(o.token)){let l=o.token;Promise.resolve().then(()=>{t({token:l.token}),Jr(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Jr(n))}function ro(n,e){let t=W(n),i=t.tokenObservers.filter(r=>r.next!==e);i.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function Jr(n){let{app:e}=n,t=W(e),i=t.tokenRefresher;i||(i=Zc(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Zc(n){let{app:e}=n;return new Yn(()=>a(this,null,function*(){let t=W(e),i;if(t.token?i=yield Zn(n,!0):i=yield Zn(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let t=W(e);if(t.token){let i=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,r=t.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},Kr.RETRIAL_MIN_WAIT,Kr.RETRIAL_MAX_WAIT)}function el(n,e){let t=W(n).tokenObservers;for(let i of t)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function $e(n){return n.expireTimeMillis-Date.now()>0}function Yr(n){return{token:Yc(Jc),error:n}}var ei=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=W(this.app);for(let t of e)ro(this.app,t.next);return Promise.resolve()}};function tl(n,e){return new ei(n,e)}function nl(n){return{getToken:e=>Zn(n,e),getLimitedUseToken:()=>Xc(n),addTokenListener:e=>Qc(n,"INTERNAL",e),removeTokenListener:e=>ro(n.app,e)}}var il="@firebase/app-check",rl="0.8.8";var ol="app-check",Xr="app-check-internal";function sl(){en(new Zt(ol,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return tl(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Xr).initialize()})),en(new Zt(Xr,n=>{let e=n.getProvider("app-check").getImmediate();return nl(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),tn(il,rl)}sl();var al=["localhost","0.0.0.0","127.0.0.1"],Ih=typeof window<"u"&&al.includes(window.location.hostname);var ll="firebase",dl="10.14.1";ne.registerVersion(ll,dl,"app-compat");var ul=["ngOnDestroy"],so=(n,e,t,i={})=>new Proxy(n,{get:(r,o)=>t.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(ul.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(l=>{let c=l?.[o];return typeof c=="function"?c.bind(l):c?.then?c.then(h=>t.run(()=>h)):t.run(()=>c)});return new Proxy(()=>{},{get:(l,c)=>s[c],apply:(l,c,h)=>s.then(p=>{let b=p?.(...h);return i?.spy?.apply&&i.spy.apply(o,h,b),b})})})});var ti=class{constructor(e){return e}},ao=new $("angularfire2.app.options"),co=new $("angularfire2.app.name");function lo(n,e,t){let i=typeof t=="string"&&t||"[DEFAULT]",r=typeof t=="object"&&t||{};r.name=r.name||i;let s=ne.apps.filter(l=>l&&l.name===r.name)[0]||e.runOutsideAngular(()=>ne.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){let l=!!module.hot;hl("error",`${s.name} Firebase App already initialized with different options${l?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ti(s)}var hl=(n,...e)=>{Yt()&&typeof console<"u"&&console[n](...e)};function uo(n,e,t,i,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(l=>l[0]===n)||[];if(o)return fl(r,s)||(oo("error",`${e} was already initialized on the ${t} Firebase App with different settings.${pl?" You may need to reload as Firebase is not HMR aware.":""}`),oo("warn",{is:r,was:s})),o;{let l=i();return globalThis.\u0275AngularfireInstanceCache.push([n,l,r]),l}}function fl(n,e){try{return n.toString()===e.toString()}catch{return n===e}}var pl=typeof module<"u"&&!!module.hot,oo=(n,...e)=>{Yt()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var ml=new $("angularfire2.auth.use-emulator"),gl=new $("angularfire2.auth.settings"),_l=new $("angularfire2.auth.tenant-id"),vl=new $("angularfire2.auth.langugage-code"),Il=new $("angularfire2.auth.use-device-language"),bl=new $("angularfire.auth.persistence"),El=(n,e,t,i,r,o,s,l)=>uo(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{let c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),i&&(c.tenantId=i),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(let[h,p]of Object.entries(s))c.settings[h]=p;return l&&c.setPersistence(l),c},[t,i,r,o,s,l]),wl=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,o,s,l,c,h,p,b,T,S){let G=new ii,Z=xe(void 0).pipe(Ne(s.outsideAngular),de(()=>o.runOutsideAngular(()=>import("./chunk-S6QJG6YP.js"))),qe(()=>lo(t,o,i)),qe(L=>El(L,o,l,h,p,b,c,T)),Bt({bufferSize:1,refCount:!1}));if(fi(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=xe(null);else{Z.pipe(si()).subscribe();let L=Z.pipe(de(k=>k.getRedirectResult().then(M=>M,()=>null)),Ri,Bt({bufferSize:1,refCount:!1})),Oe=Z.pipe(de(k=>new jt(M=>({unsubscribe:o.runOutsideAngular(()=>k.onAuthStateChanged(j=>M.next(j),j=>M.error(j),()=>M.complete()))})))),_e=Z.pipe(de(k=>new jt(M=>({unsubscribe:o.runOutsideAngular(()=>k.onIdTokenChanged(j=>M.next(j),j=>M.error(j),()=>M.complete()))}))));this.authState=L.pipe(zt(Oe),ze(s.outsideAngular),Ne(s.insideAngular)),this.user=L.pipe(zt(_e),ze(s.outsideAngular),Ne(s.insideAngular)),this.idToken=this.user.pipe(de(k=>k?$t(k.getIdToken()):xe(null))),this.idTokenResult=this.user.pipe(de(k=>k?$t(k.getIdTokenResult()):xe(null))),this.credential=ri(L,G,this.authState.pipe(oi(k=>!k))).pipe(qe(k=>k?.user?k:null),ze(s.outsideAngular),Ne(s.insideAngular))}return so(this,Z,o,{spy:{apply:(L,Oe,_e)=>{(L.startsWith("signIn")||L.startsWith("createUser"))&&_e.then(k=>G.next(k))}}})}static \u0275fac=function(i){return new(i||n)(x(ao),x(co,8),x(Gt),x(qt),x(Pi),x(ml,8),x(gl,8),x(_l,8),x(vl,8),x(Il,8),x(bl,8),x(nn,8))};static \u0275prov=ai({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),ho=(()=>{class n{constructor(){ne.registerVersion("angularfire",Ai.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ie({type:n});static \u0275inj=ve({providers:[wl]})}return n})();var fo=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ie({type:n});static \u0275inj=ve({imports:[hi,wi,Ut,mi,ho]})};export{fo as FormsModule};
