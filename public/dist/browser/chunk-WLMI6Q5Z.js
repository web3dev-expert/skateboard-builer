import{A as ze,B as Di,C as Ai,D as Mi,E as Fi,F as It,G as zi,a as _t,b as yi,c as vt,d as Me,e as Wt,f as Fe,g as Ii,h as bt,i as Ct,j as Re,k as xt,l as Je,m as pe,o as Qe,p as Si,q as wi,r as Ze,s as Ke,t as Pi,u as Ei,v as Ti,w as Oi,x as yt,y as ke,z as H}from"./chunk-F6MPTZWK.js";import{a as ne,b as N,c as oe,d as re,e as D,f as E,g as se,h as Ni,i as ae,j as le,k as ve,l as be,m as Ce,n as ce}from"./chunk-2SGM2QXQ.js";import{a as ht,c as ie,e as Ci,j as Ae,l as he,m as xi,o as Xe,p as _e,r as Ri,s as ki,t as P,u as Xt,v as B,w as Ne,x as Le,y as Li}from"./chunk-QEAETYXO.js";import{$ as W,$a as ci,$b as hi,Ab as p,Ba as J,Bc as L,C as ai,Cc as k,D as qe,Db as v,Dc as z,Eb as Yt,Ec as ft,Fc as gt,Gb as g,Ha as Ye,Hb as d,J as rt,Kb as w,Lb as ui,Nb as mt,Ob as dt,Pb as pt,Qb as M,Rb as fi,Sb as We,T as st,Tb as l,Ua as R,Ub as y,V as fe,Vb as C,Wa as lt,Wb as gi,X as li,Ya as a,Yb as F,Za as f,_ as V,a as j,ac as _i,b as oi,ba as Z,bc as vi,da as T,ea as ee,eb as mi,ia as I,ib as Ee,j as Y,ja as X,jb as di,k as ri,ka as ge,kc as ut,nb as u,pa as we,pb as ct,q as si,qa as h,qb as Te,ra as _,rb as c,sb as pi,tb as Ie,ua as qt,uc as De,wa as te,wb as Oe,ya as at,yb as s,z as ot,za as Pe,zb as r,zc as bi}from"./chunk-FCKWO5SM.js";function an(i,n){}var Se=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var Qt=(()=>{class i extends wi{constructor(e,t,o,m,b,x,S,Q){super(),this._elementRef=e,this._focusTrapFactory=t,this._config=m,this._interactivityChecker=b,this._ngZone=x,this._overlayRef=S,this._focusMonitor=Q,this._platform=ee(_t),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=ee(ut),this._injector=ee(te),this._isDestroyed=!1,this.attachDomPortal=A=>{this._portalOutlet.hasAttached();let nt=this._portalOutlet.attachDomPortal(A);return this._contentAttached(),nt},this._document=o,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let t=this._ariaLabelledByQueue.indexOf(e);t>-1&&(this._ariaLabelledByQueue.splice(t,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),t}attachTemplatePortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),t}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(t)}_focusByCssSelector(e,t){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,t)}_trapFocus(){this._isDestroyed||ct(()=>{let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,t=null;if(typeof e=="string"?t=this._document.querySelector(e):typeof e=="boolean"?t=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(t=e),this._config.restoreFocus&&t&&typeof t.focus=="function"){let o=vt(),m=this._elementRef.nativeElement;(!o||o===this._document.body||o===m||m.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let e=this._elementRef.nativeElement,t=vt();return e===t||e.contains(t)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=vt()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(t){return new(t||i)(f(J),f(Ct),f(De,8),f(Se),f(bt),f(Pe),f(ke),f(Re))}}static{this.\u0275cmp=I({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(t,o){if(t&1&&mt(Ze,7),t&2){let m;dt(m=pt())&&(o._portalOutlet=m.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,o){t&2&&Te("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},standalone:!0,features:[Ee,F],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,o){t&1&&u(0,an,0,0,"ng-template",0)},dependencies:[Ze],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return i})(),et=class{constructor(n,e){this.overlayRef=n,this.config=e,this.closed=new Y,this.disableClose=e.disableClose,this.backdropClick=n.backdropClick(),this.keydownEvents=n.keydownEvents(),this.outsidePointerEvents=n.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(t=>{t.keyCode===27&&!this.disableClose&&!Me(t)&&(t.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=n.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(n,e){if(this.containerInstance){let t=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),t.next(n),t.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(n="",e=""){return this.overlayRef.updateSize({width:n,height:e}),this}addPanelClass(n){return this.overlayRef.addPanelClass(n),this}removePanelClass(n){return this.overlayRef.removePanelClass(n),this}},ln=new Z("DialogScrollStrategy",{providedIn:"root",factory:()=>{let i=ee(H);return()=>i.scrollStrategies.block()}}),cn=new Z("DialogData"),mn=new Z("DefaultDialogConfig");var dn=0,Zt=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,t,o,m,b,x){this._overlay=e,this._injector=t,this._defaultOptions=o,this._parentDialog=m,this._overlayContainer=b,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Y,this._afterOpenedAtThisLevel=new Y,this._ariaHiddenElements=new Map,this.afterAllClosed=ot(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(st(void 0))),this._scrollStrategy=x}open(e,t){let o=this._defaultOptions||new Se;t=j(j({},o),t),t.id=t.id||`cdk-dialog-${dn++}`,t.id&&this.getDialogById(t.id);let m=this._getOverlayConfig(t),b=this._overlay.create(m),x=new et(b,t),S=this._attachContainer(b,x,t);return x.containerInstance=S,this._attachDialogContent(e,x,S,t),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(x),x.closed.subscribe(()=>this._removeOpenDialog(x,!0)),this.afterOpened.next(x),x}closeAll(){Jt(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){Jt(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),Jt(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let t=new Oi({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachContainer(e,t,o){let m=o.injector||o.viewContainerRef?.injector,b=[{provide:Se,useValue:o},{provide:et,useValue:t},{provide:ke,useValue:e}],x;o.container?typeof o.container=="function"?x=o.container:(x=o.container.type,b.push(...o.container.providers(o))):x=Qt;let S=new Qe(x,o.viewContainerRef,te.create({parent:m||this._injector,providers:b}),o.componentFactoryResolver);return e.attach(S).instance}_attachDialogContent(e,t,o,m){if(e instanceof ci){let b=this._createInjector(m,t,o,void 0),x={$implicit:m.data,dialogRef:t};m.templateContext&&(x=j(j({},x),typeof m.templateContext=="function"?m.templateContext():m.templateContext)),o.attachTemplatePortal(new Si(e,null,x,b))}else{let b=this._createInjector(m,t,o,this._injector),x=o.attachComponentPortal(new Qe(e,m.viewContainerRef,b,m.componentFactoryResolver));t.componentRef=x,t.componentInstance=x.instance}}_createInjector(e,t,o,m){let b=e.injector||e.viewContainerRef?.injector,x=[{provide:cn,useValue:e.data},{provide:et,useValue:t}];return e.providers&&(typeof e.providers=="function"?x.push(...e.providers(t,e,o)):x.push(...e.providers)),e.direction&&(!b||!b.get(Je,null,{optional:!0}))&&x.push({provide:Je,useValue:{value:e.direction,change:si()}}),te.create({parent:b||m,providers:x})}_removeOpenDialog(e,t){let o=this.openDialogs.indexOf(e);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((m,b)=>{m?b.setAttribute("aria-hidden",m):b.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),t&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let t=e.parentElement.children;for(let o=t.length-1;o>-1;o--){let m=t[o];m!==e&&m.nodeName!=="SCRIPT"&&m.nodeName!=="STYLE"&&!m.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(m,m.getAttribute("aria-hidden")),m.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(t){return new(t||i)(T(H),T(te),T(mn,8),T(i,12),T(yt),T(ln))}}static{this.\u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Jt(i,n){let e=i.length;for(;e--;)n(i[e])}var Gi=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=X({type:i})}static{this.\u0275inj=W({providers:[Zt],imports:[ze,Ke,xt,Ke]})}}return i})();function pn(i,n){}var it=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},Kt="mdc-dialog--open",ji="mdc-dialog--opening",Bi="mdc-dialog--closing",un=150,fn=75,gn=(()=>{class i extends Qt{constructor(e,t,o,m,b,x,S,Q,A){super(e,t,o,m,b,x,S,A),this._animationMode=Q,this._animationStateChanged=new at,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Hi(this._config.enterAnimationDuration)??un:0,this._exitAnimationDuration=this._animationsEnabled?Hi(this._config.exitAnimationDuration)??fn:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty($i,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ji,Kt)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Kt),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Kt),this._animationsEnabled?(this._hostElement.style.setProperty($i,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Bi)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(ji,Bi)}_waitForAnimationToComplete(e,t){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(t,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let t=super.attachComponentPortal(e);return t.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),t}static{this.\u0275fac=function(t){return new(t||i)(f(J),f(Ct),f(De,8),f(it),f(bt),f(Pe),f(ke),f(Ye,8),f(Re))}}static{this.\u0275cmp=I({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(t,o){t&2&&(Yt("id",o._config.id),Te("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),Ie("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},standalone:!0,features:[Ee,F],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,o){t&1&&(s(0,"div",0)(1,"div",1),u(2,pn,0,0,"ng-template",2),r()())},dependencies:[Ze],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}}return i})(),$i="--mat-dialog-transition-duration";function Hi(i){return i==null?null:typeof i=="number"?i:i.endsWith("ms")?Fe(i.substring(0,i.length-2)):i.endsWith("s")?Fe(i.substring(0,i.length-1))*1e3:i==="0"?0:null}var St=function(i){return i[i.OPEN=0]="OPEN",i[i.CLOSING=1]="CLOSING",i[i.CLOSED=2]="CLOSED",i}(St||{}),U=class{constructor(n,e,t){this._ref=n,this._containerInstance=t,this._afterOpened=new Y,this._beforeClosed=new Y,this._state=St.OPEN,this.disableClose=e.disableClose,this.id=n.id,n.addPanelClass("mat-mdc-dialog-panel"),t._animationStateChanged.pipe(qe(o=>o.state==="opened"),rt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(qe(o=>o.state==="closed"),rt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),ai(this.backdropClick(),this.keydownEvents().pipe(qe(o=>o.keyCode===27&&!this.disableClose&&!Me(o)))).subscribe(o=>{this.disableClose||(o.preventDefault(),qi(this,o.type==="keydown"?"keyboard":"mouse"))})}close(n){this._result=n,this._containerInstance._animationStateChanged.pipe(qe(e=>e.state==="closing"),rt(1)).subscribe(e=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=St.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(n){let e=this._ref.config.positionStrategy;return n&&(n.left||n.right)?n.left?e.left(n.left):e.right(n.right):e.centerHorizontally(),n&&(n.top||n.bottom)?n.top?e.top(n.top):e.bottom(n.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(n="",e=""){return this._ref.updateSize(n,e),this}addPanelClass(n){return this._ref.addPanelClass(n),this}removePanelClass(n){return this._ref.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=St.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function qi(i,n,e){return i._closeInteractionType=n,i.close(e)}var K=new Z("MatMdcDialogData"),hn=new Z("mat-mdc-dialog-default-options"),_n=new Z("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let i=ee(H);return()=>i.scrollStrategies.block()}});var vn=0,G=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,t,o,m,b,x,S,Q){this._overlay=e,this._defaultOptions=m,this._scrollStrategy=b,this._parentDialog=x,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Y,this._afterOpenedAtThisLevel=new Y,this.dialogConfigClass=it,this.afterAllClosed=ot(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(st(void 0))),this._dialog=t.get(Zt),this._dialogRefConstructor=U,this._dialogContainerType=gn,this._dialogDataToken=K}open(e,t){let o;t=j(j({},this._defaultOptions||new it),t),t.id=t.id||`mat-mdc-dialog-${vn++}`,t.scrollStrategy=t.scrollStrategy||this._scrollStrategy();let m=this._dialog.open(e,oi(j({},t),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:t},{provide:Se,useValue:t}]},templateContext:()=>({dialogRef:o}),providers:(b,x,S)=>(o=new this._dialogRefConstructor(b,t,S),o.updatePosition(t?.position),[{provide:this._dialogContainerType,useValue:S},{provide:this._dialogDataToken,useValue:x.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=m.componentRef,o.componentInstance=m.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let b=this.openDialogs.indexOf(o);b>-1&&(this.openDialogs.splice(b,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}static{this.\u0275fac=function(t){return new(t||i)(T(H),T(te),T(bi,8),T(hn,8),T(_n),T(i,12),T(yt),T(Ye,8))}}static{this.\u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),bn=0,Pt=(()=>{class i{constructor(e,t,o){this.dialogRef=e,this._elementRef=t,this._dialog=o,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=Wi(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){let t=e._matDialogClose||e._matDialogCloseResult;t&&(this.dialogResult=t.currentValue)}_onButtonClick(e){qi(this.dialogRef,e.screenX===0&&e.screenY===0?"keyboard":"mouse",this.dialogResult)}static{this.\u0275fac=function(t){return new(t||i)(f(U,8),f(J),f(G))}}static{this.\u0275dir=ge({type:i,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,o){t&1&&g("click",function(b){return o._onButtonClick(b)}),t&2&&Te("aria-label",o.ariaLabel||null)("type",o.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[we]})}}return i})(),Yi=(()=>{class i{constructor(e,t,o){this._dialogRef=e,this._elementRef=t,this._dialog=o}ngOnInit(){this._dialogRef||(this._dialogRef=Wi(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static{this.\u0275fac=function(t){return new(t||i)(f(U,8),f(J),f(G))}}static{this.\u0275dir=ge({type:i,standalone:!0})}}return i})(),Et=(()=>{class i extends Yi{constructor(){super(...arguments),this.id=`mat-mdc-dialog-title-${bn++}`}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=qt(i)))(o||i)}})()}static{this.\u0275dir=ge({type:i,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(t,o){t&2&&Yt("id",o.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[Ee]})}}return i})(),me=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275dir=ge({type:i,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[di([Ei])]})}}return i})(),de=(()=>{class i extends Yi{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=qt(i)))(o||i)}})()}static{this.\u0275dir=ge({type:i,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(t,o){t&2&&Ie("mat-mdc-dialog-actions-align-start",o.align==="start")("mat-mdc-dialog-actions-align-center",o.align==="center")("mat-mdc-dialog-actions-align-end",o.align==="end")},inputs:{align:"align"},standalone:!0,features:[Ee]})}}return i})();function Wi(i,n){let e=i.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?n.find(t=>t.id===e.id):null}var Xi=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=X({type:i})}static{this.\u0275inj=W({providers:[G],imports:[Gi,ze,Ke,pe,pe]})}}return i})();function Cn(i,n){if(i&1&&p(0,"p",15),i&2){let e=n.index,t=d();Oe("p-2 border border-dark rounded-circle ",e+1<=t.gioco.difficolta?"d-block":"d-none"," m-1"),c("ngClass",t.gioco.difficolta<=2?"bg-success":t.gioco.difficolta<=4?"bg-warning":"bg-danger")}}var Ve=class i{constructor(n,e,t){this.data=n;this.authService=e;this.matDialogRef=t;this.gioco=n}user=null;gioco;circles=[1,2,3,4,5];ngOnInit(){this.user=this.authService.getUser()}play(){this.close(!0)}close(n){this.matDialogRef.close(n)}static \u0275fac=function(e){return new(e||i)(f(K),f(B),f(U))};static \u0275cmp=I({type:i,selectors:[["app-gioco-preview"]],standalone:!0,features:[F],decls:20,vars:8,consts:[[1,"row"],["mat-dialog-title","",1,"col-md-12","text-center","w-100","bg-info","d-flex","justify-content-center","border","border-bottom"],["alt","gioco_image",1,"border","rounded-circle","gioco-image",3,"src"],[1,"text-white"],[1,"col-md-12","p-3","py-5","text-center","bg"],[1,"fs-5","py-4","p-3","w-75","m-auto","border","rounded","bg-personal-transparent"],[1,"py-5","my-3","bg-personal-transparent","w-75","m-auto"],[1,"fs-5"],[1,"d-flex","justify-content-around"],[3,"class","ngClass",4,"ngFor","ngForOf"],[1,"col-md-12","text-end"],[1,"text-end"],[1,"btn","btn-outline-success","m-1",3,"click"],[1,"btn","text-danger","m-1",3,"click"],[1,"col-md-12"],[3,"ngClass"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"div",1),p(2,"img",2),s(3,"h2",3),l(4),r()(),s(5,"mat-dialog-content",4)(6,"p",5),l(7),r(),s(8,"div",6)(9,"p",7),l(10),r(),s(11,"div",8),u(12,Cn,1,4,"p",9),r()()(),s(13,"div",10)(14,"mat-dialog-actions",11)(15,"button",12),g("click",function(){return t.play()}),l(16,"Gioca"),r(),s(17,"button",13),g("click",function(){return t.close(!1)}),l(18,"Chiudi"),r()()(),p(19,"div",14),r()),e&2&&(a(2),w("src",t.gioco==null?null:t.gioco.image,R),a(2),y(t.gioco==null?null:t.gioco.nomeGioco),a(),fi("background:url('",t.gioco.image,"')"),a(2),C(" ",t.gioco==null?null:t.gioco.descrizione," "),a(3),C("Livello di difficolt\xE0 : ",(t.gioco==null?null:t.gioco.difficolta)<=2?"FACILE":(t.gioco==null?null:t.gioco.difficolta)>2&&(t.gioco==null?null:t.gioco.difficolta)<=4?"MEDIO":"DIFFICILE",""),a(2),c("ngForOf",t.circles))},dependencies:[de,me,Et,L,k],styles:[".profile-image[_ngcontent-%COMP%]{width:50px;height:50px}.bg[_ngcontent-%COMP%]{background-repeat:no-repeat!important;background-size:auto!important;background-position:center!important}.gioco-image[_ngcontent-%COMP%]{width:50px;height:50px}"]})};var xe=class i{constructor(n){this.http=n}recensione="/recensione";userAndGioco="/userAndGioco";byGiocoId="/byGiocoId";alertReces=new ri(!1);getRecensioneByUserIdAndGiocoId(n){return this.http.get(P.API_URL+this.recensione+this.userAndGioco+`?giocoId=${n}`)}getRecensioneByGiocoIdPaginated(n,e,t,o,m){return this.http.get(P.API_URL+this.recensione+this.byGiocoId+`/${n}?page=${e||""}&size=${t||""}&orderBy=${o||""}&sortOrder=${m||""}`)}saveRecensione(n){return this.http.post(P.API_URL+this.recensione,n)}putRecensione(n,e){return this.http.put(P.API_URL+this.recensione+`/${e}`,n)}deleteRecensione(n){return this.http.delete(P.API_URL+this.recensione+`/${n}`)}alertRece(n){this.alertReces.next(n)}static \u0275fac=function(e){return new(e||i)(T(ie))};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})};function xn(i,n){if(i&1){let e=v();s(0,"i",20),g("click",function(){let o=h(e).index,m=d(2);return _(m.recePoints=o+1)}),r()}if(i&2){let e=n.index,t=d(2);c("ngClass",e+1<=t.recePoints?"text-warning":"text-secondary")}}function yn(i,n){if(i&1){let e=v();s(0,"div",9)(1,"div",10),p(2,"img",11),s(3,"p",12),l(4),r()(),s(5,"div",13)(6,"div",14),u(7,xn,1,1,"i",15),r(),s(8,"div")(9,"p",16),p(10,"img",17),s(11,"span",18),l(12),r()(),s(13,"textarea",19,0),g("input",function(){h(e);let o=M(14),m=d();return _(m.recensione.commento=o.value)}),l(15,"                        "),r()()()()}if(i&2){let e=d();a(2),w("src",e.giocoImage,R),a(2),y(e.giocoName),a(3),c("ngForOf",e.validationPoints),a(3),w("src",e.user.immagineProfilo,R),a(2),y(e.user.fullName),a(),ui("value"," ",e.recensione==null?null:e.recensione.commento,""),c("disabled",e.action!="Modifica")}}var Ge=class i{constructor(n,e,t,o){this.data=n;this.dialogRef=e;this.authService=t;this.recensioneService=o;this.user=this.authService.getUser()}giocoName="";giocoImage="";giocoId=0;recensione=null;validationPoints=[1,2,3,4,5];user;action="";recePoints=0;ngOnInit(){this.giocoName=this.data[0].nomeGioco,this.giocoImage=this.data[0].image,this.giocoId=this.data[0].id,this.recensione=this.data[1],this.action=this.data[2],this.recePoints=this.recensione?.punteggio}closeDialog(n){this.dialogRef.close(n||!1)}modifica(){let n={punteggio:this.recePoints,commento:this.recensione.commento,giocoId:this.giocoId};this.recensioneService.putRecensione(n,this.recensione.id).subscribe({next:e=>{this.dialogRef.close([!0,e])}})}elimina(){this.dialogRef.close(!0)}static \u0275fac=function(e){return new(e||i)(f(K),f(U),f(B),f(xe))};static \u0275cmp=I({type:i,selectors:[["app-ask-confirm"]],standalone:!0,features:[F],decls:11,vars:4,consts:[["commento",""],[1,"w-100","bg-light-personal","text-center"],[1,""],[1,"p-3","text-center","position-relative","bg-white"],[1,"py-2"],["class","bg-light border rounded shadow-sm",4,"ngIf"],[1,"text-end","position-absolute","bottom-0","end-0"],[1,"btn","btn-success","m-1",3,"click"],[1,"btn","btn-danger","m-1",3,"mat-dialog-close"],[1,"bg-light","border","rounded","shadow-sm"],[1,"w-100","text-center","bg-light-personal","d-flex","justify-content-center","pt-2","rounded-top"],["alt","immagine gioco",1,"gioco-image",3,"src"],[1,"p-2","fs-4"],[1,"py-4"],[1,"d-flex","justify-content-center"],["class","bi bi-star-fill h3",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","align-items-end"],["alt","profile image",1,"rounded-circle","border",3,"src"],[1,"px-3","fs-5"],["cols","40","rows","3","oninput","this.style.height = '';this.style.height = this.scrollHeight + 'px'",1,"p-2","fs-4",2,"height","fit-content",3,"input","disabled","value"],[1,"bi","bi-star-fill","h3",3,"click","ngClass"]],template:function(e,t){e&1&&(s(0,"div",1)(1,"h2",2),l(2),r()(),s(3,"div",3)(4,"mat-dialog-content",4),u(5,yn,16,8,"div",5),r(),s(6,"mat-dialog-actions",6)(7,"button",7),g("click",function(){return t.modifica()}),l(8),r(),s(9,"button",8),l(10,"Annulla"),r()()()),e&2&&(a(2),y(t.action),a(3),c("ngIf",t.recensione!=null),a(3),y(t.action),a(),c("mat-dialog-close",!1))},dependencies:[Pt,de,me,L,z,k],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{font-family:Just Me Again Down Here,cursive;font-weight:400;font-style:normal}h1[_ngcontent-%COMP%]{font-size:80px}.rounded-circle[_ngcontent-%COMP%]{width:50px!important;height:50px!important}.position-relative[_ngcontent-%COMP%]{height:100%!important}.gioco-image[_ngcontent-%COMP%]{width:30px;height:30px}.recensioni-container[_ngcontent-%COMP%]{height:80%}textarea[_ngcontent-%COMP%]{background-color:transparent!important;border:none!important;width:auto}textarea[_ngcontent-%COMP%]:focus{outline:none!important}i[_ngcontent-%COMP%]{cursor:pointer}"]})};function In(i,n){i&1&&(s(0,"div")(1,"h2"),l(2,"La tua recensione"),r()())}function Sn(i,n){if(i&1){let e=v();s(0,"div")(1,"button",33),g("click",function(){h(e);let o=d(2);return _(o.updateRece(o.recensione))}),l(2,"Modifica"),r(),s(3,"button",34),g("click",function(){h(e);let o=d(2);return _(o.deleteRece(o.recensione))}),l(4,"Elimina"),r()()}}function wn(i,n){if(i&1&&p(0,"i",35),i&2){let e=n.index,t=d(2);c("ngClass",e+1<=(t.recensione==null?null:t.recensione.punteggio)?"textg-warning":"d-none")}}function Pn(i,n){if(i&1&&(s(0,"div",16)(1,"div",17)(2,"div",18)(3,"button",19),p(4,"i",20),r(),s(5,"mat-menu",21,1),u(7,Sn,5,0,"ng-template",22),r()(),s(8,"div",23),p(9,"img",24),s(10,"p",25),l(11),r()()(),s(12,"div",26)(13,"div",12),u(14,wn,1,1,"i",27),r(),s(15,"div")(16,"p",28),p(17,"img",29),s(18,"span",30),l(19),r()(),s(20,"p",31),l(21),r(),s(22,"p",32),l(23),r()()()()),i&2){let e=M(6),t=d();a(3),c("matMenuTriggerFor",e),a(6),w("src",t.gioco==null?null:t.gioco.image,R),a(2),C(" ",t.gioco==null?null:t.gioco.nomeGioco," "),a(3),c("ngForOf",t.validationPoints),a(3),w("src",t.recensione==null||t.recensione.user==null?null:t.recensione.user.immagineProfilo,R),a(2),y(t.recensione==null||t.recensione.user==null?null:t.recensione.user.fullName),a(2),C(" ",t.recensione==null?null:t.recensione.commento," "),a(2),C(" ",t.recensione==null?null:t.recensione.createdAt," ")}}function En(i,n){if(i&1&&p(0,"i",35),i&2){let e,t=n.index,o=d(2);c("ngClass",t+1<=((e=o.recensioneForm.get("punteggio"))==null?null:e.value)?"textg-warning":"d-none")}}function Tn(i,n){if(i&1&&(s(0,"option",47),l(1),r()),i&2){let e=n.$implicit;w("value",e),a(),y(e)}}function On(i,n){i&1&&(s(0,"p",48),l(1," Inserisci un punteggio tra 1 e 5."),r())}function Dn(i,n){i&1&&(s(0,"p",48),l(1,"Inserisci un commento valido."),r())}function An(i,n){if(i&1){let e=v();s(0,"div",36)(1,"p",37),l(2),r(),s(3,"form",38)(4,"label",39),l(5,"Scegli il punteggio"),r(),s(6,"span"),u(7,En,1,1,"i",27),r(),s(8,"select",40),p(9,"option",41),u(10,Tn,2,2,"option",42),r(),u(11,On,2,0,"p",43),s(12,"label",44),l(13,"Scrivi un commento"),r(),s(14,"textarea",45),l(15,"                    "),r(),u(16,Dn,2,0,"p",43),r(),s(17,"button",46),g("click",function(){h(e);let o=d();return _(o.recensisciGioco())}),l(18,"Recensisci"),r()()}if(i&2){let e=d();a(2),C("Lascia una recensione su ",e.gioco==null?null:e.gioco.nomeGioco,""),a(),c("formGroup",e.recensioneForm),a(4),c("ngForOf",e.validationPoints),a(3),c("ngForOf",e.validationPoints),a(),c("ngIf",e.isRecensioneFormSubmitted&&e.recensioneForm.get("punteggio").invalid),a(5),c("ngIf",e.isRecensioneFormSubmitted&&e.checkCommento())}}function Mn(i,n){if(i&1&&(s(0,"option",47),l(1),r()),i&2){let e=n.$implicit;c("value",e.values),a(),y(e.label)}}function Fn(i,n){if(i&1&&(s(0,"option",47),l(1),r()),i&2){let e=n.$implicit;c("value",e),a(),y(e)}}function Rn(i,n){if(i&1){let e=v();s(0,"div")(1,"h2"),l(2,"Le altre recensioni"),r(),s(3,"div",49)(4,"div",50)(5,"label",51),l(6,"Ordina per"),r(),s(7,"select",52,2),g("change",function(){h(e);let o=M(8),m=d();return m.sortOrder=o.value.substring(o.value.lastIndexOf(",")+1),m.orderBy=o.value.split("",o.value.length-o.value.substring(o.value.lastIndexOf(",")).length).join().replaceAll(",",""),_(m.getRecensioni(!0,m.page,m.size,m.orderBy,m.sortOrder))}),u(9,Mn,2,2,"option",42),r()(),s(10,"div",50)(11,"label",51),l(12,"Elementi per pagina"),r(),s(13,"select",53,3),g("change",function(){h(e);let o=M(14),m=d();return m.size=m.toNumber(o.value),_(m.getRecensioni(!0,m.page,m.size,m.orderBy,m.sortOrder))}),u(15,Fn,2,2,"option",42),r()()()()}if(i&2){let e=d();a(9),c("ngForOf",e.ordinaArray),a(6),c("ngForOf",e.sizes)}}function kn(i,n){if(i&1&&p(0,"i",35),i&2){let e=n.index,t=d(2);c("ngClass",e+1<=(t.recensione==null?null:t.recensione.punteggio)?"textg-warning":"d-none")}}function zn(i,n){if(i&1){let e=v();s(0,"div",54)(1,"div",16)(2,"div",55),p(3,"img",24),s(4,"p",25),l(5),r()(),s(6,"div",26)(7,"div",12),u(8,kn,1,1,"i",27),r(),s(9,"div")(10,"p",28),p(11,"img",29),s(12,"span",56),g("click",function(){let o=h(e).$implicit,m=d();return _(m.goToProfile(o==null?null:o.user))}),l(13),r()(),s(14,"p",31),l(15),r(),s(16,"p",32),l(17),r()()()()()}if(i&2){let e=n.$implicit,t=d();a(3),w("src",t.gioco==null?null:t.gioco.image,R),a(2),C(" ",t.gioco==null?null:t.gioco.nomeGioco," "),a(3),c("ngForOf",t.validationPoints),a(3),w("src",e==null||e.user==null?null:e.user.immagineProfilo,R),a(2),y(e==null||e.user==null?null:e.user.fullName),a(2),C(" ",e==null?null:e.commento," "),a(2),C(" ",e==null?null:e.createdAt," ")}}function Nn(i,n){if(i&1){let e=v();s(0,"button",57),g("click",function(){h(e);let o=d();return _(o.getRecensioni(!0,o.page=o.page-1,o.size,o.orderBy,o.sortOrder))}),l(1," Precedenti "),r()}}function Ln(i,n){if(i&1){let e=v();s(0,"button",57),g("click",function(){h(e);let o=d();return _(o.getRecensioni(!0,o.page=o.page+1,o.size,o.orderBy,o.sortOrder))}),l(1," Successive "),r()}}function Vn(i,n){i&1&&(s(0,"div")(1,"p",37),l(2,"Non ci sono altre recensioni."),r()())}function Un(i,n){i&1&&(s(0,"div")(1,"p",37),l(2,"Non ci sono recensioni."),r()())}var Ot=class i{constructor(n,e,t,o,m,b,x){this.data=n;this.authService=e;this.recensioneService=t;this.toastr=o;this.dialog=m;this.router=b;this.dialogRef=x;this.gioco=n,this.user=this.authService.getUser()}user=null;gioco=null;recensione=null;validationPoints=[1,2,3,4,5];recensioni;recensioneForm=new D({});isRecensioneFormSubmitted=!1;page=0;size=2;orderBy="punteggio";sortOrder="ASC";ordinaArray=[{label:"Punteggio migliore",values:["punteggio","DESC"]},{label:"Punteggio peggiore",values:["punteggio","ASC"]},{label:"Pi\xF9 recente",values:["createdAt","DESC"]},{label:"Meno recente",values:["createdAt","ASC"]}];sizes=[2,5,10];ngOnInit(){this.getRecensioni(!1,this.page,this.size,this.orderBy,this.sortOrder),this.generateRecensioneForm()}getRecensioni(n,e,t,o,m){n||this.recensioneService.getRecensioneByUserIdAndGiocoId(this.gioco?.id).subscribe(b=>{this.recensione=b}),this.recensioneService.getRecensioneByGiocoIdPaginated(this.gioco?.id,e,t,o,m).subscribe(b=>{this.recensioni=b})}generateRecensioneForm(){this.recensioneForm=new D({punteggio:new E("",N.required),commento:new E("",N.required)})}recensisciGioco(){if(this.isRecensioneFormSubmitted=!0,this.recensioneForm.valid){let n={giocoId:this.gioco?.id,commento:this.recensioneForm.get("commento")?.value,punteggio:this.recensioneForm.get("punteggio")?.value};this.dialog.open(Ge,{data:[this.gioco,n,"Salva"],width:"60%",height:"70%"}).afterClosed().subscribe(t=>{t?this.recensioneService.saveRecensione(n).subscribe({next:()=>{this.getRecensioni(),this.recensioneService.alertRece(!0)}}):this.toastr.show("Non \xE8 stata aggiunta nessuna recensione.")})}else this.toastr.error("Completa correttamente il form.")}checkCommento(){return this.recensioneForm.get("commento").invalid||this.recensioneForm.get("commento").value.trim()===""}toNumber(n){return Number(n)}updateRece(n){this.dialog.open(Ge,{data:[this.gioco,n,"Modifica"],width:"60%",height:"70%"}).afterClosed().subscribe(t=>{t&&t[0]==!0?(this.recensione=t[1],this.toastr.success("Recensione modificata con successo."),this.recensioneService.alertRece(!0)):this.toastr.show("Non \xE8 stata modificata nessuna recensione.")})}deleteRece(n){this.dialog.open(Ge,{data:[this.gioco,n,"Elimina"],width:"60%",height:"70%"}).afterClosed().subscribe(t=>{t?this.recensioneService.deleteRecensione(n?.id).subscribe({next:()=>{this.toastr.success("Recensione eliminata con successo."),this.recensione=null,this.recensioneService.alertRece(!0)}}):this.toastr.show("Non \xE8 stata eliminata nessuna recensione.")})}goToProfile(n){this.router.navigate(["/lobby/profile"],{queryParams:{user:JSON.stringify(n)}}),this.dialogRef.close()}static \u0275fac=function(e){return new(e||i)(f(K),f(B),f(xe),f(_e),f(G),f(he),f(U))};static \u0275cmp=I({type:i,selectors:[["app-recensioni"]],standalone:!0,features:[F],decls:20,vars:10,consts:[["recensisci",""],["appMenu","matMenu"],["ordina",""],["elementi",""],[1,"w-100","bg-light-personal","text-center"],[1,""],[1,"p-3","text-center","position-relative"],[1,"py-2"],[4,"ngIf"],["class","bg-light border rounded shadow-sm",4,"ngIf","ngIfElse"],[1,"recensioni-container","row","py-5","my-2","border-top"],["class","col-lg-6 p-2",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["class","btn btn-light m-1",3,"click",4,"ngIf"],[1,"text-end","position-absolute","bottom-0","end-0"],[1,"btn",3,"mat-dialog-close"],[1,"bg-light","border","rounded","shadow-sm"],[1,"w-100","text-center","bg-light-personal","rounded-top"],[1,"d-flex","justify-content-end"],[1,"btn","text-dark","fw-bolder",3,"matMenuTriggerFor"],[1,"bi","bi-three-dots-vertical"],[1,"overflow-hidden"],["matMenuContent",""],[1,"d-flex","justify-content-center","pt-2"],["alt","immagine gioco",1,"gioco-image",3,"src"],[1,"p-2","fs-4"],[1,"pt-4","pb-2"],["class","bi bi-star-fill text-warning h3",3,"ngClass",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","align-items-end"],["alt","profile image",1,"rounded-circle","border",3,"src"],[1,"px-3","fs-5"],[1,"fs-3","py-3","border-bottom"],[1,"date"],["mat-menu-item","",1,"btn","btn-light","fs-4",3,"click"],["mat-menu-item","",1,"btn","fs-4","btn-danger",3,"click"],[1,"bi","bi-star-fill","text-warning","h3",3,"ngClass"],[1,"text-center"],[1,"fs-4"],[3,"formGroup"],["for","punteggio",1,"p-2"],["name","punteggio","formControlName","punteggio","id","punteggio",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],["for","commento",1,"p-2"],["name","commento","formControlName","commento","id","commento",1,"form-control"],["type","button",1,"btn","my-2",3,"click"],[3,"value"],[1,"text-danger"],[1,"row"],[1,"col-md-6"],["for","ordina",1,"form-label"],["name","ordina","id","ordina",1,"form-select",3,"change"],["name","elementi","id","elementi",1,"form-select",3,"change"],[1,"col-lg-6","p-2"],[1,"w-100","text-center","bg-light-personal","d-flex","justify-content-center","pt-2","rounded-top"],[1,"px-3","fs-5","btn",3,"click"],[1,"btn","btn-light","m-1",3,"click"]],template:function(e,t){if(e&1&&(s(0,"div",4)(1,"h2",5),l(2),r()(),s(3,"div",6)(4,"mat-dialog-content",7),u(5,In,3,0,"div",8)(6,Pn,24,8,"div",9)(7,An,19,6,"ng-template",null,0,vi),s(9,"div",10),u(10,Rn,16,2,"div",8)(11,zn,18,7,"div",11),s(12,"div",12),u(13,Nn,2,0,"button",13)(14,Ln,2,0,"button",13),r(),u(15,Vn,3,0,"div",8)(16,Un,3,0,"div",8),r()(),s(17,"mat-dialog-actions",14)(18,"button",15),l(19,"Chiudi"),r()()()),e&2){let o=M(8);a(2),y("Le recensioni di "+(t.gioco==null?null:t.gioco.nomeGioco)),a(3),c("ngIf",t.recensione!=null),a(),c("ngIf",t.recensione!=null)("ngIfElse",o),a(4),c("ngIf",t.recensioni&&(t.recensioni==null?null:t.recensioni.content)&&t.recensioni.content.length>0),a(),c("ngForOf",t.recensioni==null?null:t.recensioni.content),a(2),c("ngIf",t.recensioni&&(t.recensioni==null?null:t.recensioni.content)&&(t.recensioni==null||t.recensioni.content==null?null:t.recensioni.content.length)>0&&!(t.recensioni!=null&&t.recensioni.first)),a(),c("ngIf",t.recensioni&&(t.recensioni==null?null:t.recensioni.content)&&(t.recensioni==null||t.recensioni.content==null?null:t.recensioni.content.length)>0&&!(t.recensioni!=null&&t.recensioni.last)),a(),c("ngIf",!t.recensioni||!(t.recensioni!=null&&t.recensioni.content)||(t.recensioni==null||t.recensioni.content==null?null:t.recensioni.content.length)==0),a(),c("ngIf",(t.gioco==null?null:t.gioco.recensione)==null||(t.gioco==null||t.gioco.recensione==null?null:t.gioco.recensione.length)==0)}},dependencies:[me,de,It,Mi,Di,Ai,Fi,L,k,Pt,z,ce,se,be,Ce,ne,ve,oe,re,ae,le],styles:[".h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{font-family:Just Me Again Down Here,cursive;font-weight:400;font-style:normal}h1[_ngcontent-%COMP%]{font-size:80px}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:120px}.bg-personal[_ngcontent-%COMP%]{background-color:gray}.rounded-circle[_ngcontent-%COMP%]{width:50px!important;height:50px!important}.position-relative[_ngcontent-%COMP%]{height:100%!important}.gioco-image[_ngcontent-%COMP%]{width:30px;height:30px}.recensioni-container[_ngcontent-%COMP%]{height:80%}.date[_ngcontent-%COMP%]{font-size:12px}"]})};var Mt=class i{constructor(n){this.http=n}gioco="/gioco";byFilters="/byFilters";preferito="/preferito";user="/user";searchGiochi(n,e,t,o,m,b){return this.http.get(P.API_URL+this.gioco+this.byFilters+`?nomeGioco=${n?.nome||""}&difficolta=${n?.difficolta||0}&avg=${n?.punteggio||0}&page=${e}&size=${t}&orderBy=${o}&sortOrder=${m}&isActive=${b}`)}addToFavourites(n){return this.http.post(P.API_URL+this.preferito,n)}removeFromFavourites(n){return this.http.delete(P.API_URL+this.preferito+`/${n}`)}getPreferitiByUserId(n,e,t,o,m){return this.http.get(P.API_URL+this.preferito+this.user+`/${n}?page=${e}&size=${t}&orderBy=${o}&sortOrder=${m}`)}static \u0275fac=function(e){return new(e||i)(T(ie))};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ft=class i{ngOnInit(){}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=I({type:i,selectors:[["app-skeleton"]],decls:17,vars:2,consts:[[1,"border","w-100"],[1,"w-50","m-auto","skeleton"],["src","assets/home/star.png","alt","",1,"w-100"],[1,"py-2"],[1,"w-50","m-auto","skeleton","p-3"],[1,"w-50","skeleton","p-2"],[1,"w-75","skeleton","p-2"],[1,"w-75","skeleton","p-5"],[1,"w-100","m-auto","skeleton","p-3"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"div",1),p(2,"img",2),r(),s(3,"div",3),p(4,"div",4),r(),s(5,"div",3),p(6,"div",5),r(),s(7,"div",3),p(8,"div",6),r(),s(9,"div",3),p(10,"div",6),r(),s(11,"div",3),p(12,"div",7),r(),s(13,"div",3),p(14,"div",6),r(),s(15,"div",3),p(16,"div",8),r()()),e&2&&(a(2),pi("visibility","hidden"))},styles:[".skeleton[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_skeleton-loading .5s linear infinite alternate;color:transparent;background-color:#ede9e9}@keyframes _ngcontent-%COMP%_skeleton-loading{to{background-color:#0ad267}}"]})};function Bn(i,n){if(i&1&&(s(0,"option",11),l(1),r()),i&2){let e=n.$implicit;w("value",e),a(),y(e)}}function $n(i,n){if(i&1&&(s(0,"option",11),l(1),r()),i&2){let e=n.$implicit;w("value",e),a(),y(e)}}function Hn(i,n){if(i&1&&(s(0,"option",11),l(1),r()),i&2){let e=n.$implicit;w("value",e),a(),y(e)}}function qn(i,n){if(i&1){let e=v();s(0,"i",58),g("click",function(){h(e);let o=d(2).$implicit,m=d();return _(m.addToFavourites(o))}),r()}}function Yn(i,n){if(i&1){let e=v();s(0,"i",59),g("click",function(){h(e);let o=d(2).$implicit,m=d();return _(m.removeFromFavourites(o))}),r()}}function Wn(i,n){if(i&1&&p(0,"i",65),i&2){let e=n.index,t=d(2).$implicit;c("ngClass",e+1<=(t==null?null:t.punteggio)?"textg-warning":"d-none")}}function Xn(i,n){if(i&1){let e=v();s(0,"div",61)(1,"div",62),u(2,Wn,1,1,"i",63),r(),s(3,"div")(4,"p")(5,"button",64),g("click",function(){h(e);let o=d().$implicit,m=d(3);return _(m.goToProfile(o==null?null:o.user))}),l(6),r()(),s(7,"p"),l(8),r()()()}if(i&2){let e=d(),t=e.$implicit,o=e.index,m=d(2).$implicit,b=d();c("ngClass",o==1||(m==null||m.recensione==null?null:m.recensione.length)==1?"":"border-bottom"),a(2),c("ngForOf",b.validationPoints),a(4),gi(" ",t==null||t.user==null?null:t.user.fullName," - ",t==null?null:t.createdAt," "),a(2),C(" ",t==null?null:t.commentoPreview," ")}}function Jn(i,n){if(i&1&&(s(0,"div",52),u(1,Xn,9,5,"div",60),r()),i&2){let e=n.index;a(),c("ngIf",e<=1)}}function Qn(i,n){i&1&&(s(0,"div",66),l(1," Non ci sono recensioni "),r())}function Zn(i,n){if(i&1&&p(0,"p",61),i&2){let e=n.index,t=d(2).$implicit;Oe("p-2 border border-dark rounded-circle ",e+1<=t.difficolta?"d-block":"d-none"," m-1"),c("ngClass",t.difficolta<=2?"bg-success":t.difficolta<=4?"bg-warning":"bg-danger")}}function Kn(i,n){if(i&1){let e=v();s(0,"div",42)(1,"div",43),u(2,qn,1,0,"i",44)(3,Yn,1,0,"i",45),p(4,"img",46),r(),s(5,"div",47)(6,"h2"),l(7),r()(),s(8,"div",48)(9,"p",49),l(10),r(),u(11,Jn,2,1,"div",50)(12,Qn,2,0,"div",51),s(13,"div",52)(14,"button",53),g("click",function(){h(e);let o=d().$implicit,m=d();return _(m.rateGame(o))}),l(15,"Lascia una recensione o vedi le altre"),r()()(),s(16,"div",54)(17,"p",55),l(18),r(),s(19,"div",56),u(20,Zn,1,4,"p",57),r()()()}if(i&2){let e=d().$implicit,t=d();a(2),c("ngIf",!t.isPreferred(e)),a(),c("ngIf",t.isPreferred(e)),a(),w("src",e==null?null:e.image,R),a(3),y(e.nomeGioco),a(3),C("Recensioni (",e==null?null:e.totalRecensioniNumber,") : "),a(),c("ngForOf",e==null?null:e.recensione),a(),c("ngIf",(e==null?null:e.recensione)==null||(e==null||e.recensione==null?null:e.recensione.length)==0),a(6),C("Livello di difficolt\xE0 : ",e.difficolta<=2?"FACILE":e.difficolta>2&&e.difficolta<=4?"MEDIO":"DIFFICILE"," "),a(2),c("ngForOf",t.circles)}}function eo(i,n){if(i&1){let e=v();s(0,"div",67),g("click",function(){h(e);let o=d().$implicit,m=d();return _(m.openGameDialog(o))}),s(1,"p",68),l(2,"VAI AL GIOCO "),r(),p(3,"i",69),r()}if(i&2){let e=d().$implicit;a(),c("ngClass",e.difficolta<=2?"text-success":e.difficolta<=4?"text-warning":"text-danger")}}function to(i,n){i&1&&p(0,"app-skeleton")}function io(i,n){if(i&1&&(s(0,"div",38),u(1,Kn,21,9,"div",39)(2,eo,4,1,"div",40)(3,to,1,0,"app-skeleton",41),r()),i&2){let e=d();c("ngClass",e.windowWidth<500?"w-100":"w-75"),a(),c("ngIf",!e.isLoading),a(),c("ngIf",!e.isLoading),a(),c("ngIf",e.isLoading)}}function no(i,n){i&1&&p(0,"app-spinner",70)}var Rt=class i{constructor(n,e,t,o){this.giochiService=n;this.matDialog=e;this.router=t;this.recensioniService=o}giochi=[];circles=[1,2,3,4,5];searchGiocoForm=new D({});points=[1,2,3,4];difficulties=[1,2,3,4];validationPoints=[1,2,3,4,5];page=0;size=2;orderBy="id";sortOrder="ASC";body={nome:this.searchGiocoForm.get("nomeGioco")?.value,difficolta:this.searchGiocoForm.get("difficolta")?.value,punteggio:this.searchGiocoForm.get("punteggioRecensioniDa")?.value};isLoading=!1;maxPages=1;sizes=[2,5,10];windowWidth=0;user=null;timeout=null;canSwitchLocation=new at(!1);mode="light";ngOnInit(){this.initializeGiocoForm(),this.getGiochi(!1,this.body),this.onResize()}ngOnDestroy(){this.isLoading=!1,clearTimeout(this.timeout)}getGiochi(n,e,t){this.canSwitchLocation.emit(!1),this.searchGiocoForm.get("size")?.value!=""&&this.searchGiocoForm.get("size")?.value!=null&&this.searchGiocoForm.get("size")?.value!=null&&(this.size=this.searchGiocoForm.get("size")?.value),this.searchGiocoForm.get("orderBy")?.value!=""&&this.searchGiocoForm.get("orderBy")?.value!=null&&this.searchGiocoForm.get("orderBy")?.value!=null&&(this.orderBy=this.searchGiocoForm.get("orderBy")?.value),this.searchGiocoForm.get("sortOrder")?.value!=""&&this.searchGiocoForm.get("sortOrder")?.value!=null&&this.searchGiocoForm.get("sortOrder")?.value!=null&&(this.sortOrder=this.searchGiocoForm.get("sortOrder")?.value),this.isLoading=!0,this.giochiService.searchGiochi(e,this.page,this.size,this.orderBy,this.sortOrder,!0).pipe(li(1e3)).subscribe({next:o=>{n?this.giochi=o?.content:o?.content?.map(m=>{this.giochi.push(m)}),this.giochi.filter(m=>{m.image=this.readGiocoImage(m?.image)}),this.maxPages=o.totalPages,this.timeout=setTimeout(()=>{this.isLoading=!1,setTimeout(()=>{this.canSwitchLocation.emit(!0)},200)},300)}})}readGiocoImage(n){return n.startsWith("data:image/png;base64,")?n:"data:image/png;base64,"+n}openGameDialog(n){this.matDialog.open(Ve,{data:n,width:"50%",height:"90%"}).afterClosed().subscribe(t=>{t&&this.router.navigate(["/game-field"],{queryParams:{gioco:n.id}})})}initializeGiocoForm(){this.searchGiocoForm=new D({nomeGioco:new E(""),difficolta:new E,punteggioRecensioniDa:new E(""),size:new E(""),orderBy:new E("id"),sortOrder:new E("ASC")})}searchGiochi(n){this.body={nome:this.searchGiocoForm.get("nomeGioco")?.value,difficolta:this.searchGiocoForm.get("difficolta")?.value,punteggio:this.searchGiocoForm.get("punteggioRecensioniDa")?.value};let e=!1;n&&(e=!0,this.page!=0&&(this.page=0)),this.getGiochi(e,this.body)}onScroll(n){n.target.offsetHeight+n.target.scrollTop>=n.target.scrollHeight-5&&!this.isLoading&&(this.page+=1,this.page<this.maxPages&&this.searchGiochi())}rateGame(n){this.matDialog.open(Ot,{data:n,width:"90%",height:"90%"}).afterClosed().subscribe(t=>{this.checkAlertReces()})}goToProfile(n){this.router.navigate(["/lobby/profile"],{queryParams:{user:n.id}})}onResize(){this.windowWidth=window.innerWidth}checkAlertReces(){this.recensioniService.alertReces.subscribe(n=>{n&&(this.page!=0&&(this.page=0),this.getGiochi(!0,this.body))})}isPreferred(n){return this.user?.preferiti?.find(e=>e.gioco.id==n.id)}addToFavourites(n){let e={gioco_id:n.id,user_id:this.user.id};this.giochiService.addToFavourites(e).subscribe({next:t=>{this.user?.preferiti.push(t)}})}removeFromFavourites(n){let e=0;this.user?.preferiti.forEach(t=>{t.gioco.id==n.id&&(e=t.id)}),this.giochiService.removeFromFavourites(e).subscribe({next:t=>{t&&(this.user.preferiti=this.user.preferiti.filter(o=>o?.gioco?.id!=n.id))}})}static \u0275fac=function(e){return new(e||i)(f(Mt),f(G),f(he),f(xe))};static \u0275cmp=I({type:i,selectors:[["app-giochi"]],hostBindings:function(e,t){e&1&&g("resize",function(m){return t.onResize(m)},!1,lt)},inputs:{user:"user",mode:"mode"},outputs:{canSwitchLocation:"canSwitchLocation"},decls:64,vars:7,consts:[[1,"row"],[1,"col-md-4","text-center","overflow-auto",3,"ngClass"],[1,"text-center",3,"formGroup"],["for","nomeGioco",1,"py-1"],["type","text","name","nomeGioco","formControlName","nomeGioco",1,"form-control"],["for","difficolta",1,"py-1"],["name","difficolta","formControlName","difficolta",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","punteggio",1,"py-1"],["name","punteggio","formControlName","punteggioRecensioniDa",1,"form-select"],[3,"value"],["for","size",1,"py-1"],["name","size","formControlName","size",1,"form-select"],[1,"py-1"],[1,"row","text-start"],[1,"col-md-6","p-1"],["type","radio","name","orderBy","formControlName","orderBy","id","id","value","id","checked","",1,"form-check-input"],["for","id",1,"form-check-label"],["type","radio","name","orderBy","formControlName","orderBy","value","nomeGioco","id","nomeGioco",1,"form-check-input"],["for","nomeGioco",1,"form-check-label"],["type","radio","name","orderBy","formControlName","orderBy","value","difficolta","id","difficolta",1,"form-check-input"],["for","difficolta",1,"form-check-label"],["type","radio","name","orderBy","formControlName","orderBy","value","createdAt","id","dataCreazione",1,"form-check-input"],["for","dataCreazione",1,"form-check-label"],["type","radio","name","orderBy","formControlName","orderBy","value","recensione","id","recensioni",1,"form-check-input"],["for","recensioni",1,"form-check-label"],[1,"col-md-12","p-1"],["for","sortOrder"],["type","radio","name","sortOrder","formControlName","sortOrder","value","ASC","checked","","id","crescente",1,"form-check-input"],["for","crescente",1,"form-check-label"],["type","radio","name","sortOrder","formControlName","sortOrder","value","DESC","id","decrescente",1,"form-check-input"],["for","decrescente",1,"form-check-label"],["type","button",1,"btn","btn-success","mt-3",3,"click"],["id","scroller-pagination",1,"col-md-8","border","border-top-0","border-end-0","border-bottom-0","border-dark","p-1","overflow-auto",3,"scroll"],["class","m-auto p-3",3,"ngClass",4,"ngFor","ngForOf"],[1,"w-100","d-flex","justify-content-center","align-items-center"],["class","m-auto",4,"ngIf"],[1,"m-auto","p-3",3,"ngClass"],["class","p-3 game-card bg-white",4,"ngIf"],["class","w-100 p-2 bg-info text-center d-flex justify-content-around align-items-center text-light button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"p-3","game-card","bg-white"],[1,"w-100","text-center","position-relative"],["class","bi bi-heart position-absolute end-0 top-0 m-1 h4",3,"click",4,"ngIf"],["class","bi bi-heart-fill position-absolute end-0 top-0 m-1 h4 text-danger",3,"click",4,"ngIf"],["alt","gioco_image",1,"w-50","m-auto",3,"src"],[1,"text-center","py-2","mb-2"],[1,"border","overflow-auto"],[1,"bg-light","border-bottom","p-1","fs-4"],["class","p-2",4,"ngFor","ngForOf"],["class","p-4",4,"ngIf"],[1,"p-2"],["type","button",1,"btn","btn-success","m-1",3,"click"],[1,"border","my-2"],[1,"bg-light","border-bottom","p-2","fs-4"],[1,"d-flex","justify-content-around"],[3,"class","ngClass",4,"ngFor","ngForOf"],[1,"bi","bi-heart","position-absolute","end-0","top-0","m-1","h4",3,"click"],[1,"bi","bi-heart-fill","position-absolute","end-0","top-0","m-1","h4","text-danger",3,"click"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"d-flex"],["class","bi bi-star-fill text-warning",3,"ngClass",4,"ngFor","ngForOf"],[1,"btn",3,"click"],[1,"bi","bi-star-fill","text-warning",3,"ngClass"],[1,"p-4"],[1,"w-100","p-2","bg-info","text-center","d-flex","justify-content-around","align-items-center","text-light","button",3,"click"],[1,"fs-4","fw-bold","pt-3",3,"ngClass"],["title","Vai al gioco",1,"bi","bi-arrow-up-right","h3","p-3"],[1,"m-auto"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"div",1)(2,"h2"),l(3,"Ricerca fra i giochi"),r(),s(4,"form",2)(5,"label",3),l(6,"Nome completo o in parte"),r(),p(7,"input",4),s(8,"label",5),l(9,"Difficolt\xE0 maggiore di"),r(),s(10,"select",6),p(11,"option",7),u(12,Bn,2,2,"option",8),r(),s(13,"label",9),l(14,"Punteggio recensioni a partire da"),r(),s(15,"select",10),p(16,"option",11),u(17,$n,2,2,"option",8),r(),s(18,"label",12),l(19,"Numero di giochi da caricare"),r(),s(20,"select",13),p(21,"option",7),u(22,Hn,2,2,"option",8),r(),s(23,"label",14),l(24,"Ordina per "),r(),s(25,"div",15)(26,"div",16),p(27,"input",17),s(28,"label",18),l(29," Id "),r()(),s(30,"div",16),p(31,"input",19),s(32,"label",20),l(33," Nome gioco "),r()(),s(34,"div",16),p(35,"input",21),s(36,"label",22),l(37," Difficolt\xE0 "),r()(),s(38,"div",16),p(39,"input",23),s(40,"label",24),l(41," Data creazione "),r()(),s(42,"div",16),p(43,"input",25),s(44,"label",26),l(45," Recensioni "),r()()(),s(46,"div",0)(47,"div",27)(48,"label",28),l(49,"Direzione "),r()(),s(50,"div",16),p(51,"input",29),s(52,"label",30),l(53," Crescente "),r()(),s(54,"div",16),p(55,"input",31),s(56,"label",32),l(57," Decrescente "),r()()(),s(58,"button",33),g("click",function(){return t.searchGiochi("fromForm")}),l(59,"Ricerca"),r()()(),s(60,"div",34),g("scroll",function(m){return t.onScroll(m)}),u(61,io,4,4,"div",35),s(62,"div",36),u(63,no,1,0,"app-spinner",37),r()()()),e&2&&(a(),c("ngClass",t.windowWidth<768?"d-none":"d-block"),a(3),c("formGroup",t.searchGiocoForm),a(8),c("ngForOf",t.difficulties),a(5),c("ngForOf",t.points),a(5),c("ngForOf",t.sizes),a(39),c("ngForOf",t.giochi),a(2),c("ngIf",t.isLoading))},dependencies:[L,k,z,se,be,Ce,ne,ve,Ni,oe,re,ae,le,Le,Ft],styles:[".h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{font-family:Just Me Again Down Here,cursive;font-weight:400;font-style:normal}h1[_ngcontent-%COMP%]{font-size:80px}.btn[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;border:none!important}.button[_ngcontent-%COMP%]{cursor:pointer;border:2px solid gray;border-top:none}.game-card[_ngcontent-%COMP%]{border:2px solid gray;border-bottom:none}.row[_ngcontent-%COMP%]   .col-md-4[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   .col-md-8[_ngcontent-%COMP%]{max-height:700px}.row[_ngcontent-%COMP%]   .col-lg-6[_ngcontent-%COMP%]{height:100%}label[_ngcontent-%COMP%]{font-size:large;padding:1%}.bi-heart[_ngcontent-%COMP%], .bi-heart-fill[_ngcontent-%COMP%]{cursor:pointer}"]})};var je=class i{constructor(n){this.http=n}classifiche="/classifiche";user="/user";gioco="/gioco";getAll(n,e,t,o){return this.http.get(P.API_URL+this.classifiche+`?page=${n}&size=${e}&orderBy=${t}&sortOrder=${o}`)}getByUserId(n){return this.http.get(P.API_URL+this.classifiche+`/${this.user}/${n}`)}getByGiocoId(n){return this.http.get(P.API_URL+this.classifiche+this.gioco+`?giocoId=${n}`)}getById(n){return this.http.get(P.API_URL+this.classifiche+`/${n}`)}static \u0275fac=function(e){return new(e||i)(T(ie))};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})};function ro(i,n){if(i&1&&(s(0,"div",7)(1,"span",8),l(2),r(),s(3,"span",9),l(4," - "),r(),s(5,"span",10),l(6),r(),s(7,"p",9),l(8,"Punti totali* : "),s(9,"span",11),l(10),r()()()),i&2){let e=n.$implicit,t=n.index;a(2),y(t+1),a(4),y(e.user.fullName),a(4),C(" ",e==null?null:e.totalPoints," ")}}var kt=class i{constructor(n,e,t){this.data=n;this.classificheService=e;this.matDialogRef=t}classifica=null;gioco=null;users=[];ngOnInit(){this.classifica=this.data,this.gioco=this.classifica?.gioco,this.classificheService.getByGiocoId(this.classifica?.gioco?.id).subscribe({next:n=>{this.users=Object.values(n?.users)}})}close(){this.matDialogRef.close()}static \u0275fac=function(e){return new(e||i)(f(K),f(je),f(U))};static \u0275cmp=I({type:i,selectors:[["app-show-classifica"]],standalone:!0,features:[F],decls:10,vars:2,consts:[[1,"p-2","bg-light-personal","border-bottom"],[1,"text-end"],[1,"btn","text-danger","fw-bolder",3,"click"],[1,"bi","bi-x-lg","h4"],[1,"px-5"],[1,"p-5"],["class","p-2",4,"ngFor","ngForOf"],[1,"p-2"],[1,"fs-2","fw-bold"],[1,"fs-4"],[1,"fw-bold","fs-2"],[1,"fw-bold","fs-3","text-success"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"p",1)(2,"button",2),g("click",function(){return t.close()}),p(3,"i",3),r()(),s(4,"h2",4),l(5),r()(),s(6,"mat-dialog-content",5),u(7,ro,11,3,"div",6),r(),s(8,"mat-dialog-actions",5),l(9,` * I punti totali sono calcolati in base alla somma delle partite con il punteggio ottenuto, laddove \xE8 previsto punteggio.
`),r()),e&2&&(a(5),C("Dettagli della classifica di ",t.gioco.nomeGioco,""),a(2),c("ngForOf",t.users))},dependencies:[me,de,k],styles:[".h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{font-family:Just Me Again Down Here,cursive;font-weight:400;font-style:normal}h1[_ngcontent-%COMP%]{font-size:80px}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:120px}.bg-personal[_ngcontent-%COMP%]{background-color:gray}.bg-light-personal[_ngcontent-%COMP%]{background-color:#f8d3a5}"]})};function so(i,n){i&1&&(s(0,"div",3),p(1,"app-spinner"),r())}function ao(i,n){i&1&&(s(0,"div",4)(1,"h2"),l(2,"Sembra che non ci siano classifiche per nessun gioco al momento. Inizia una partita e occupa subito il primo posto!"),r()())}function lo(i,n){if(i&1){let e=v();s(0,"div",15)(1,"div",16)(2,"div",17),p(3,"img",18),r(),s(4,"div",19)(5,"h2"),l(6),r(),s(7,"p"),l(8,"Attiva dal "),s(9,"span",20),l(10),hi(11,"date"),r()(),s(12,"p",21),l(13,"Totale partecipanti in classifica : "),s(14,"span",20),l(15),r()()(),s(16,"div",22)(17,"p",23)(18,"button",24),g("click",function(){let o=h(e).$implicit,m=d(2);return _(m.openDialog(o))}),p(19,"i",25),r()()()()()}if(i&2){let e=n.$implicit;a(3),w("src","data:image/png;base64,"+(e==null||e.gioco==null?null:e.gioco.image),R),a(3),C("Classifica di ",e==null||e.gioco==null?null:e.gioco.nomeGioco,""),a(4),C(" ",_i(11,4,e==null?null:e.createdAt,"dd/MM/yyyy")," "),a(5),y(e==null?null:e.totalUsers)}}function co(i,n){if(i&1){let e=v();s(0,"button",8),g("click",function(){h(e);let o=d(2);return o.classifichePage=o.classifichePage-1,_(o.getClassifiche())}),p(1,"i",26),r()}}function mo(i,n){if(i&1){let e=v();s(0,"button",27),g("click",function(){h(e);let o=d(2);return o.classifichePage=o.classifichePage+1,_(o.getClassifiche())}),p(1,"i",28),r()}}function po(i,n){if(i&1){let e=v();s(0,"div",4)(1,"div",0)(2,"div",5)(3,"p",6),l(4,"Ordina"),r()(),s(5,"div",7)(6,"button",8),g("click",function(){h(e);let o=d();return o.classificheSortOrder="DESC",_(o.getClassifiche())}),p(7,"i",9),r(),s(8,"button",8),g("click",function(){h(e);let o=d();return o.classificheSortOrder="ASC",_(o.getClassifiche())}),p(9,"i",10),r()(),u(10,lo,20,7,"div",11),s(11,"div",12),u(12,co,2,0,"button",13)(13,mo,2,0,"button",14),r()()()}if(i&2){let e=d();a(10),c("ngForOf",e.classifiche==null?null:e.classifiche.content),a(2),c("ngIf",!(e.classifiche!=null&&e.classifiche.first)),a(),c("ngIf",!(e.classifiche!=null&&e.classifiche.last))}}var zt=class i{constructor(n,e){this.classificheService=n;this.matDialog=e}classificaId=0;mode="light";classifica;isLoading=!1;classifiche=null;classifichePage=0;classificheSize=5;classificheOrderBy="id";classificheSortOrder="DESC";ngOnInit(){this.classificaId!=0&&this.classificheService.getById(this.classificaId).subscribe({next:n=>{n&&(this.classifica=n),this.classifica=n,this.openDialog(this.classifica)}}),this.getClassifiche()}getClassifiche(){this.classificheService.getAll(this.classifichePage,this.classificheSize,this.classificheOrderBy,this.classificheSortOrder).subscribe({next:n=>{this.classifiche=n}})}openDialog(n){this.classifica=n,this.matDialog.open(kt,{data:this.classifica}).afterClosed().subscribe(t=>{})}static \u0275fac=function(e){return new(e||i)(f(je),f(G))};static \u0275cmp=I({type:i,selectors:[["app-classifiche"]],inputs:{classificaId:"classificaId",mode:"mode"},decls:4,vars:3,consts:[[1,"row"],["class","col-md-12 d-flex py-5 justify-content-center align-items-center",4,"ngIf"],["class","col-md-12",4,"ngIf"],[1,"col-md-12","d-flex","py-5","justify-content-center","align-items-center"],[1,"col-md-12"],[1,"col-md-12","pt-2","d-flex","justify-content-center"],[1,"fs-4"],[1,"col-md-12","p-2","d-flex","justify-content-center"],[1,"btn",3,"click"],[1,"bi","bi-arrow-down"],[1,"bi","bi-arrow-up"],["class","col-md-12 p-3",4,"ngFor","ngForOf"],[1,"col-md-12","p-3","d-flex","justify-content-center","align-items-center"],["class","btn",3,"click",4,"ngIf"],["class","btn fs-5",3,"click",4,"ngIf"],[1,"col-md-12","p-3"],[1,"row","border","shadow","p-2"],[1,"col-md-3"],["alt","immagine_gioco_classifica",1,"w-100",3,"src"],[1,"col-md-8","text-center"],[1,"fw-bold"],[1,"pt-4"],[1,"col-md-1"],[1,"text-end"],["title","Vai alla classifica",1,"btn",3,"click"],[1,"bi","bi-box-arrow-up-right","h4"],[1,"bi","bi-arrow-left-circle-fill","h4"],[1,"btn","fs-5",3,"click"],[1,"bi","bi-arrow-right-circle-fill","h4"]],template:function(e,t){e&1&&(s(0,"div",0),u(1,so,2,0,"div",1)(2,ao,3,0,"div",2)(3,po,14,3,"div",2),r()),e&2&&(a(),c("ngIf",t.isLoading),a(),c("ngIf",!t.classifiche||!(t.classifiche!=null&&t.classifiche.content)||(t.classifiche==null||t.classifiche.content==null?null:t.classifiche.content.length)==0),a(),c("ngIf",(t.classifiche==null||t.classifiche.content==null?null:t.classifiche.content.length)>0))},dependencies:[k,z,Le,ft],styles:[".h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{font-family:Just Me Again Down Here,cursive;font-weight:400;font-style:normal}h1[_ngcontent-%COMP%]{font-size:80px}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:120px}.bg-personal[_ngcontent-%COMP%]{background-color:gray}"]})};var Nt=class i{mode="light";static \u0275fac=function(e){return new(e||i)};static \u0275cmp=I({type:i,selectors:[["app-statistiche"]],inputs:{mode:"mode"},decls:2,vars:0,template:function(e,t){e&1&&(s(0,"p"),l(1,"statistiche works!"),r())}})};var Lt=class i{mode="light";static \u0275fac=function(e){return new(e||i)};static \u0275cmp=I({type:i,selectors:[["app-assistenza"]],inputs:{mode:"mode"},decls:2,vars:0,template:function(e,t){e&1&&(s(0,"p"),l(1,"assistenza works!"),r())}})};var Vt=class i{mode="light";static \u0275fac=function(e){return new(e||i)};static \u0275cmp=I({type:i,selectors:[["app-about-us"]],inputs:{mode:"mode"},decls:2,vars:0,template:function(e,t){e&1&&(s(0,"p"),l(1,"about-us works!"),r())}})};function _o(i,n){if(i&1){let e=v();s(0,"div",17)(1,"div",18)(2,"div",19)(3,"h2"),l(4,"Il tuo profilo"),r()(),s(5,"div",19),p(6,"img",20),r(),s(7,"div",21)(8,"p",22),l(9,"Nome"),r(),l(10),r(),s(11,"div",21)(12,"p",22),l(13,"Cognome"),r(),l(14),r(),s(15,"div",23)(16,"p",22),l(17,"Email"),r(),l(18),r(),s(19,"div",23)(20,"p",22),l(21,"Citt\xE0"),r(),l(22),r(),s(23,"div",23)(24,"p",22),l(25,"Profilo creato in data"),r(),l(26),r(),s(27,"div",24)(28,"button",25),g("click",function(){h(e);let o=d();return _(o.navigateToProfile())}),p(29,"i",26),r()()()()}if(i&2){let e=d();a(6),w("src",e.user==null?null:e.user.immagineProfilo,R),a(4),C(" ",e.user==null?null:e.user.nome," "),a(4),C(" ",e.user==null?null:e.user.cognome," "),a(4),C(" ",e.user==null?null:e.user.email," "),a(4),C(" ",e.user==null||e.user.citta==null?null:e.user.citta.nome," "),a(4),C(" ",e.user==null?null:e.user.createdAt," ")}}function vo(i,n){if(i&1){let e=v();s(0,"app-giochi",31),g("canSwitchLocation",function(o){h(e);let m=d(2);return _(m.onReceiveSwitchLocation(o))}),r()}if(i&2){let e=d(2);c("user",e.user)("mode",e.mode)}}function bo(i,n){if(i&1&&p(0,"app-classifiche",32),i&2){let e=d(2);c("mode",e.mode)("classificaId",e.classificaId)}}function Co(i,n){if(i&1&&p(0,"app-statistiche",33),i&2){let e=d(2);c("mode",e.mode)}}function xo(i,n){if(i&1&&p(0,"app-about-us",33),i&2){let e=d(2);c("mode",e.mode)}}function yo(i,n){if(i&1&&p(0,"app-assistenza",33),i&2){let e=d(2);c("mode",e.mode)}}function Io(i,n){if(i&1&&(s(0,"div",27),u(1,vo,1,2,"app-giochi",28)(2,bo,1,2,"app-classifiche",29)(3,Co,1,1,"app-statistiche",30)(4,xo,1,1,"app-about-us",30)(5,yo,1,1,"app-assistenza",30),r()),i&2){let e=d();c("ngClass",e.mode=="light"?"bg-light":"bg-secondary text-light"),a(),c("ngIf",e.location=="giochi"),a(),c("ngIf",e.location=="classifiche"),a(),c("ngIf",e.location=="statistiche"),a(),c("ngIf",e.location=="about-us"),a(),c("ngIf",e.location=="assistenza")}}function So(i,n){i&1&&(s(0,"div",34),p(1,"app-spinner"),r())}var Ut=class i{constructor(n,e,t,o){this.authService=n;this.modeService=e;this.router=t;this.activatedRoute=o;this.user=this.authService.getUser(),this.modeService.mode.subscribe(m=>{this.mode=m}),this.activatedRoute.snapshot.queryParamMap.get("section")!=null&&(this.location=this.activatedRoute.snapshot.queryParamMap.get("section")),this.activatedRoute.snapshot.queryParamMap.get("classificaId")!=null&&(this.classificaId=Number(this.activatedRoute.snapshot.queryParamMap.get("classificaId")))}user;toggle=!1;mode="light";location="";showMenu=!1;classificaId=0;isLoading=!1;canSwitchLocation=!0;ngOnInit(){localStorage.setItem("location","lobby"),this.isLoading=!0,setTimeout(()=>{this.location="giochi",this.isLoading=!1},1e3)}navigateToProfile(){let n={state:{data:this.user}};this.router.navigate(["/lobby/profile"],n)}changeLocation(n){n!=this.location&&!this.isLoading&&this.canSwitchLocation&&(this.isLoading=!0,setTimeout(()=>{this.isLoading=!1,this.location=n},1e3))}ngOnChanges(n){this.isLoading=!1}onReceiveSwitchLocation(n){this.canSwitchLocation=n}static \u0275fac=function(e){return new(e||i)(f(B),f(Ne),f(he),f(Ae))};static \u0275cmp=I({type:i,selectors:[["app-lobby"]],features:[we],decls:37,vars:11,consts:[[1,"py-5","w-100",3,"ngClass"],[1,"container","p-5","text-center"],[1,"row"],[1,"col-md-12"],[1,"mt-5"],[1,"text-danger"],[1,"col-md-12","text-start","position-relative","px-3"],[1,"btn",3,"click"],["title","Espandi il profilo",1,"bi","bi-list","h2"],["class","profile-card-container position-absolute top-25",4,"ngIf"],[1,"col-md-12","pt-5","mt-5","px-3","text-start"],[1,"col-md-12","scrollable-container","d-flex",3,"ngClass"],[1,"p-2","lobby-nav-button","text-center",3,"ngClass"],["src","assets/lobby/green-dots.png","alt","green_dot",1,"green-dots"],[1,"col-md-12","p-2"],["class","w-100 border shadow-sm p-3 overflow-auto",3,"ngClass",4,"ngIf"],["class","w-100 border shadow-sm p-3 bg-light overflow-auto",4,"ngIf"],[1,"profile-card-container","position-absolute","top-25"],[1,"row","text-start","p-3","bg-light","shadow","overflow-auto","profile-card"],[1,"col-md-12","text-center"],["alt","immagine_profilo",1,"profile-image","m-auto","rounded-circle","shadow-sm",3,"src"],[1,"col-lg-6","fs-2","p-2"],[1,"fs-4","text-danger"],[1,"col-lg-12","fs-2","p-2"],[1,"col-md-12","text-end"],["title","Vai al gioco",1,"btn","brn-light","text-success",3,"click"],[1,"bi","bi-arrow-up-right","h3","p-3","text-success"],[1,"w-100","border","shadow-sm","p-3","overflow-auto",3,"ngClass"],[3,"user","mode","canSwitchLocation",4,"ngIf"],[3,"mode","classificaId",4,"ngIf"],[3,"mode",4,"ngIf"],[3,"canSwitchLocation","user","mode"],[3,"mode","classificaId"],[3,"mode"],[1,"w-100","border","shadow-sm","p-3","bg-light","overflow-auto"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4)(5,"span",5),l(6,"W"),r(),l(7),r()(),s(8,"div",6)(9,"button",7),g("click",function(){return t.showMenu=!t.showMenu}),p(10,"i",8),r(),u(11,_o,30,6,"div",9),r(),s(12,"div",10)(13,"div",2)(14,"div",11)(15,"div",12)(16,"button",7),g("click",function(){return t.changeLocation("giochi")}),l(17," Giochi disponibili "),r()(),p(18,"img",13),s(19,"div",12)(20,"button",7),g("click",function(){return t.changeLocation("classifiche")}),l(21," Classifiche "),r()(),p(22,"img",13),s(23,"div",12)(24,"button",7),g("click",function(){return t.changeLocation("statistiche")}),l(25," Statistiche "),r()(),p(26,"img",13),s(27,"div",12)(28,"button",7),g("click",function(){return t.changeLocation("about-us")}),l(29," About us "),r()(),p(30,"img",13),s(31,"div",12)(32,"button",7),g("click",function(){return t.changeLocation("assistenza")}),l(33," Assistenza "),r()()(),s(34,"div",14),u(35,Io,6,6,"div",15)(36,So,2,0,"div",16),r()()()()()()),e&2&&(c("ngClass",t.mode=="light"?"bg-white":"bg-personal"),a(7),C("elcome ",t.user==null?null:t.user.nome,""),a(4),c("ngIf",t.showMenu),a(3),c("ngClass",t.mode=="light"?"bg-light":"bg-secondary"),a(),c("ngClass",t.location=="giochi"?"bg-warning":""),a(4),c("ngClass",t.location=="classifiche"?"bg-warning":""),a(4),c("ngClass",t.location=="statistiche"?"bg-warning":""),a(4),c("ngClass",t.location=="about-us"?"bg-warning":""),a(4),c("ngClass",t.location=="assistenza"?"bg-warning":""),a(4),c("ngIf",!t.isLoading),a(),c("ngIf",t.isLoading))},dependencies:[L,z,Le,Rt,zt,Nt,Lt,Vt],styles:[".h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{font-family:Just Me Again Down Here,cursive;font-weight:400;font-style:normal}h1[_ngcontent-%COMP%]{font-size:80px}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:120px}.bg-personal[_ngcontent-%COMP%]{background-color:gray}.profile-card[_ngcontent-%COMP%]{transition:1s;border-top:5px solid rgb(73,255,143);border-right:5px solid rgb(141,255,160);border-bottom:5px solid rgb(213,255,217);border-left:5px solid rgb(64,255,0)}.profile-card-container[_ngcontent-%COMP%]{transition:1s;width:300px;left:5%}.lobby-nav-button[_ngcontent-%COMP%]{min-width:150px;transition:1s}.lobby-nav-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:20px}.lobby-nav-button[_ngcontent-%COMP%]:hover{border-right:1px solid rgb(64,255,0);border-left:1px solid rgb(64,255,0);background-color:#8dffa0;transition:1s}.green-dots[_ngcontent-%COMP%]{width:20px;height:10px;margin-top:25px;margin-left:2%;margin-right:2%}.scrollable-container[_ngcontent-%COMP%]{overflow-x:auto}.profile-image[_ngcontent-%COMP%]{height:150px;width:150px}"]})};var wo=["tooltip"],tn=20;var nn=new Z("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let i=ee(H);return()=>i.scrollStrategies.reposition({scrollThrottle:tn})}});function Po(i){return()=>i.scrollStrategies.reposition({scrollThrottle:tn})}var Eo={provide:nn,deps:[H],useFactory:Po};function To(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var Oo=new Z("mat-tooltip-default-options",{providedIn:"root",factory:To});var Ki="tooltip-panel",en=yi({passive:!0}),Do=8,Ao=8,Mo=24,Fo=200,Be=(()=>{class i{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Wt(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let t=Wt(e);this._disabled!==t&&(this._disabled=t,t?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Fe(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Fe(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){let t=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(t)}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,t,o,m,b,x,S,Q,A,nt,q,sn){this._overlay=e,this._elementRef=t,this._scrollDispatcher=o,this._viewContainerRef=m,this._ngZone=b,this._platform=x,this._ariaDescriber=S,this._focusMonitor=Q,this._dir=nt,this._defaultOptions=q,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=Ro,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new Y,this._injector=ee(te),this._scrollStrategy=A,this._document=sn,q&&(this._showDelay=q.showDelay,this._hideDelay=q.hideDelay,q.position&&(this.position=q.position),q.positionAtOrigin&&(this.positionAtOrigin=q.positionAtOrigin),q.touchGestures&&(this.touchGestures=q.touchGestures),q.tooltipClass&&(this.tooltipClass=q.tooltipClass)),nt.change.pipe(fe(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=Do}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(fe(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([t,o])=>{e.removeEventListener(t,o,en)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,t){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let o=this._createOverlay(t);this._detach(),this._portal=this._portal||new Qe(this._tooltipComponent,this._viewContainerRef);let m=this._tooltipInstance=o.attach(this._portal).instance;m._triggerElement=this._elementRef.nativeElement,m._mouseLeaveHideDelay=this._hideDelay,m.afterHidden().pipe(fe(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),m.show(e)}hide(e=this.hideDelay){let t=this._tooltipInstance;t&&(t.isVisible()?t.hide(e):(t._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let m=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&m._origin instanceof J)return this._overlayRef;this._detach()}let t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),o=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return o.positionChanges.pipe(fe(this._destroyed)).subscribe(m=>{this._updateCurrentPositionClass(m.connectionPair),this._tooltipInstance&&m.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${Ki}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(fe(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(fe(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(fe(this._destroyed)).subscribe(m=>{this._isTooltipVisible()&&m.keyCode===27&&!Me(m)&&(m.preventDefault(),m.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let t=e.getConfig().positionStrategy,o=this._getOrigin(),m=this._getOverlayPosition();t.withPositions([this._addOffset(j(j({},o.main),m.main)),this._addOffset(j(j({},o.fallback),m.fallback))])}_addOffset(e){let t=Ao,o=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-t:e.originY==="bottom"?e.offsetY=t:e.originX==="start"?e.offsetX=o?-t:t:e.originX==="end"&&(e.offsetX=o?t:-t),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",t=this.position,o;t=="above"||t=="below"?o={originX:"center",originY:t=="above"?"top":"bottom"}:t=="before"||t=="left"&&e||t=="right"&&!e?o={originX:"start",originY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(o={originX:"end",originY:"center"});let{x:m,y:b}=this._invertPosition(o.originX,o.originY);return{main:o,fallback:{originX:m,originY:b}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",t=this.position,o;t=="above"?o={overlayX:"center",overlayY:"bottom"}:t=="below"?o={overlayX:"center",overlayY:"top"}:t=="before"||t=="left"&&e||t=="right"&&!e?o={overlayX:"end",overlayY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(o={overlayX:"start",overlayY:"center"});let{x:m,y:b}=this._invertPosition(o.overlayX,o.overlayY);return{main:o,fallback:{overlayX:m,overlayY:b}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),ct(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,t){return this.position==="above"||this.position==="below"?t==="top"?t="bottom":t==="bottom"&&(t="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:t}}_updateCurrentPositionClass(e){let{overlayY:t,originX:o,originY:m}=e,b;if(t==="center"?this._dir&&this._dir.value==="rtl"?b=o==="end"?"left":"right":b=o==="start"?"left":"right":b=t==="bottom"&&m==="top"?"above":"below",b!==this._currentPosition){let x=this._overlayRef;if(x){let S=`${this._cssClassPrefix}-${Ki}-`;x.removePanelClass(S+this._currentPosition),x.addPanelClass(S+b)}this._currentPosition=b}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let t;e.x!==void 0&&e.y!==void 0&&(t=e),this.show(void 0,t)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let t=e.targetTouches?.[0],o=t?{x:t.clientX,y:t.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let m=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,o)},this._defaultOptions.touchLongPressShowDelay??m)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",t=>{let o=t.relatedTarget;(!o||!this._overlayRef?.overlayElement.contains(o))&&this.hide()}],["wheel",t=>this._wheelListener(t)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let t=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",t],["touchcancel",t])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([t,o])=>{this._elementRef.nativeElement.addEventListener(t,o,en)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let t=this._document.elementFromPoint(e.clientX,e.clientY),o=this._elementRef.nativeElement;t!==o&&!o.contains(t)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let t=this._elementRef.nativeElement,o=t.style;(e==="on"||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA")&&(o.userSelect=o.msUserSelect=o.webkitUserSelect=o.MozUserSelect="none"),(e==="on"||!t.draggable)&&(o.webkitUserDrag="none"),o.touchAction="none",o.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}static{this.\u0275fac=function(t){return new(t||i)(f(H),f(J),f(Pi),f(mi),f(Pe),f(_t),f(Ii),f(Re),f(nn),f(Je),f(Oo,8),f(De))}}static{this.\u0275dir=ge({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(t,o){t&2&&Ie("mat-mdc-tooltip-disabled",o.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}}return i})(),Ro=(()=>{class i{constructor(e,t,o){this._changeDetectorRef=e,this._elementRef=t,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Y,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled=o==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>Mo&&e.width>=Fo}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let t=this._tooltip.nativeElement,o=this._showAnimation,m=this._hideAnimation;if(t.classList.remove(e?m:o),t.classList.add(e?o:m),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let b=getComputedStyle(t);(b.getPropertyValue("animation-duration")==="0s"||b.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(t.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static{this.\u0275fac=function(t){return new(t||i)(f(ut),f(J),f(Ye,8))}}static{this.\u0275cmp=I({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(t,o){if(t&1&&mt(wo,7),t&2){let m;dt(m=pt())&&(o._tooltip=m.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(t,o){t&1&&g("mouseleave",function(b){return o._handleMouseLeave(b)})},standalone:!0,features:[F],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(t,o){if(t&1){let m=v();s(0,"div",1,0),g("animationend",function(x){return h(m),_(o._handleAnimationEnd(x))}),s(2,"div",2),l(3),r()()}t&2&&(Ie("mdc-tooltip--multiline",o._isMultiline),c("ngClass",o.tooltipClass),a(3),y(o.message))},dependencies:[L],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}}return i})();var $e=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=X({type:i})}static{this.\u0275inj=W({providers:[Eo],imports:[xt,gt,ze,pe,pe,Ti]})}}return i})();var ye=class i{constructor(n){this.http=n}recensione="/recensione";gioco="/gioco";user="/user";userId="/userId";receId="/receId";richiesta="/richiesta";byParams="/byParams";auth="/auth";requestCode="/requestCode";verifyPasswordCode="/verifyPasswordCode";resetPasswordByCode="/resetPasswordByCode";clear="/clear";profileImage="/profileImage";getRecensioniByUserId(n,e,t,o,m){return this.http.get(P.API_URL+this.recensione+`?id=${n}&page=${e}&size=${t}&orderBy=${o}&sortOrder=${m}`)}getGiochiByUserId(n,e,t,o,m){return this.http.get(P.API_URL+this.gioco+this.userId+`?id=${n}&page=${e}&size=${t}&orderBy=${o}&sortOrder=${m}`)}getGiocoByReceId(n){return this.http.get(P.API_URL+this.gioco+this.receId+`?id=${n}`)}getTrofeiByUserId(n,e,t,o,m){return this.http.get(P.API_URL+this.recensione+`?id=${n}&page=${e}&size=${t}&orderBy=${o}&sortOrder=${m}`)}getPunteggiByUserId(n,e,t,o,m){return this.http.get(P.API_URL+this.recensione+`?id=${n}&page=${e}&size=${t}&orderBy=${o}&sortOrder=${m}`)}postRichiestaAssistenza(n){return this.http.post(P.API_URL+this.richiesta,n)}putRichiesta(n,e){return this.http.put(P.API_URL+this.richiesta+`/${e}`,n)}deletRichiesta(n){return this.http.delete(P.API_URL+this.richiesta+`/${n}`)}getRichiesteByUserId(n){return this.http.get(P.API_URL+this.richiesta+this.userId+`/${n}`)}getRichiesteByFilters(n,e,t,o,m,b,x,S,Q){let A=new ht;return A=A.set("userId",n),A=A.set("page",b),A=A.set("size",x),A=A.set("sort",S+","+Q),e&&(A=A.set("oggetto",e)),t&&(A=A.set("descrizione",t)),o&&(A=A.set("from",o)),m&&(A=A.set("to",m)),this.http.get(P.API_URL+this.richiesta+this.byParams,{params:A})}putUser(n,e){return this.http.put(P.API_URL+this.user+`/${e}`,n)}askCode(n,e){return this.http.get(P.API_URL+this.auth+this.requestCode+`/${n}/${e}`)}verifyCode(n,e,t){return this.http.get(P.API_URL+this.auth+this.verifyPasswordCode+`/${n}/${e}/${t}`)}changePassword(n,e,t){return this.http.get(P.API_URL+this.auth+this.resetPasswordByCode+`/${n}/${e}/${t}`)}clearUserCode(n){return this.http.get(P.API_URL+this.auth+this.clear+`/${n}`)}putImage(n){let e=new FormData;return e.append("profile_image",n),this.http.put(P.API_URL+this.user+this.profileImage,e)}static \u0275fac=function(e){return new(e||i)(T(ie))};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})};function ko(i,n){if(i&1){let e=v();s(0,"div",11)(1,"p",12),l(2,"Vuoi davvero eliminare questa richiesta?"),r(),s(3,"button",13),g("click",function(){h(e);let o=d();return o.showConfirmDelete=!1,o.confirmDelete=!0,_(o.delete())}),l(4,"Elimina"),r(),s(5,"button",14),g("click",function(){h(e);let o=d();return o.showConfirmDelete=!1,_(o.confirmDelete=!1)}),l(6,"Annulla"),r()()}}var Gt=class i{constructor(n,e,t,o,m){this.data=n;this.profiloService=e;this.toastr=t;this.dialog=o;this.dialogRef=m;this.richiesta=n[0],this.user=n[1]}user=null;richiesta=null;assistenzaForm=new D({});showConfirmDelete=!1;confirmDelete=!1;ngOnInit(){this.assistenzaForm=new D({oggetto:new E(this.richiesta?.oggetto,N.required),descrizione:new E(this.richiesta?.descrizione,N.required)})}delete(){this.showConfirmDelete=!0,this.confirmDelete==!0&&this.profiloService.deletRichiesta(this.richiesta?.id).subscribe({next:n=>{n&&(this.toastr.show("Richiesta eliminata correttamente"),this.showConfirmDelete=!1,this.confirmDelete=!1,setTimeout(()=>{this.dialogRef.close(!0)},1500))}})}put(){if(this.assistenzaForm.valid){let n={userId:this.user.id,oggetto:this.assistenzaForm.get("oggetto")?.value,descrizione:this.assistenzaForm.get("descrizione")?.value};this.profiloService.putRichiesta(n,this.richiesta?.id).subscribe({next:e=>{this.toastr.success("Richiesta modificata correttamente"),setTimeout(()=>{this.dialogRef.close(!0)},1500)}})}else this.toastr.error("Completa correttamente il form prima.")}static \u0275fac=function(e){return new(e||i)(f(K),f(ye),f(_e),f(G),f(U))};static \u0275cmp=I({type:i,selectors:[["app-richiesta"]],standalone:!0,features:[F],decls:20,vars:2,consts:[["mat-dialog-title",""],[1,"m-2","border","p-2","shadow-sm","row","text-center",3,"formGroup"],[1,"col-md-12","p-2"],["for","oggetto",1,"p-2"],["type","text","formControlName","oggetto","id","oggetto",1,"form-control"],["for","descrizione",1,"p-2"],["type","text","formControlName","descrizione","rows","5","id","descrizione",1,"form-control"],[1,"d-flex","justify-content-around","py-3","w-50","m-auto"],["matTooltip","Modifica","matTooltipPosition","above",1,"btn","btn-outline-success","m-2",3,"click"],["matTooltip","Elimina","matTooltipPosition","above",1,"btn","btn-outline-danger","m-2",3,"click"],["class","w-100 text-center",4,"ngIf"],[1,"w-100","text-center"],[1,"fs-4","text-danger","fw-bold"],[1,"btn","btn-success","m-2",3,"click"],[1,"btn","btn-danger","m-2",3,"click"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"h2"),l(2,"Modifica la richiesta"),r()(),s(3,"mat-dialog-content")(4,"form",1)(5,"div",2)(6,"label",3),l(7," Oggetto "),r(),p(8,"input",4),r(),s(9,"div",2)(10,"label",5),l(11," Descrizione "),r(),p(12,"textarea",6),r()()(),s(13,"mat-dialog-actions")(14,"div",7)(15,"button",8),g("click",function(){return t.put()}),l(16,"Modifica"),r(),s(17,"button",9),g("click",function(){return t.delete()}),l(18,"Elimina"),r()(),u(19,ko,7,0,"div",10),r()),e&2&&(a(4),c("formGroup",t.assistenzaForm),a(15),c("ngIf",t.showConfirmDelete))},dependencies:[Et,me,de,It,z,ce,se,ne,oe,re,ae,le,$e,Be],styles:[".h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{font-family:Just Me Again Down Here,cursive;font-weight:400;font-style:normal}h1[_ngcontent-%COMP%]{font-size:80px}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:120px}.bg-personal[_ngcontent-%COMP%]{background-color:gray}"]})};function zo(i,n){if(i&1){let e=v();s(0,"div",4)(1,"h2"),l(2,"Assistenza"),r(),s(3,"p",6),l(4),r(),s(5,"p",7),l(6,"Qui potrai richiedere assistenza riguardo a varie informazioni. Qui di seguito, inserisci l'oggetto della tua richiesta e sotto inserisci la descrizione dettagliata. Il nostro team ti risponder\xE0 in 24 ore. "),r(),s(7,"form",8)(8,"div",4)(9,"label",9),l(10," OGGETTO * "),r(),p(11,"input",10),r(),s(12,"div",4)(13,"label",11),l(14," DESCRIZIONE * "),r(),p(15,"textarea",12),r()(),s(16,"div",13)(17,"button",14,0),g("click",function(){h(e);let o=d();return _(o.inviaRichiesta())}),l(19,"Invia richiesta"),r(),s(20,"p",15),l(21,"* Campi obbligatori"),r()(),l(22,"- "),r()}if(i&2){let e=M(18),t=d();a(4),C("Ciao ",t.user.nome," !"),a(3),c("formGroup",t.assistenzaForm),a(10),c("disabled",t.assistenzaForm.invalid)("matTooltip",e.disabled?"Completa il form":"Invia la richiesta")}}function No(i,n){if(i&1){let e=v();s(0,"div",20),g("click",function(){h(e),d();let o=M(6);return _(o.click())}),r()}if(i&2){let e=d(2);We("background-image","url('",e.user.immagineProfilo,"')")}}function Lo(i,n){if(i&1){let e=v();s(0,"div",20),g("click",function(){h(e),d();let o=M(6);return _(o.click())}),r()}if(i&2){let e=d(2);We("background-image","url('",e.url,"')")}}function Vo(i,n){if(i&1){let e=v();s(0,"div")(1,"button",21),g("click",function(){h(e);let o=d(2);return _(o.putImage())}),p(2,"i",22),r(),s(3,"button",23),g("click",function(){h(e),d();let o=M(6),m=d();return m.url="",m.selectedImage=null,_(o.value="")}),p(4,"i",24),r()()}}function Uo(i,n){if(i&1){let e=v();s(0,"div",4)(1,"h2"),l(2,"Cambia immagine del profilo"),r(),s(3,"label",16),g("click",function(){h(e);let o=M(6);return _(o.click())}),l(4,"Cambia immagine del profilo"),r(),s(5,"input",17,1),g("change",function(o){h(e);let m=d();return _(m.changeImage(o))}),r(),u(7,No,1,3,"div",18)(8,Lo,1,3,"div",18)(9,Vo,5,0,"div",19),r()}if(i&2){let e=d();a(7),c("ngIf",e.url==""),a(),c("ngIf",e.url!=""),a(),c("ngIf",e.selectedImage)}}function Go(i,n){i&1&&(s(0,"p",35),l(1,"Lunghezza minima : 8 caratteri."),r())}function jo(i,n){i&1&&(s(0,"p",35),l(1,"Lunghezza minima : 8 caratteri."),r())}function Bo(i,n){if(i&1&&(s(0,"p",36),l(1),r()),i&2){let e=d(2);a(),C("Inserisci qui sotto il codice che ti abbiamo mandato per mail. ","- "+e.secondsToInterval,"")}}function $o(i,n){if(i&1){let e=v();s(0,"form",37)(1,"label",38),l(2,"Inserisci il codice"),r(),p(3,"input",39),s(4,"button",40),g("click",function(){h(e);let o=d(2);return _(o.putPassword())}),l(5,"Verifica il codice"),r()()}if(i&2){let e=d(2);c("formGroup",e.codeForm)}}function Ho(i,n){i&1&&(s(0,"p",41),l(1,"Perfetto! Cambia la password!"),r())}function qo(i,n){if(i&1){let e=v();s(0,"div",4)(1,"h2"),l(2,"Cambia la password"),r(),s(3,"form",25,2)(5,"label",26),l(6,"Nuova password"),r(),p(7,"input",27),u(8,Go,2,0,"p",28),s(9,"label",29),l(10,"Ripeti nuova password"),r(),p(11,"input",30),u(12,jo,2,0,"p",28),s(13,"button",31),g("click",function(){h(e);let o=M(4),m=d();return _(m.putPassword(o))}),l(14,"Cambia password"),r()(),u(15,Bo,2,1,"p",32)(16,$o,6,1,"form",33)(17,Ho,2,0,"p",34),r()}if(i&2){let e,t,o=M(4),m=d();a(3),c("formGroup",m.cambiaPassword),a(5),c("ngIf",((e=m.cambiaPassword.get("nuovaPassword"))==null?null:e.invalid)&&o.submitted),a(4),c("ngIf",((t=m.cambiaPassword.get("ripetiNuovaPassword"))==null?null:t.invalid)&&o.submitted),a(3),c("ngIf",m.isCodeRequeste&&!m.isCodeVerified),a(),c("ngIf",m.isCodeRequeste&&!m.isCodeVerified),a(),c("ngIf",m.isCodeVerified)}}function Yo(i,n){if(i&1&&(s(0,"option",51),l(1),r()),i&2){let e=n.$implicit;w("value",e.id),a(),y(e.nome)}}function Wo(i,n){if(i&1){let e=v();s(0,"div",4)(1,"h2"),l(2,"Cambia altre informazioni"),r(),s(3,"form",42)(4,"label",43),l(5,"Nome"),r(),p(6,"input",44),s(7,"label",45),l(8,"Cognome"),r(),p(9,"input",46),s(10,"label",47),l(11,"Citt\xE0"),r(),s(12,"select",48),u(13,Yo,2,2,"option",49),r(),s(14,"button",50),g("click",function(){h(e);let o=d();return _(o.updateProfile())}),l(15,"Modifica profilo"),r()()()}if(i&2){let e,t=d();a(3),c("formGroup",t.altreImpostazioniForm),a(10),c("ngForOf",t.citta),a(),c("disabled",!t.altreImpostazioniForm.touched||t.altreImpostazioniForm.invalid||t.user.nome==((e=t.altreImpostazioniForm.get("nome"))==null?null:e.value)&&t.user.cognome==((e=t.altreImpostazioniForm.get("cognome"))==null?null:e.value)&&t.user.citta.id==((e=t.altreImpostazioniForm.get("citta"))==null?null:e.value))}}function Xo(i,n){i&1&&(s(0,"p",71),l(1," Non ci sono richieste da visualizzare al momento. "),r())}function Jo(i,n){if(i&1&&(s(0,"option",51),l(1),r()),i&2){let e=n.$implicit;w("value",e),a(),y(e)}}function Qo(i,n){if(i&1&&(s(0,"option",51),l(1),r()),i&2){let e=n.$implicit;w("value",e=="data di caricamento"?"createdAt":e),a(),C("",e," ")}}function Zo(i,n){if(i&1&&(s(0,"option",51),l(1),r()),i&2){let e=n.$implicit;c("value",e[1]),a(),y(e[0])}}function Ko(i,n){if(i&1){let e=v();s(0,"div",75)(1,"div",76)(2,"p",77)(3,"button",78),g("click",function(){let o=h(e).$implicit,m=d(3);return _(m.modifyRichiesta(o))}),p(4,"i",79),r()(),s(5,"h2"),l(6),r(),s(7,"p",80),l(8,"Creata il "),s(9,"span",81),l(10),r()(),s(11,"p",82),l(12),r()()()}if(i&2){let e=n.$implicit,t=d(3);a(6),y(e==null?null:e.oggetto),a(4),y(t.format(e==null?null:e.createdAt)),a(2),C(" ",e==null?null:e.descrizionePreview," ")}}function er(i,n){if(i&1){let e=v();s(0,"button",83),g("click",function(){h(e);let o=d(3);return o.richiestaPage=o.richiestaPage-1,_(o.getRichiesteByParams())}),p(1,"i",84),r()}}function tr(i,n){if(i&1){let e=v();s(0,"button",83),g("click",function(){h(e);let o=d(3);return o.richiestaPage=o.richiestaPage+1,_(o.getRichiesteByParams())}),p(1,"i",85),r()}}function ir(i,n){if(i&1&&(s(0,"div"),u(1,Ko,13,3,"div",72),s(2,"div",73),u(3,er,2,0,"button",74)(4,tr,2,0,"button",74),r()()),i&2){let e=d(2);a(),c("ngForOf",e.richieste==null?null:e.richieste.content),a(2),c("ngIf",!(e.richieste!=null&&e.richieste.first)),a(),c("ngIf",!(e.richieste!=null&&e.richieste.last))}}function nr(i,n){if(i&1){let e=v();s(0,"div",4)(1,"h2"),l(2,"Monitora le tue richieste"),r(),u(3,Xo,2,0,"p",52),s(4,"form",53)(5,"div",54)(6,"label",55),l(7,"Numero di elementi per pagina"),r(),s(8,"select",56),u(9,Jo,2,2,"option",49),r()(),s(10,"div",54)(11,"label",57),l(12,"Ordina per"),r(),s(13,"select",58),u(14,Qo,2,2,"option",49),r()(),s(15,"div",54)(16,"label",59),l(17,"Ordine "),r(),s(18,"select",60),u(19,Zo,2,2,"option",49),r()(),s(20,"div",54)(21,"label",61),l(22,"Oggetto contenente"),r(),p(23,"input",62),r(),s(24,"div",4)(25,"label",63),l(26,"Descrizione contenente"),r(),s(27,"textarea",64),l(28,"                "),r()(),s(29,"div",4)(30,"div",3)(31,"div",54)(32,"label",65),l(33,"Da"),r(),p(34,"input",66),r(),s(35,"div",54)(36,"label",67),l(37,"A"),r(),p(38,"input",68),r()()(),s(39,"div",69)(40,"button",70),g("click",function(){h(e);let o=d();return _(o.getRichiesteByParams())}),l(41,"Cerca"),r()()(),u(42,ir,5,3,"div",19),r()}if(i&2){let e=d();a(3),c("ngIf",e.richieste==null||(e.richieste==null||e.richieste.content==null?null:e.richieste.content.length)==0),a(),c("formGroup",e.richiestaParametersForm),a(5),c("ngForOf",e.richiestaSizes),a(5),c("ngForOf",e.richiestaSorts),a(5),c("ngForOf",e.richiestaOrders),a(23),c("ngIf",(e.richieste==null||e.richieste.content==null?null:e.richieste.content.length)>0)}}var jt=class i{constructor(n,e,t,o,m,b){this.toastr=n;this.profileService=e;this.datePipe=t;this.matDialog=o;this.formService=m;this.authService=b}section="";user=null;assistenzaForm=new D({});richieste=null;richiestaPage=0;richiestaParametersForm=new D({});richiestaSizes=[5,10,20];richiestaSorts=["id","oggetto","descrizione","data di caricamento"];richiestaOrders=[["Dal primo all'ultimo","ASC"],["Dall'ultimo al primo","DESC"]];altreImpostazioniForm=new D({});citta=[];cambiaPassword=new D({});isCodeRequeste=!1;isCodeVerified=!1;codeForm=new D({});codeInterval;codeTimeout;secondsToInterval=30;immagineForm=new D({});selectedImage=null;url="";ngOnChanges(n){this.section!="Cambia la password"&&(this.codeForm.reset(),this.cambiaPassword.reset())}ngOnDestroy(){this.codeForm.reset(),this.cambiaPassword.reset()}ngOnInit(){this.assistenzaForm=new D({oggetto:new E("",N.required),descrizione:new E("",N.required)}),this.richiestaParametersForm=new D({size:new E(5),sort:new E("id"),order:new E("ASC"),oggetto:new E(""),descrizione:new E(""),from:new E(""),to:new E("")}),this.altreImpostazioniForm=new D({nome:new E(this.user.nome,N.required),cognome:new E(this.user.cognome,N.required),citta:new E(this.user.citta.id,N.required)}),this.cambiaPassword=new D({nuovaPassword:new E("",[N.required,N.minLength(8)]),ripetiNuovaPassword:new E("",[N.required,N.minLength(8)])}),this.codeForm=new D({code:new E("",[N.required,N.minLength(6)])}),this.getRichieste(),this.getCitta()}inviaRichiesta(){if(this.assistenzaForm.valid){let n={userId:this.user.id,oggetto:this.assistenzaForm.get("oggetto")?.value,descrizione:this.assistenzaForm.get("descrizione")?.value};this.profileService.postRichiestaAssistenza(n).subscribe({next:e=>{this.toastr.success("Richiesta inviata."),this.assistenzaForm.reset(),this.getRichieste()}})}else this.toastr.show("Inserisci i campi richiesti.")}getRichieste(){this.profileService.getRichiesteByUserId(this.user.id).subscribe({next:n=>{this.richieste=n}})}format(n){return this.datePipe.transform(n,"dd/MM/yyyy")}modifyRichiesta(n){this.matDialog.open(Gt,{data:[n,this.user]}).afterClosed().subscribe({next:t=>{t==!0&&this.getRichieste()}})}getRichiesteByParams(){let n=!0;(this.richiestaParametersForm.get("from")?.value&&!this.richiestaParametersForm.get("to")?.value||!this.richiestaParametersForm.get("from")?.value&&this.richiestaParametersForm.get("to")?.value)&&(this.toastr.error("Inserisci da quando a quando."),n=!1),n&&this.profileService.getRichiesteByFilters(this.user.id,this.richiestaParametersForm.get("oggetto")?.value,this.richiestaParametersForm.get("descrizione")?.value,this.richiestaParametersForm.get("from")?.value,this.richiestaParametersForm.get("to")?.value,this.richiestaPage,this.richiestaParametersForm.get("size")?.value,this.richiestaParametersForm.get("sort")?.value,this.richiestaParametersForm.get("order")?.value).subscribe({next:e=>{this.richieste=e}})}getCitta(){this.formService.getCities().subscribe({next:n=>{this.citta=n}})}updateProfile(){if(this.altreImpostazioniForm.valid){let n={nome:this.altreImpostazioniForm.get("nome")?.value,cognome:this.altreImpostazioniForm.get("cognome")?.value,cittaId:this.altreImpostazioniForm.get("citta")?.value};this.profileService.putUser(n,this.user.id).subscribe({next:e=>{this.user=e,this.authService.setUser(e),this.authService.isAuthenticatedUser.next(!0)}})}else this.toastr.show("Completa correttamente il form")}putPassword(n){this.cambiaPassword.valid?this.cambiaPassword.get("nuovaPassword")?.value==this.cambiaPassword.get("ripetiNuovaPassword")?.value?this.isCodeRequeste?this.isCodeVerified?this.profileService.changePassword(this.cambiaPassword.get("nuovaPassword")?.value,this.user.email,this.codeForm.get("code")?.value).subscribe({next:e=>{this.toastr.success("Password cambiata."),this.isCodeRequeste=!1,this.isCodeVerified=!1,this.codeForm.reset(),this.cambiaPassword.reset(),this.cambiaPassword.updateValueAndValidity(),n.submitted=!1,this.profileService.clearUserCode(this.user.email).subscribe({next:t=>{}})}}):this.codeForm.valid?this.profileService.verifyCode(this.user.email,this.codeForm.get("code")?.value,!1).subscribe({next:e=>{e?this.isCodeVerified=!0:(this.isCodeVerified=!1,this.toastr.error("Il codice non \xE8 giusto"))}}):(this.isCodeVerified=!1,this.codeForm.get("code")?.value?this.toastr.error("Il codice deve contenere 6 lettere/caratteri."):this.toastr.error("Non hai inserito il codice!")):this.profileService.askCode(this.user.email,!1).subscribe(e=>{e&&(this.isCodeRequeste=!0,this.toastr.show("Ti abbiamo mandato un codice via mail, inseriscilo nel riquadro."),this.codeInterval=setInterval(()=>{this.secondsToInterval>0&&(this.secondsToInterval-=1)},1e3),this.codeTimeout=setTimeout(()=>{clearInterval(this.codeInterval),this.secondsToInterval=30,this.isCodeRequeste=!1,this.profileService.clearUserCode(this.user.email).subscribe({next:t=>{this.codeForm.reset(),this.toastr.show("Richiedi un altro codice.")}})},3e4))}):this.toastr.error("Le nuove password che hai inserito non coincidono"):this.toastr.error("Assicurati di inserire la tua vecchia password e la password nuova.")}changeImage(n){if(n&&n?.target?.files&&n?.target?.files[0]){this.selectedImage=n.target.files[0];var e=new FileReader;e.readAsDataURL(n.target.files[0]),e.onload=t=>{this.url=t.target.result}}else this.url="",this.selectedImage=null}putImage(){this.selectedImage?this.profileService.putImage(this.selectedImage).subscribe({next:n=>{this.authService.setUser(n),this.authService.isAuthenticatedUser.next(!0),this.toastr.success("Immagine cambiata con successo."),this.selectedImage=null,this.url=""}}):this.toastr.error("Non hai caricato nessuna nuova immagine.")}static \u0275fac=function(e){return new(e||i)(f(_e),f(ye),f(ft),f(G),f(Li),f(B))};static \u0275cmp=I({type:i,selectors:[["app-impostazioni"]],inputs:{section:"section",user:"user"},standalone:!0,features:[we,F],decls:9,vars:5,consts:[["btn",""],["immagine",""],["form","ngForm"],[1,"row"],[1,"col-md-12"],["class","col-md-12",4,"ngIf"],[1,"fs-2"],[1,"fs-4","w-75","m-auto","pb-5"],[1,"w-75","m-auto","row","p-4","assistenza-form",3,"formGroup"],["for","oggetto",1,"p-3"],["type","text","id","oggetto","formControlName","oggetto",1,"form-control","p-2"],["for","descrizione",1,"p-3"],["type","text","id","descrizione","formControlName","descrizione","rows","3",1,"form-control","p-2"],[1,"w-75","m-auto"],["matTooltipPosition","above",1,"btn","my-3","btn-outline-success","fw-bold",3,"click","disabled","matTooltip"],[1,"py-3","text-start"],["for","immagine",1,"to-point","fs-4","pb-3",3,"click"],["type","file","id","immagine","name","immagine","accept","image/png, image/gif, image/jpeg, image/jpg",1,"d-none",3,"change"],["class","rounded-circle shadow to-point profile-pic m-auto",3,"backgroundImage","click",4,"ngIf"],[4,"ngIf"],[1,"rounded-circle","shadow","to-point","profile-pic","m-auto",3,"click"],["matTooltip","Carica","matTooltipPosition","above",1,"btn","pt-3","btn-outline-success","fw-bold","m-2",3,"click"],[1,"bi","bi-upload","fw-bold","h4"],["matTooltip","Elimina","matTooltipPosition","above",1,"btn","pt-3","btn-outline-danger","fw-bold","m-2",3,"click"],[1,"bi","bi-x-lg","fw-bold","h4"],[1,"w-75","m-auto",3,"formGroup"],["for","nuovaPassword",1,"p-2","fs-4"],["type","password","id","nuovaPassword","formControlName","nuovaPassword","name","nuovaPassword",1,"form-control","m-2"],["class","text-danger",4,"ngIf"],["for","ripetiNuovaPassword",1,"p-2","fs-4"],["type","password","id","ripetiNuovaPassword","formControlName","ripetiNuovaPassword","name","ripetiNuovaPassword",1,"form-control","m-2"],[1,"btn","btn-outline-primary","fw-bold","my-3",3,"click"],["class","text-success fw-bold fs-4 py-3",4,"ngIf"],[3,"formGroup",4,"ngIf"],["class","text-success fs-4 py-2",4,"ngIf"],[1,"text-danger"],[1,"text-success","fw-bold","fs-4","py-3"],[3,"formGroup"],["for","code",1,"fs-4","py-2"],["type","text","formControlName","code","name","code","id","code",1,"form-control"],[1,"btn","my-3",3,"click"],[1,"text-success","fs-4","py-2"],[1,"m-auto","my-4","p-4","w-75",3,"formGroup"],["for","nome",1,"p-2","fs-3"],["type","text","placeholder","Scrivi il tuo nome","id","nome","formControlName","nome",1,"form-control","text-center","w-75","m-auto"],["for","cognome",1,"p-2","fs-3"],["type","text","placeholder","Scrivi il tuo cognome","id","cognome","formControlName","cognome",1,"form-control","text-center","w-75","m-auto"],["for","citta",1,"p-2","fs-3"],["name","citta","id","citta","formControlName","citta","placeholder","Scegli la citt\xE0","onfocus","this.size=7","onblur","this.size=1","onchange","this.blur()",1,"form-select","text-center","w-75","m-auto"],[3,"value",4,"ngFor","ngForOf"],[1,"btn","my-3","btn-outline-primary","fw-bold",3,"click","disabled"],[3,"value"],["class","py-5 fs-3",4,"ngIf"],[1,"row","py-5",3,"formGroup"],[1,"col-md-6"],["for","size"],["name","size","id","size","formControlName","size",1,"form-select"],["for","sort"],["name","sort","id","sort","formControlName","sort",1,"form-select"],["for","order"],["name","order","id","order","formControlName","order",1,"form-select"],["for","oggetto"],["type","text","id","oggetto","name","oggetto","formControlName","oggetto",1,"form-control"],["for","descrizione"],["type","text","id","descrizione","rows","3","name","descrizione","formControlName","descrizione",1,"form-control"],["for","from",1,"p-1"],["type","date","name","from","formControlName","from","id","from",1,"form-control"],["for","to",1,"p-1"],["type","date","name","to","formControlName","to","id","to",1,"form-control"],[1,"col-md-12","text-center","py-3"],[1,"btn","btn-outline-primary","fw-bold",3,"click"],[1,"py-5","fs-3"],["class","col-md-12 p-3",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-around","py-3"],["class","btn",3,"click",4,"ngIf"],[1,"col-md-12","p-3"],[1,"p-2","border","shadow-lg"],[1,"d-flex","justify-content-end"],["matTooltip","Modifica","matTooltipPosition","above",1,"btn",3,"click"],[1,"bi","bi-pencil-fill","h4","text-primary"],[1,"sub-title"],[1,"fw-bold"],[1,"py-5","bg-light","shadow-sm","text-dark"],[1,"btn",3,"click"],[1,"bi","bi-arrow-left-circle-fill","h4"],[1,"bi","bi-arrow-right-circle-fill","h4"]],template:function(e,t){e&1&&(s(0,"div",3)(1,"div",4)(2,"h2"),l(3," Gestisci il tuo profilo"),r()(),u(4,zo,23,4,"div",5)(5,Uo,10,3,"div",5)(6,qo,18,6,"div",5)(7,Wo,16,3,"div",5)(8,nr,43,6,"div",5),r()),e&2&&(a(4),c("ngIf",t.section=="Richiedi assistenza"),a(),c("ngIf",t.section=="Cambia immagine del profilo"),a(),c("ngIf",t.section=="Cambia la password"),a(),c("ngIf",t.section=="Cambia altre informazioni"),a(),c("ngIf",t.section=="Monitora le tue richieste"))},dependencies:[z,ce,se,be,Ce,ne,ve,oe,re,ae,le,$e,Be,k],styles:[".h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{font-family:Just Me Again Down Here,cursive;font-weight:400;font-style:normal}h1[_ngcontent-%COMP%]{font-size:80px}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:120px}.bg-personal[_ngcontent-%COMP%]{background-color:gray}.btn[_ngcontent-%COMP%]{pointer-events:auto!important}.assistenza-form[_ngcontent-%COMP%]{border-top:2px solid gray}.sub-title[_ngcontent-%COMP%]{position:relative;top:-33px;font-size:14px}.to-point[_ngcontent-%COMP%]{cursor:pointer}.profile-pic[_ngcontent-%COMP%]{width:170px;min-height:170px!important;background-size:contain;background-repeat:no-repeat;background-position:center;background-color:#f5f5f5}"]})};var Bt=class i{constructor(n){this.http=n}preferito="/preferito";user="/user";getPreferiti(n,e,t,o,m,b,x){let S=new ht;return S=S.set("page",e),S=S.set("size",t),S=S.set("orderBy",o),S=S.set("sortOrder",m),b&&(S=S.set("giocoName",b)),x&&(S=S.set("giocoDifficolta",x)),this.http.get(P.API_URL+this.preferito+this.user+`/ ${n}`,{params:S})}deletePreferito(n){return this.http.delete(P.API_URL+this.preferito+`/ ${n}`)}static \u0275fac=function(e){return new(e||i)(T(ie))};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})};function rr(i,n){i&1&&(s(0,"h1"),l(1,"Benvenuto nei tuoi preferiti!"),r())}function sr(i,n){if(i&1&&(s(0,"h1"),l(1),r()),i&2){let e=d();a(),C("I preferiti di ",e.visitedUser.fullName,"!")}}function ar(i,n){i&1&&(s(0,"h2"),l(1,"Cerca fra i preferiti"),r())}function lr(i,n){if(i&1&&(s(0,"option",25),l(1),r()),i&2){let e=n.$implicit;w("value",e),a(),y(e)}}function cr(i,n){if(i&1&&(s(0,"option",25),l(1),r()),i&2){let e=n.$implicit;w("value",e),a(),y(e)}}function mr(i,n){if(i&1&&(s(0,"option",25),l(1),r()),i&2){let e=n.$implicit;w("value",e),a(),y(e)}}function dr(i,n){if(i&1&&(s(0,"option",25),l(1),r()),i&2){let e=n.$implicit;w("value",e),a(),y(e)}}function pr(i,n){if(i&1){let e=v();s(0,"p",30)(1,"button",31),g("click",function(){h(e);let o=d().$implicit,m=d();return _(m.deletePreferito(o==null?null:o.id))}),p(2,"i",32),r()()}}function ur(i,n){if(i&1&&(s(0,"div",26)(1,"div",27),u(2,pr,3,0,"p",28),s(3,"h2"),l(4),r(),s(5,"p"),l(6),r(),s(7,"p"),l(8,"Difficolt\xE0 :"),r(),s(9,"p",29),l(10),r()()()),i&2){let e=n.$implicit,t=d();a(2),c("ngIf",(t.user==null?null:t.user.id)==(t.visitedUser==null?null:t.visitedUser.id)),a(2),C(" ",e==null||e.gioco==null?null:e.gioco.nomeGioco," "),a(2),C(" ",e==null||e.gioco==null?null:e.gioco.descrizione," "),a(3),c("ngClass",(e==null||e.gioco==null?null:e.gioco.difficolta)<=2?"text-success":(e==null||e.gioco==null?null:e.gioco.difficolta)<=4&&(e==null||e.gioco==null?null:e.gioco.difficolta)>2?"text-warning":"text-danger"),a(),C(" ",e==null||e.gioco==null?null:e.gioco.difficolta,"")}}function fr(i,n){if(i&1){let e=v();s(0,"button",36),g("click",function(){h(e);let o=d(2);return o.preferitiPage=o.preferitiPage-1,_(o.getPreferiti())}),p(1,"i",37),r()}}function gr(i,n){if(i&1){let e=v();s(0,"button",38),g("click",function(){h(e);let o=d(2);return o.preferitiPage=o.preferitiPage+1,_(o.getPreferiti())}),p(1,"i",39),r()}}function hr(i,n){if(i&1&&(s(0,"div",33),u(1,fr,2,0,"button",34)(2,gr,2,0,"button",35),r()),i&2){let e=d();a(),c("ngIf",!(e.preferiti!=null&&e.preferiti.first)),a(),c("ngIf",!(e.preferiti!=null&&e.preferiti.last))}}function _r(i,n){i&1&&(s(0,"h2"),l(1,"Non hai ancora nessun gioco nei tuoi preferiti!"),r())}function vr(i,n){i&1&&(s(0,"button",41)(1,"a",42),l(2,"Aggiungine qualcuno!"),r()())}function br(i,n){if(i&1&&(s(0,"h2"),l(1),r()),i&2){let e=d(2);a(),C("",e.visitedUser.fullName," non ha ancora nessun gioco nei preferiti.")}}function Cr(i,n){if(i&1&&(s(0,"div",5),u(1,_r,2,0,"h2",4)(2,vr,3,0,"button",40)(3,br,2,1,"h2",4),r()),i&2){let e=d();a(),c("ngIf",(e.user==null?null:e.user.id)==(e.visitedUser==null?null:e.visitedUser.id)),a(),c("ngIf",(e.user==null?null:e.user.id)==(e.visitedUser==null?null:e.visitedUser.id)),a(),c("ngIf",(e.user==null?null:e.user.id)!=(e.visitedUser==null?null:e.visitedUser.id)&&e.visitedUser)}}var He=class i{constructor(n,e,t,o,m){this.route=n;this.authService=e;this.preferitiService=t;this.toastr=o;this.modeService=m;this.modeService.mode.subscribe(b=>{this.mode=b})}user=null;visitedUser=null;preferiti=null;preferitiPage=0;searchPreferitiForm=new D({});sizes=[5,10,20];orderBys=["Id","Nome gioco","Data di creazione del gioco","Data di aggiunta ai preferiti"];sortOrders=["Ascendente","Discendente"];difficulties=[1,2,3,4,5];userInput=null;mode="light";ngOnInit(){this.user=this.authService.getUser(),this.userInput==null?(localStorage.setItem("location","lobby/preferiti"),this.route.queryParams.subscribe(n=>{n.user&&this.authService.getUserById(n.user).subscribe({next:e=>{e?(this.visitedUser=e,localStorage.setItem("visitedUser",JSON.stringify(this.visitedUser)),this.getPreferiti()):localStorage.getItem("visitedUser")&&(this.visitedUser=JSON.parse(localStorage.getItem("visitedUser")),this.getPreferiti())}})})):(localStorage.setItem("location","lobby/profile"),this.visitedUser=this.userInput,localStorage.setItem("visitedUser",JSON.stringify(this.visitedUser)),this.getPreferiti()),localStorage.getItem("visitedUser")&&(this.visitedUser=JSON.parse(localStorage.getItem("visitedUser")),this.getPreferiti()),this.searchPreferitiForm=new D({size:new E(5),orderBy:new E("Id"),sortOrder:new E("Discendente"),nomeGioco:new E(""),difficoltaGioco:new E})}ngOnDestroy(){localStorage.removeItem("visitedUser")}getPreferiti(){let n=this.searchPreferitiForm.get("sortOrder")?.value=="Discendente"?"DESC":"ASC",e=this.searchPreferitiForm.get("orderBy")?.value=="Id"?"id":this.searchPreferitiForm.get("orderBy")?.value=="Nome gioco"?"gioco.nomeGioco":this.searchPreferitiForm.get("orderBy")?.value=="Data di creazione del gioco"?"gioco.createdAt":this.searchPreferitiForm.get("orderBy")?.value=="Data di aggiunta ai preferiti"?"createdAt":"id";this.preferitiService.getPreferiti(this.visitedUser.id,this.preferitiPage,this.searchPreferitiForm.get("size")?.value||5,e,n,this.searchPreferitiForm.get("nomeGioco")?.value,this.searchPreferitiForm.get("difficoltaGioco")?.value).subscribe({next:t=>{this.preferiti=t}})}deletePreferito(n){this.preferitiService.deletePreferito(n).subscribe({next:e=>{e?(this.toastr.success("Gioco rimosso dai preferiti."),this.getPreferiti()):this.toastr.error("Gioco non rimosso. Riprova o contatta l'assistenza.")}})}static \u0275fac=function(e){return new(e||i)(f(Ae),f(B),f(Bt),f(_e),f(Ne))};static \u0275cmp=I({type:i,selectors:[["app-preferiti"]],inputs:{userInput:"userInput"},standalone:!0,features:[F],decls:39,vars:12,consts:[[1,"w-100","text-center",3,"ngClass"],[1,"container"],[1,"row","p-5"],[1,"col-md-12","py-5"],[4,"ngIf"],[1,"col-md-12","p-5"],[1,"w-75","row","m-auto",3,"formGroup"],[1,"col-md-4"],["for","size",1,"p-2"],["name","size","id","size","formControlName","size",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","orderBy",1,"p-2"],["name","orderBy","id","orderBy","formControlName","orderBy",1,"form-select"],["for","sortOrder",1,"p-2"],["name","sortOrder","id","sortOrder","formControlName","sortOrder",1,"form-select"],[1,"col-md-6"],["for","nomeGioco",1,"p-2"],["name","nomeGioco","id","nomeGioco","formControlName","nomeGioco",1,"form-control"],["for","difficoltaGioco",1,"p-2"],["name","difficoltaGioco","id","difficoltaGioco","formControlName","difficoltaGioco",1,"form-select"],[1,"col-md-12","py-4"],[1,"btn","btn-outline-primary","fw-bold",3,"click"],["class","col-md-6 col-lg-4 p-3",4,"ngFor","ngForOf"],["class","col-md-12 p-3 d-flex justify-content-center align-items-center",4,"ngIf"],["class","col-md-12 p-5",4,"ngIf"],[3,"value"],[1,"col-md-6","col-lg-4","p-3"],[1,"border","shadow","p-4"],["class","text-end",4,"ngIf"],[1,"fs-4","fw-bold",3,"ngClass"],[1,"text-end"],["matTooltip","Elimina dai preferiti","matTooltipPosition","above",1,"btn",3,"click"],[1,"bi","bi-trash3","h4","text-danger"],[1,"col-md-12","p-3","d-flex","justify-content-center","align-items-center"],["class","btn",3,"click",4,"ngIf"],["class","btn fs-5",3,"click",4,"ngIf"],[1,"btn",3,"click"],[1,"bi","bi-arrow-left-circle-fill","h4"],[1,"btn","fs-5",3,"click"],[1,"bi","bi-arrow-right-circle-fill","h4"],["class","btn m-auto my-5",4,"ngIf"],[1,"btn","m-auto","my-5"],["routerLink","/lobby",1,"text-dark"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u(4,rr,2,0,"h1",4)(5,sr,2,1,"h1",4)(6,ar,2,0,"h2",4),r(),s(7,"div",5)(8,"form",6)(9,"div",7)(10,"label",8),l(11,"Elementi per pagina"),r(),s(12,"select",9),u(13,lr,2,2,"option",10),r()(),s(14,"div",7)(15,"label",11),l(16,"Ordina per"),r(),s(17,"select",12),u(18,cr,2,2,"option",10),r()(),s(19,"div",7)(20,"label",13),l(21,"Ordine"),r(),s(22,"select",14),u(23,mr,2,2,"option",10),r()(),s(24,"div",15)(25,"label",16),l(26,"Filtra per nome del gioco preferito"),r(),p(27,"input",17),r(),s(28,"div",15)(29,"label",18),l(30,"Filtra per difficolt\xE0 del gioco preferito"),r(),s(31,"select",19),u(32,dr,2,2,"option",10),r()(),s(33,"div",20)(34,"button",21),g("click",function(){return t.getPreferiti()}),l(35,"Cerca"),r()()()(),u(36,ur,11,5,"div",22)(37,hr,3,2,"div",23)(38,Cr,4,3,"div",24),r()()()),e&2&&(c("ngClass",t.mode=="light"?"bg-light":"bg-personal text-light"),a(4),c("ngIf",(t.user==null?null:t.user.id)==(t.visitedUser==null?null:t.visitedUser.id)),a(),c("ngIf",(t.user==null?null:t.user.id)!=(t.visitedUser==null?null:t.visitedUser.id)&&t.visitedUser&&t.userInput==null),a(),c("ngIf",(t.user==null?null:t.user.id)!=(t.visitedUser==null?null:t.visitedUser.id)&&t.visitedUser&&t.userInput!=null),a(2),c("formGroup",t.searchPreferitiForm),a(5),c("ngForOf",t.sizes),a(5),c("ngForOf",t.orderBys),a(5),c("ngForOf",t.sortOrders),a(9),c("ngForOf",t.difficulties),a(4),c("ngForOf",t.preferiti==null?null:t.preferiti.content),a(),c("ngIf",(t.preferiti==null||t.preferiti.content==null?null:t.preferiti.content.lenght)>0),a(),c("ngIf",!t.preferiti||(t.preferiti==null||t.preferiti.content==null?null:t.preferiti.content.length)==0||!(t.preferiti!=null&&t.preferiti.content)))},dependencies:[z,k,L,$e,Be,xi,ce,se,be,Ce,ne,ve,oe,re,ae,le],styles:[".h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{font-family:Just Me Again Down Here,cursive;font-weight:400;font-style:normal}h1[_ngcontent-%COMP%]{font-size:80px}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:120px}.bg-personal[_ngcontent-%COMP%]{background-color:gray}a[_ngcontent-%COMP%]{text-decoration:none}"]})};function xr(i,n){if(i&1&&(s(0,"span"),l(1),r()),i&2){let e=d().$implicit;a(),y(e.toUpperCase())}}function yr(i,n){if(i&1){let e=v();s(0,"li",17),g("click",function(){let o=h(e).$implicit,m=d(5);return _(m.setImpostazioniSection(o))}),l(1),r()}if(i&2){let e=n.$implicit;a(),C(" ",e.toUpperCase(),"")}}function Ir(i,n){if(i&1&&(s(0,"ul",15),u(1,yr,2,1,"li",16),r()),i&2){let e=d(4);a(),c("ngForOf",e.sottomenu)}}function Sr(i,n){if(i&1&&(s(0,"div")(1,"span"),l(2),r(),u(3,Ir,2,1,"ul",14),r()),i&2){let e=d().$implicit,t=d(2);a(2),y(e.toUpperCase()),a(),c("ngIf",t.section=="Impostazioni")}}function wr(i,n){if(i&1){let e=v();s(0,"li",13),g("click",function(){let o=h(e).$implicit,m=d(2);return _(m.switchSection(o))}),u(1,xr,2,1,"span",9)(2,Sr,4,2,"div",9),r()}if(i&2){let e=n.$implicit,t=d(2);a(),c("ngIf",e!="Impostazioni"),a(),c("ngIf",e=="Impostazioni"&&t.authService.getUser().id==t.visitedUser.id)}}function Pr(i,n){if(i&1&&(s(0,"div",10)(1,"ul",11),u(2,wr,3,2,"li",12),r()()),i&2){let e=d();a(2),c("ngForOf",e.menuVoices)}}function Er(i,n){if(i&1&&(s(0,"div")(1,"div",18),p(2,"div",19),s(3,"p",20),l(4),r()(),s(5,"div",21)(6,"div",22)(7,"div",23)(8,"div",22)(9,"div",24)(10,"p",25),l(11,"Nome"),r(),l(12),r(),s(13,"div",24)(14,"p",25),l(15,"Cognome"),r(),l(16),r()()(),s(17,"div",26)(18,"p",25),l(19,"Email"),r(),l(20),r(),s(21,"div",27)(22,"p",25),l(23,"Citt\xE0"),r(),l(24),r(),s(25,"div",27)(26,"p",25),l(27,"Profilo creato in data"),r(),l(28),r()()()()),i&2){let e=d();a(2),We("background-image","url('",e.visitedUser==null?null:e.visitedUser.immagineProfilo,"')"),a(2),y(e.visitedUser==null?null:e.visitedUser.fullName),a(8),C(" ",e.visitedUser==null?null:e.visitedUser.nome," "),a(4),C(" ",e.visitedUser==null?null:e.visitedUser.cognome," "),a(4),C(" ",e.visitedUser==null?null:e.visitedUser.email," "),a(4),C(" ",e.visitedUser==null||e.visitedUser.citta==null?null:e.visitedUser.citta.nome," "),a(4),C(" ",e.visitedUser==null?null:e.visitedUser.createdAt," ")}}function Tr(i,n){if(i&1&&(s(0,"option",38),l(1),r()),i&2){let e=n.$implicit;c("value",e.values),a(),y(e.label)}}function Or(i,n){if(i&1&&(s(0,"option",38),l(1),r()),i&2){let e=n.$implicit;c("value",e),a(),y(e)}}function Dr(i,n){if(i&1&&p(0,"i",53),i&2){let e=n.index,t=d().$implicit;c("ngClass",e+1<=(t==null?null:t.punteggio)?"textg-warning":"d-none")}}function Ar(i,n){if(i&1&&(s(0,"div",40)(1,"div",41)(2,"div",42),p(3,"img",43),s(4,"p",44),l(5),r()(),s(6,"div",45)(7,"div",46),u(8,Dr,1,1,"i",47),r(),s(9,"div")(10,"p",48),p(11,"img",49),s(12,"span",50),l(13),r()(),s(14,"p",51),l(15),r(),s(16,"p",52),l(17),r()()()()()),i&2){let e=n.$implicit,t=d(3);a(2),c("ngClass",t.mode=="light"?"bg-light":"bg-secondary text-light"),a(),w("src","data:image/png;base64,"+(e==null?null:e.giocoImage),R),a(2),C(" ",e==null?null:e.giocoName," "),a(),c("ngClass",t.mode=="light"?"bg-light":"bg-personal text-light"),a(2),c("ngForOf",t.validationPoints),a(3),w("src",e==null?null:e.userProfileImage,R),a(2),y(e==null?null:e.userFullName),a(2),C(" ",e==null?null:e.commento," "),a(2),C(" ",e==null?null:e.createdAt," ")}}function Mr(i,n){if(i&1&&(s(0,"div",29)(1,"div",22),u(2,Ar,18,9,"div",39),r()()),i&2){let e=d(2);a(2),c("ngForOf",e.recensioni==null?null:e.recensioni.content)}}function Fr(i,n){if(i&1){let e=v();s(0,"button",56),g("click",function(){h(e);let o=d(3);return o.recePage=o.recePage-1,_(o.getRecensioni())}),p(1,"i",57),r()}}function Rr(i,n){if(i&1){let e=v();s(0,"button",56),g("click",function(){h(e);let o=d(3);return o.recePage=o.recePage+1,_(o.getRecensioni())}),p(1,"i",58),r()}}function kr(i,n){if(i&1&&(s(0,"div",54),u(1,Fr,2,0,"button",55)(2,Rr,2,0,"button",55),r()),i&2){let e=d(2);a(),c("ngIf",(e.recensioni==null?null:e.recensioni.first)==!1),a(),c("ngIf",(e.recensioni==null?null:e.recensioni.last)==!1)}}function zr(i,n){if(i&1&&(s(0,"h2"),l(1),r()),i&2){let e=d(3);a(),C("",e.visitedUser==null?null:e.visitedUser.fullName," non ha ancora lasciato recensioni.")}}function Nr(i,n){i&1&&(s(0,"h2"),l(1,"Non hai ancora lasciato recensioni. "),r())}function Lr(i,n){if(i&1&&(s(0,"div",29),u(1,zr,2,1,"h2",9)(2,Nr,2,0,"h2",9),r()),i&2){let e=d(2);a(),c("ngIf",e.authService.getUser().id!=(e.visitedUser==null?null:e.visitedUser.id)),a(),c("ngIf",e.authService.getUser().id==(e.visitedUser==null?null:e.visitedUser.id))}}function Vr(i,n){if(i&1){let e=v();s(0,"div")(1,"div",28)(2,"div",29)(3,"h2"),l(4,"Recensioni"),r()(),s(5,"div",30)(6,"div",31)(7,"label",32),l(8,"Ordina per"),r(),s(9,"select",33,0),g("change",function(){h(e);let o=M(10),m=d();return m.receSortOrder=o.value.substring(o.value.lastIndexOf(",")+1),m.receOrderBy=o.value.split("",o.value.length-o.value.substring(o.value.lastIndexOf(",")).length).join().replaceAll(",",""),_(m.getRecensioni())}),u(11,Tr,2,2,"option",34),r()(),s(12,"div",31)(13,"label",32),l(14,"Elementi per pagina"),r(),s(15,"select",35,1),g("change",function(){h(e);let o=M(16),m=d();return m.receSize=m.toNumber(o.value),_(m.getRecensioni())}),u(17,Or,2,2,"option",34),r()()(),u(18,Mr,3,1,"div",36)(19,kr,3,2,"div",37)(20,Lr,3,2,"div",36),r()()}if(i&2){let e=d();a(11),c("ngForOf",e.ordinaArray),a(6),c("ngForOf",e.sizes),a(),c("ngIf",(e.recensioni==null||e.recensioni.content==null?null:e.recensioni.content.length)>0),a(),c("ngIf",e.recensioni&&(e.recensioni==null||e.recensioni.content==null?null:e.recensioni.content.length)>0),a(),c("ngIf",e.recensioni==null||(e.recensioni==null||e.recensioni.content==null?null:e.recensioni.content.length)==0)}}function Ur(i,n){if(i&1&&(s(0,"h2"),l(1),r()),i&2){let e=d(3);a(),C("",e.visitedUser==null?null:e.visitedUser.fullName," non ha ancora vinto trofei.")}}function Gr(i,n){i&1&&(s(0,"h2"),l(1,"Non hai ancora vinto trofei."),r())}function jr(i,n){if(i&1&&(s(0,"div",29),u(1,Ur,2,1,"h2",9)(2,Gr,2,0,"h2",9),r()),i&2){let e=d(2);a(),c("ngIf",e.authService.getUser().id!=(e.visitedUser==null?null:e.visitedUser.id)),a(),c("ngIf",e.authService.getUser().id==(e.visitedUser==null?null:e.visitedUser.id))}}function Br(i,n){if(i&1&&(s(0,"div",61)(1,"div",62)(2,"p",63),l(3),r(),p(4,"img",64),s(5,"p",65),l(6),r()()()),i&2){let e=n.$implicit,t=d(3);a(2),c("ngClass",t.mode=="light"?"bg-light":"bg-secondary text-light"),a(),C(" ",e==null||e.gioco==null?null:e.gioco.nomeGioco," "),a(3),C(" ",e==null?null:e.createdAt," ")}}function $r(i,n){if(i&1&&(s(0,"div",21)(1,"div",22)(2,"div",29)(3,"h2"),l(4,"I tuoi trofei"),r()(),u(5,Br,7,3,"div",60),r()()),i&2){let e=d(2);a(5),c("ngForOf",e.trofei==null?null:e.trofei.content)}}function Hr(i,n){if(i&1){let e=v();s(0,"button",68),g("click",function(){h(e);let o=d(3);return o.trofeiPage=0,_(o.getTrofei())}),l(1,"First"),r()}}function qr(i,n){if(i&1){let e=v();s(0,"button",69),g("click",function(){h(e);let o=d(3);return o.trofeiPage=o.trofeiPage-1,_(o.getTrofei())}),p(1,"i",70),r()}}function Yr(i,n){if(i&1){let e=v();s(0,"button",68),g("click",function(){h(e);let o=d(3);return o.trofeiPage=o.trofeiPage+1,_(o.getTrofei())}),p(1,"i",71),r()}}function Wr(i,n){if(i&1){let e=v();s(0,"button",69),g("click",function(){h(e);let o=d(3);return o.trofeiPage=(o.trofei==null?null:o.trofei.totalPages)-1,_(o.getTrofei())}),l(1,"Last"),r()}}function Xr(i,n){if(i&1&&(s(0,"div",21),u(1,Hr,2,0,"button",66)(2,qr,2,0,"button",67)(3,Yr,2,0,"button",66)(4,Wr,2,0,"button",67),r()),i&2){let e=d(2);a(),c("ngIf",!(e.trofei!=null&&e.trofei.first)),a(),c("ngIf",!(e.trofei!=null&&e.trofei.first)),a(),c("ngIf",!(e.trofei!=null&&e.trofei.last)),a(),c("ngIf",!(e.trofei!=null&&e.trofei.last))}}function Jr(i,n){if(i&1&&(s(0,"div")(1,"div",22)(2,"div",29)(3,"h2"),l(4,"Trofei"),r()(),u(5,jr,3,2,"div",36)(6,$r,6,1,"div",59)(7,Xr,5,4,"div",59),r()()),i&2){let e=d();a(5),c("ngIf",!e.trofei||!(e.trofei!=null&&e.trofei.content)||(e.trofei==null||e.trofei.content==null?null:e.trofei.content.length)==0),a(),c("ngIf",e.trofei&&(e.trofei==null?null:e.trofei.content)&&(e.trofei==null||e.trofei.content==null?null:e.trofei.content.length)>0),a(),c("ngIf",e.trofei&&(e.trofei==null?null:e.trofei.content)&&(e.trofei==null||e.trofei.content==null?null:e.trofei.content.length)>0)}}function Qr(i,n){if(i&1&&(s(0,"option",38),l(1),r()),i&2){let e=n.$implicit;w("value",e.values),a(),y(e.label)}}function Zr(i,n){if(i&1&&p(0,"p",89),i&2){let e=n.index,t=d().$implicit;Oe("p-2 border border-dark rounded-circle ",e+1<=t.difficolta?"d-block":"d-none"," m-1"),c("ngClass",t.difficolta<=2?"bg-success":t.difficolta<=4?"bg-warning":"bg-danger")}}function Kr(i,n){if(i&1){let e=v();s(0,"div",77)(1,"div",78)(2,"div",79),p(3,"img",80),r(),s(4,"div",81)(5,"h2"),l(6),r()(),s(7,"div",82)(8,"p",83),l(9),r(),s(10,"div",84),u(11,Zr,1,4,"p",85),r()()(),s(12,"div",86),g("click",function(){let o=h(e).$implicit,m=d(2);return _(m.openGameDialog(o))}),s(13,"p",87),l(14," VAI AL GIOCO "),r(),p(15,"i",88),r()()}if(i&2){let e=n.$implicit,t=d(2);a(),c("ngClass",t.mode=="light"?"bg-light":"bg-personal text-light"),a(2),w("src","data:image/png;base64,"+(e==null?null:e.image),R),a(3),y(e.nomeGioco),a(2),c("ngClass",t.mode=="light"?"bg-light":"bg-secondary text-light"),a(),C("Livello di difficolt\xE0 : ",e.difficolta<=2?"FACILE":e.difficolta>2&&e.difficolta<=4?"MEDIO":"DIFFICILE"," "),a(2),c("ngForOf",t.circles),a(2),c("ngClass",e.difficolta<=2?"text-success":e.difficolta<=4?"text-warning":"text-danger")}}function es(i,n){if(i&1&&(s(0,"h2"),l(1),r()),i&2){let e=d(3);a(),C("",e.visitedUser==null?null:e.visitedUser.fullName," non ha giocato a nessun gioco ancora.")}}function ts(i,n){i&1&&(s(0,"h2"),l(1,"Non hai giocato a nessun gioco ancora."),r())}function is(i,n){if(i&1&&(s(0,"div",90),u(1,es,2,1,"h2",9)(2,ts,2,0,"h2",9),r()),i&2){let e=d(2);a(),c("ngIf",e.authService.getUser().id!=(e.visitedUser==null?null:e.visitedUser.id)),a(),c("ngIf",e.authService.getUser().id==(e.visitedUser==null?null:e.visitedUser.id))}}function ns(i,n){if(i&1){let e=v();s(0,"button",68),g("click",function(){h(e);let o=d(3);return o.giochiPage=0,_(o.getGiochi())}),l(1,"First"),r()}}function os(i,n){if(i&1){let e=v();s(0,"button",69),g("click",function(){h(e);let o=d(3);return o.giochiPage=o.giochiPage-1,_(o.getGiochi())}),p(1,"i",70),r()}}function rs(i,n){if(i&1){let e=v();s(0,"button",68),g("click",function(){h(e);let o=d(3);return o.giochiPage=o.giochiPage+1,_(o.getGiochi())}),p(1,"i",71),r()}}function ss(i,n){if(i&1){let e=v();s(0,"button",69),g("click",function(){h(e);let o=d(3);return o.giochiPage=(o.giochi==null?null:o.giochi.totalPages)-1,_(o.getGiochi())}),l(1,"Last"),r()}}function as(i,n){if(i&1&&(s(0,"div",29),u(1,ns,2,0,"button",66)(2,os,2,0,"button",67)(3,rs,2,0,"button",66)(4,ss,2,0,"button",67),r()),i&2){let e=d(2);a(),c("ngIf",!(e.giochi!=null&&e.giochi.first)),a(),c("ngIf",!(e.giochi!=null&&e.giochi.first)),a(),c("ngIf",!(e.giochi!=null&&e.giochi.last)),a(),c("ngIf",!(e.giochi!=null&&e.giochi.last))}}function ls(i,n){if(i&1){let e=v();s(0,"div")(1,"div",72)(2,"div",28)(3,"div",21)(4,"h2"),l(5,"Giochi "),r()(),p(6,"div",23),s(7,"div",23)(8,"label",73),l(9,"Ordina per"),r(),s(10,"select",74,2),g("change",function(){h(e);let o=M(11),m=d();return m.giochiSortOrder=o.value.substring(o.value.lastIndexOf(",")+1),m.giochiOrderBy=o.value.split("",o.value.length-o.value.substring(o.value.lastIndexOf(",")).length).join().replaceAll(",",""),_(m.getGiochi())}),u(12,Qr,2,2,"option",34),r()(),u(13,Kr,16,7,"div",75)(14,is,3,2,"div",76)(15,as,5,4,"div",36),r()()()}if(i&2){let e=d();a(12),c("ngForOf",e.ordinaGiocoArray),a(),c("ngForOf",e.giochi==null?null:e.giochi.content),a(),c("ngIf",e.giochi==null||(e.giochi==null||e.giochi.content==null?null:e.giochi.content.length)==0),a(),c("ngIf",e.giochi&&(e.giochi==null?null:e.giochi.content))}}function cs(i,n){if(i&1&&(s(0,"h2"),l(1),r()),i&2){let e=d(3);a(),C("Al momento, ",e.visitedUser==null?null:e.visitedUser.fullName," non partecipa a nessuna classifica.")}}function ms(i,n){i&1&&(s(0,"h2"),l(1,"Al momento non partecipi a nessuna classifica."),r())}function ds(i,n){if(i&1&&(s(0,"div",29),u(1,cs,2,1,"h2",9)(2,ms,2,0,"h2",9),r()),i&2){let e=d(2);a(),c("ngIf",e.authService.getUser().id!=(e.visitedUser==null?null:e.visitedUser.id)),a(),c("ngIf",e.authService.getUser().id==(e.visitedUser==null?null:e.visitedUser.id))}}function ps(i,n){if(i&1){let e=v();s(0,"div",92)(1,"div",62)(2,"p",93),l(3,"Classifica"),r(),s(4,"p",94),l(5),r(),s(6,"p",95)(7,"button",96),g("click",function(){let o=h(e).$implicit,m=d(3);return _(m.goToRanking(o))}),p(8,"i",97),r()()()()}if(i&2){let e=n.$implicit,t=d(3);a(2),c("ngClass",t.mode=="light"?"bg-light":"bg-secondary text-light"),a(3),C(" ",e==null||e.gioco==null?null:e.gioco.nomeGioco," ")}}function us(i,n){if(i&1){let e=v();s(0,"button",68),g("click",function(){h(e);let o=d(3);return o.classifichePage=0,_(o.getClassifiche())}),l(1,"First"),r()}}function fs(i,n){if(i&1){let e=v();s(0,"button",69),g("click",function(){h(e);let o=d(3);return o.classifichePage=o.classifichePage-1,_(o.getClassifiche())}),p(1,"i",70),r()}}function gs(i,n){if(i&1){let e=v();s(0,"button",68),g("click",function(){h(e);let o=d(3);return o.classifichePage=o.classifichePage+1,_(o.getClassifiche())}),p(1,"i",71),r()}}function hs(i,n){if(i&1){let e=v();s(0,"button",69),g("click",function(){h(e);let o=d(3);return o.classifichePage=(o.classifiche==null?null:o.classifiche.totalPages)-1,_(o.getClassifiche())}),l(1,"Last"),r()}}function _s(i,n){if(i&1&&(s(0,"div",29)(1,"div",22),u(2,ps,9,2,"div",91),s(3,"div",29),u(4,us,2,0,"button",66)(5,fs,2,0,"button",67)(6,gs,2,0,"button",66)(7,hs,2,0,"button",67),r()()()),i&2){let e=d(2);a(2),c("ngForOf",e.classifiche==null?null:e.classifiche.content),a(2),c("ngIf",!(e.classifiche!=null&&e.classifiche.first)),a(),c("ngIf",!(e.classifiche!=null&&e.classifiche.first)),a(),c("ngIf",!(e.classifiche!=null&&e.classifiche.last)),a(),c("ngIf",!(e.classifiche!=null&&e.classifiche.last))}}function vs(i,n){if(i&1&&(s(0,"div")(1,"div",22),u(2,ds,3,2,"div",36)(3,_s,8,5,"div",36),r()()),i&2){let e=d();a(2),c("ngIf",!e.classifiche||!(e.classifiche!=null&&e.classifiche.content)||(e.classifiche==null||e.classifiche.content==null?null:e.classifiche.content.length)==0),a(),c("ngIf",e.classifiche&&(e.classifiche==null?null:e.classifiche.content)&&(e.classifiche==null||e.classifiche.content==null?null:e.classifiche.content.length)>0)}}function bs(i,n){i&1&&(s(0,"div",6)(1,"h2"),l(2,"Le tue partite"),r()())}function Cs(i,n){if(i&1&&(s(0,"h2"),l(1),r()),i&2){let e=d(3);a(),C("",e.visitedUser==null?null:e.visitedUser.fullName," non ha ancora giocato!")}}function xs(i,n){i&1&&(s(0,"h2"),l(1,"Non hai ancora giocato!"),r())}function ys(i,n){if(i&1&&(s(0,"div",29),u(1,Cs,2,1,"h2",9)(2,xs,2,0,"h2",9),r()),i&2){let e=d(2);a(),c("ngIf",e.authService.getUser().id!=(e.visitedUser==null?null:e.visitedUser.id)),a(),c("ngIf",e.authService.getUser().id==(e.visitedUser==null?null:e.visitedUser.id))}}function Is(i,n){if(i&1&&(s(0,"option",38),l(1),r()),i&2){let e=n.$implicit;w("value",e.values),a(),y(e.label)}}function Ss(i,n){if(i&1){let e=v();s(0,"div",23)(1,"label",73),l(2,"Ordina per : "),r(),s(3,"select",100,2),g("change",function(){h(e);let o=M(4),m=d(2);return m.partiteSortOrder=o.value.substring(o.value.indexOf(",")+1),m.partiteOrderBy=o.value.substring(0,o.value.indexOf(",")),_(m.getPartite())})("mousedown",function(){h(e);let o=M(4);return _(o.size=5)})("change",function(){h(e);let o=M(4);return _(o.blur())})("blur",function(){h(e);let o=M(4);return _(o.size=1)}),u(5,Is,2,2,"option",34),r()()}if(i&2){let e=d(2);a(5),c("ngForOf",e.ordinaPartiteArray)}}function ws(i,n){i&1&&(s(0,"p"),l(1,"La partita non prevede punteggio."),r())}function Ps(i,n){if(i&1&&(s(0,"p"),l(1),r()),i&2){let e=d().$implicit;a(),C("Punteggio : ",e==null||e.punteggio==null?null:e.punteggio.punteggio," ")}}function Es(i,n){if(i&1&&(s(0,"div",77)(1,"div",62)(2,"p",89),l(3),r(),s(4,"div",101),p(5,"img",102),s(6,"p",103),l(7),r()(),s(8,"div",65)(9,"p"),l(10,"Esito partita : "),s(11,"span",104),l(12),r()()(),s(13,"div",65),u(14,ws,2,0,"p",9)(15,Ps,2,1,"p",9),r()()()),i&2){let e=n.$implicit,t=d(2);a(2),c("ngClass",t.mode=="light"?"bg-light p-2":"bg-secondary text-light p-2"),a(),y(e.id+" - "+e.createdAt),a(2),w("src","data:image/png;base64,"+(e==null||e.gioco==null?null:e.gioco.image),R),a(2),C(" - ",e==null||e.gioco==null?null:e.gioco.nomeGioco,""),a(4),c("ngClass",t.calculateEsito(e==null?null:e.esito)),a(),y(e==null?null:e.esito),a(2),c("ngIf",!(e!=null&&e.punteggio)),a(),c("ngIf",(e==null?null:e.punteggio)!=null)}}function Ts(i,n){if(i&1){let e=v();s(0,"button",68),g("click",function(){h(e);let o=d(3);return o.partitePage=0,_(o.getPartite())}),l(1,"First"),r()}}function Os(i,n){if(i&1){let e=v();s(0,"button",69),g("click",function(){h(e);let o=d(3);return o.partitePage=o.partitePage-1,_(o.getPartite())}),p(1,"i",70),r()}}function Ds(i,n){if(i&1){let e=v();s(0,"button",68),g("click",function(){h(e);let o=d(3);return o.partitePage=o.partitePage+1,_(o.getPartite())}),p(1,"i",71),r()}}function As(i,n){if(i&1){let e=v();s(0,"button",69),g("click",function(){h(e);let o=d(3);return o.partitePage=(o.partite==null?null:o.partite.totalPages)-1,_(o.getPartite())}),l(1,"Last"),r()}}function Ms(i,n){if(i&1&&(s(0,"div",29),u(1,Ts,2,0,"button",66)(2,Os,2,0,"button",67)(3,Ds,2,0,"button",66)(4,As,2,0,"button",67),r()),i&2){let e=d(2);a(),c("ngIf",!(e.partite!=null&&e.partite.first)),a(),c("ngIf",!(e.partite!=null&&e.partite.first)),a(),c("ngIf",!(e.partite!=null&&e.partite.last)),a(),c("ngIf",!(e.partite!=null&&e.partite.last))}}function Fs(i,n){if(i&1&&(s(0,"div")(1,"div",22),u(2,bs,3,0,"div",98)(3,ys,3,2,"div",36),p(4,"div",23),u(5,Ss,6,1,"div",99)(6,Es,16,8,"div",75)(7,Ms,5,4,"div",36),r()()),i&2){let e=d();a(2),c("ngIf",e.partite&&(e.partite==null?null:e.partite.content)&&(e.partite==null||e.partite.contet==null?null:e.partite.contet.size)>0),a(),c("ngIf",!e.partite||!(e.partite!=null&&e.partite.content)||(e.partite==null||e.partite.content==null?null:e.partite.content.length)==0),a(2),c("ngIf",e.partite&&(e.partite==null?null:e.partite.content)&&(e.partite==null||e.partite.content==null?null:e.partite.content.length)>0),a(),c("ngForOf",e.partite==null?null:e.partite.content),a(),c("ngIf",e.partite&&(e.partite==null?null:e.partite.content))}}function Rs(i,n){if(i&1&&(s(0,"div"),p(1,"app-impostazioni",105),r()),i&2){let e=d();a(),c("section",e.impostazioniSection)("user",e.visitedUser)}}function ks(i,n){if(i&1&&(s(0,"div"),p(1,"app-preferiti",106),r()),i&2){let e=d();a(),c("userInput",e.visitedUser)}}var $t=class i{constructor(n,e,t,o,m,b,x){this.route=n;this.router=e;this.profiloService=t;this.gamefieldService=o;this.matDialog=m;this.authService=b;this.modeService=x;this.authService.isAuthenticatedUser.subscribe(S=>{this.user=this.authService.getUser(),this.visitedUser?.id==this.user?.id&&(this.visitedUser=this.authService.getUser(),this.menuVoices.push("Impostazioni"),this.menuVoices=this.menuVoices.filter(Q=>Q!="Preferiti"),localStorage.setItem("visitedUser",JSON.stringify(this.visitedUser)))}),this.modeService.mode.subscribe(S=>{this.mode=S})}id=0;visitedUser;user;recePage=0;receSize=5;receOrderBy="punteggio";receSortOrder="ASC";recensioni=null;giochiPage=0;giochiSize=5;giochiOrderBy="id";giochiSortOrder="ASC";giochi=null;validationPoints=[1,2,3,4,5];gioco=null;ordinaArray=[{label:"Punteggio migliore",values:["punteggio","DESC"]},{label:"Punteggio peggiore",values:["punteggio","ASC"]},{label:"Pi\xF9 recente",values:["createdAt","DESC"]},{label:"Meno recente",values:["createdAt","ASC"]}];ordinaGiocoArray=[{label:"Nome discendente",values:["nomeGioco","DESC"]},{label:"Nome ascendente",values:["nomeGioco","ASC"]},{label:"Difficolt\xE0 minore",values:["difficolta","ASC"]},{label:"Difficolt\xE0 maggiore",values:["difficolta","DESC"]}];ordinaPartiteArray=[{label:"Id ascendente",values:["id","ASC"]},{label:"Id discendente",values:["id","DESC"]},{label:"Punteggio migliore",values:["punteggio.punteggio","DESC"]},{label:"Punteggio peggiore",values:["punteggio.punteggio","ASC"]},{label:"Nome gioco discendente",values:["gioco.nomeGioco","DESC"]},{label:"Nome gioco ascendente",values:["gioco.nomeGioco","ASC"]},{label:"Difficolt\xE0 maggiore",values:["gioco.difficolta","DESC"]},{label:"Difficolt\xE0 minore",values:["gioco.difficolta","ASC"]},{label:"Pi\xF9 recente",values:["createdAt","DESC"]},{label:"Meno recente",values:["createdAt","ASC"]},{label:"Esito partita discendente",values:["esito","DESC"]},{label:"Esito partita ascendente",values:["esito","ASC"]}];sizes=[2,5,10];windowWidth=0;menuVoices=["Profilo","Recensioni","Giochi","Trofei","Classifiche","Partite","Preferiti"];section="Profilo";circles=[1,2,3,4,5];partitePage=0;partiteSize=20;partiteOrderBy="id";partiteSortOrder="ASC";partite=null;classifichePage=0;classificheSize=6;classificheOrderBy="id";classificheSortOrder="ASC";classifiche=null;trofeiPage=0;trofeiSize=9;trofeiOrderBy="id";trofeiSortOrder="ASC";trofei=null;firstTimeReces=0;sottomenu=["Cambia immagine del profilo","Cambia la password","Cambia altre informazioni","Richiedi assistenza","Monitora le tue richieste"];impostazioniSection="Richiedi assistenza";mode="light";ngOnInit(){this.route.queryParams.subscribe(n=>{n&&n.user?this.authService.getUserById(n.user).subscribe({next:e=>{this.visitedUser=e,this.user?.id==this.visitedUser?.id&&(this.menuVoices.push("Impostazioni"),this.menuVoices=this.menuVoices.filter(t=>t!="Preferiti")),this.getAllDatas(),this.visitedUser!=null&&this.visitedUser!=null?localStorage.setItem("visitedUser",JSON.stringify(this.visitedUser)):this.router.navigate(["/lobby"])}}):localStorage.getItem("visitedUser")?(this.visitedUser=JSON.parse(localStorage.getItem("visitedUser")),this.user?.id==this.visitedUser?.id&&(this.menuVoices.push("Impostazioni"),this.menuVoices=this.menuVoices.filter(e=>e!="Preferiti")),this.getAllDatas()):this.router.navigate(["/lobby"])}),localStorage.setItem("location","lobby/profile")}getAllDatas(){this.getGiochi(),this.getPartite(),this.getClassifiche(),this.getTrofei(),this.getRecensioni(),this.onResize()}getRecensioni(){this.profiloService.getRecensioniByUserId(this.visitedUser.id,this.recePage,this.receSize,this.receOrderBy,this.receSortOrder).subscribe({next:n=>{this.recensioni=n}})}getGiochi(){this.profiloService.getGiochiByUserId(this.visitedUser.id,this.giochiPage,this.giochiSize,this.giochiOrderBy,this.giochiSortOrder).subscribe({next:n=>{this.giochi=n}})}getPartite(){this.gamefieldService.getPartitaByUser(this.visitedUser.id,this.partitePage,this.partiteSize,this.partiteOrderBy,this.partiteSortOrder).subscribe({next:n=>{this.partite=n}})}getClassifiche(){this.gamefieldService.getClassificheByUser(this.visitedUser.id,this.classifichePage,this.classificheSize,this.classificheOrderBy,this.classificheSortOrder).subscribe({next:n=>{this.classifiche=n}})}getTrofei(){this.gamefieldService.getTrofeiByUser(this.visitedUser.id,this.trofeiPage,this.trofeiSize,this.trofeiOrderBy,this.trofeiSortOrder).subscribe({next:n=>{this.trofei=n}})}toNumber(n){return Number(n)}onResize(){this.windowWidth=window.innerWidth}openGameDialog(n){this.matDialog.open(Ve,{data:n,width:"50%",height:"90%"}).afterClosed().subscribe(t=>{t&&this.router.navigate(["/game-field"],{queryParams:{gioco:n.id}})})}switchSection(n){this.section=n}calculateEsito(n){switch(n){case"VINTA":return"text-success";case"PAREGGIATA":return"text-warning";case"PERSA":return"text-danger";case"VALIDA":return"text-success";case"NON_VALIDA":return"text-danger";default:return""}}goToRanking(n){this.router.navigate(["/lobby"],{queryParams:{classificaId:n?.id,section:"classifiche"}})}setImpostazioniSection(n){this.impostazioniSection=n}static \u0275fac=function(e){return new(e||i)(f(Ae),f(he),f(ye),f(zi),f(G),f(B),f(Ne))};static \u0275cmp=I({type:i,selectors:[["app-profile"]],hostBindings:function(e,t){e&1&&g("resize",function(m){return t.onResize(m)},!1,lt)},standalone:!0,features:[F],decls:16,vars:11,consts:[["ordina",""],["elementi",""],["sort",""],[1,"py-5","w-100","text-center",3,"ngClass"],[1,"container"],[1,"row","py-5","my-5","align-items-stretch"],[1,"col-md-12","py-3"],["class","col-md-3",4,"ngIf"],[1,"col-md-9"],[4,"ngIf"],[1,"col-md-3"],[1,"text-start"],["class","p-3",3,"click",4,"ngFor","ngForOf"],[1,"p-3",3,"click"],["class","personalized-menu text-center",4,"ngIf"],[1,"personalized-menu","text-center"],["class","text-start",3,"click",4,"ngFor","ngForOf"],[1,"text-start",3,"click"],[1,"col-12","p-3","d-flex","align-items-end","justify-content-center"],[1,"profile-image","rounded-circle","shadow"],[1,"fs-2","px-2"],[1,"col-md-12","p-3"],[1,"row"],[1,"col-md-6"],[1,"col-md-12","fs-2","p-4"],[1,"fs-4","text-danger"],[1,"col-md-6","fs-2","p-4","overflow-x-auto","overflow-y-hidden"],[1,"col-md-6","fs-2","p-4"],[1,"row","text-center"],[1,"col-md-12"],[1,"col-md-12","d-flex","justify-content-end"],[1,"p-1"],["for","ordina",1,"form-label"],["name","ordina","id","ordina",1,"form-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],["name","elementi","id","elementi",1,"form-select",3,"change"],["class","col-md-12",4,"ngIf"],["class","col-md-12 d-flex justify-content-center",4,"ngIf"],[3,"value"],["class","col-md-6 p-2 text-center",4,"ngFor","ngForOf"],[1,"col-md-6","p-2","text-center"],[1,"border","rounded","shadow-sm"],[1,"w-100","text-center","d-flex","justify-content-center","pt-2","rounded-top",3,"ngClass"],["alt","immagine gioco",1,"gioco-image",3,"src"],[1,"p-2","fs-4"],[1,"pt-4","pb-2",3,"ngClass"],[1,"d-flex","justify-content-center"],["class","bi bi-star-fill text-warning h3",3,"ngClass",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","align-items-end"],["alt","profile image",1,"rounded-circle","border","gioco-image",3,"src"],[1,"px-3","fs-5"],[1,"fs-3","py-3","border-bottom"],[1,"date"],[1,"bi","bi-star-fill","text-warning","h3",3,"ngClass"],[1,"col-md-12","d-flex","justify-content-center"],["class","btn m-1",3,"click",4,"ngIf"],[1,"btn","m-1",3,"click"],[1,"bi","bi-caret-left"],[1,"bi","bi-caret-right"],["class","col-md-12 p-3",4,"ngIf"],["class","col-md-4 p-2",4,"ngFor","ngForOf"],[1,"col-md-4","p-2"],[1,"border","shadow"],[1,"fs-5","p-2",3,"ngClass"],["src","assets/profilo/trofeo_vittoria.png","alt","trofeo",1,"w-100","p-2"],[1,"p-2"],["class","btn fs-5",3,"click",4,"ngIf"],["class","btn",3,"click",4,"ngIf"],[1,"btn","fs-5",3,"click"],[1,"btn",3,"click"],[1,"bi","bi-arrow-left-circle-fill","h4"],[1,"bi","bi-arrow-right-circle-fill","h4"],[1,"px-2"],["for","sort"],["name","sort","id","sort",1,"form-select",3,"change"],["class","col-md-6 p-3",4,"ngFor","ngForOf"],["class","col-md-12 py-2 bg-white",4,"ngIf"],[1,"col-md-6","p-3"],[1,"p-3","game-card","border","shadow",3,"ngClass"],[1,"w-100","text-center","position-relative"],["alt","gioco_image",1,"w-50","m-auto",3,"src"],[1,"text-center","py-2","mb-2"],[1,"border","my-2"],[1,"border-bottom","p-2","fs-4",3,"ngClass"],[1,"d-flex","justify-content-around","difficult-points-container"],[3,"class","ngClass",4,"ngFor","ngForOf"],[1,"w-100","p-2","bg-info","text-center","d-flex","justify-content-around","align-items-center","text-light","button","shadow",3,"click"],[1,"fs-4","fw-bold","pt-3",3,"ngClass"],["title","Vai al gioco",1,"bi","bi-arrow-up-right","h3","p-3"],[3,"ngClass"],[1,"col-md-12","py-2","bg-white"],["class","col-md-4 p-3",4,"ngFor","ngForOf"],[1,"col-md-4","p-3"],[1,"fs-1","p-3","py-4",3,"ngClass"],[1,"p-4","fs-4"],[1,"text-end","p-2"],["title","Vai alla classifica",1,"btn",3,"click"],[1,"bi","bi-box-arrow-up-right","h4"],["class","col-md-12 py-3",4,"ngIf"],["class","col-md-6",4,"ngIf"],["name","sort","id","sort",1,"form-select",3,"change","mousedown","blur"],[1,"d-flex","justify-content-around","p-2"],["alt","immagine_gioco",1,"w-25",3,"src"],[1,"fs-4"],[1,"fw-bold",3,"ngClass"],[3,"section","user"],[3,"userInput"]],template:function(e,t){e&1&&(s(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"h1"),l(5),r()(),u(6,Pr,3,1,"div",7),s(7,"div",8),u(8,Er,29,9,"div",9)(9,Vr,21,5,"div",9)(10,Jr,8,3,"div",9)(11,ls,16,4,"div",9)(12,vs,4,2,"div",9)(13,Fs,8,5,"div",9)(14,Rs,2,2,"div",9)(15,ks,2,1,"div",9),r()()()()),e&2&&(c("ngClass",t.mode=="light"?"bg-white":"bg-personal text-light"),a(5),y(t.visitedUser==null?null:t.visitedUser.fullName),a(),c("ngIf",t.windowWidth>699),a(2),c("ngIf",t.section=="Profilo"),a(),c("ngIf",t.section=="Recensioni"),a(),c("ngIf",t.section=="Trofei"),a(),c("ngIf",t.section=="Giochi"),a(),c("ngIf",t.section=="Classifiche"),a(),c("ngIf",t.section=="Partite"),a(),c("ngIf",t.section=="Impostazioni"&&t.authService.getUser().id==t.visitedUser.id),a(),c("ngIf",t.section=="Preferiti"))},dependencies:[k,z,L,jt,He],styles:[".h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{font-family:Just Me Again Down Here,cursive;font-weight:400;font-style:normal}h1[_ngcontent-%COMP%]{font-size:80px}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:120px}.bg-personal[_ngcontent-%COMP%]{background-color:gray}.rounded-circle[_ngcontent-%COMP%]{width:200px;height:200px}.row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:100%!important}.profile-image[_ngcontent-%COMP%]{width:170px;min-height:170px!important;background-size:contain;background-repeat:no-repeat;background-position:center;background-color:#f5f5f5}.gioco-image[_ngcontent-%COMP%]{width:50px;height:50px}ul[_ngcontent-%COMP%]{list-style-type:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{transition:.5s;cursor:pointer}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{transition:.5s;background-color:beige;color:red;scale:1.1;font-weight:800}.difficult-points-container[_ngcontent-%COMP%]{max-height:50px}.difficult-points-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-height:10px;max-width:10px}.bi-heart[_ngcontent-%COMP%], .bi-heart-fill[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{cursor:pointer}.personalized-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px}"]})};var zs=[{path:"",component:Ut},{path:"profile",component:$t,canActivate:[Xt]},{path:"preferiti",component:He,canActivate:[Xt]}],Ht=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=X({type:i});static \u0275inj=W({imports:[Xe.forChild(zs),Xe]})};var on=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=X({type:i})}static{this.\u0275inj=W({imports:[pe,pe]})}}return i})();var rn=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=X({type:i});static \u0275inj=W({providers:[Ci()],imports:[Ht,gt,ce,Ri.forRoot(),Xi,on,Xe,ki]})};export{rn as LobbyModule};
