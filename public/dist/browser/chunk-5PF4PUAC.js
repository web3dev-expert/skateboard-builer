import{A as We,B as ji,C as Ui,D as Gi,E as $i,F as Dt,G as Yi,a as St,b as ki,c as wt,d as Be,e as ri,f as He,g as Ai,h as Et,i as Tt,j as qe,k as Pt,l as at,m as Se,o as lt,p as Fi,q as Ri,r as ct,s as mt,t as zi,u as Vi,v as Li,w as Ni,x as Ot,y as Ye,z as ee}from"./chunk-HVK7O7HL.js";import{a as ce,b as R,c as Q,d as X,e as O,f as w,g as J,h as Wi,i as Z,j as K,k as ye,l as me,m as de,n as N}from"./chunk-WTFMQOHQ.js";import{A as Qi,a as It,c as W,e as Di,j as $e,l as Pe,m as Mi,o as st,p as H,r as Bi,s as Hi,t as qi,u as Qe,v as T,w as si,x as q,y as le,z as Oe}from"./chunk-Y42DFMCZ.js";import{$ as oe,$b as Pi,A as _i,Aa as se,Ac as Oi,B as nt,Cb as v,Cc as z,Db as oi,Dc as A,Ec as V,Fb as p,Fc as xt,Ga as ot,Gb as d,Gc as yt,H as _t,Jb as E,Kb as Ii,Mb as Ce,Nb as be,Ob as xe,Pb as S,Qb as Si,Rb as rt,S as vt,Sb as l,Ta as L,Tb as x,Ub as b,V as we,Va as Ct,Vb as wi,X as vi,Xa as a,Xb as D,Ya as g,Zb as Ei,_ as U,_a as Ci,_b as Ti,ac as Ue,ba as fe,da as k,db as bi,ea as _e,f as ne,g as gi,hb as Ne,ia as I,ib as xi,ja as re,ka as Ee,lc as ae,mb as u,o as hi,ob as bt,pa as Ve,pb as je,qa as h,qb as c,ra as _,rb as yi,sb as ke,ta as ii,ub as ni,va as ve,vb as B,vc as Ge,x as ht,xa as Te,xb as s,ya as Le,yb as r,zb as f}from"./chunk-DO6BKXHT.js";import{a as Y,b as fi}from"./chunk-KT3CPUTC.js";function hn(i,n){}var Ae=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var li=(()=>{class i extends Ri{constructor(e,t,o,m,C,y,P,he){super(),this._elementRef=e,this._focusTrapFactory=t,this._config=m,this._interactivityChecker=C,this._ngZone=y,this._overlayRef=P,this._focusMonitor=he,this._platform=_e(St),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=_e(ae),this._injector=_e(ve),this._isDestroyed=!1,this.attachDomPortal=F=>{this._portalOutlet.hasAttached();let Me=this._portalOutlet.attachDomPortal(F);return this._contentAttached(),Me},this._document=o,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let t=this._ariaLabelledByQueue.indexOf(e);t>-1&&(this._ariaLabelledByQueue.splice(t,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),t}attachTemplatePortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),t}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(t)}_focusByCssSelector(e,t){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,t)}_trapFocus(){this._isDestroyed||bt(()=>{let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,t=null;if(typeof e=="string"?t=this._document.querySelector(e):typeof e=="boolean"?t=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(t=e),this._config.restoreFocus&&t&&typeof t.focus=="function"){let o=wt(),m=this._elementRef.nativeElement;(!o||o===this._document.body||o===m||m.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let e=this._elementRef.nativeElement,t=wt();return e===t||e.contains(t)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=wt()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(t){return new(t||i)(g(se),g(Tt),g(Ge,8),g(Ae),g(Et),g(Le),g(Ye),g(qe))}}static{this.\u0275cmp=I({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(t,o){if(t&1&&Ce(ct,7),t&2){let m;be(m=xe())&&(o._portalOutlet=m.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,o){t&2&&je("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},standalone:!0,features:[Ne,D],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,o){t&1&&u(0,hn,0,0,"ng-template",0)},dependencies:[ct],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return i})(),dt=class{constructor(n,e){this.overlayRef=n,this.config=e,this.closed=new ne,this.disableClose=e.disableClose,this.backdropClick=n.backdropClick(),this.keydownEvents=n.keydownEvents(),this.outsidePointerEvents=n.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(t=>{t.keyCode===27&&!this.disableClose&&!Be(t)&&(t.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=n.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(n,e){if(this.containerInstance){let t=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),t.next(n),t.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(n="",e=""){return this.overlayRef.updateSize({width:n,height:e}),this}addPanelClass(n){return this.overlayRef.addPanelClass(n),this}removePanelClass(n){return this.overlayRef.removePanelClass(n),this}},_n=new fe("DialogScrollStrategy",{providedIn:"root",factory:()=>{let i=_e(ee);return()=>i.scrollStrategies.block()}}),vn=new fe("DialogData"),Cn=new fe("DefaultDialogConfig");var bn=0,ci=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,t,o,m,C,y){this._overlay=e,this._injector=t,this._defaultOptions=o,this._parentDialog=m,this._overlayContainer=C,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ne,this._afterOpenedAtThisLevel=new ne,this._ariaHiddenElements=new Map,this.afterAllClosed=ht(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(vt(void 0))),this._scrollStrategy=y}open(e,t){let o=this._defaultOptions||new Ae;t=Y(Y({},o),t),t.id=t.id||`cdk-dialog-${bn++}`,t.id&&this.getDialogById(t.id);let m=this._getOverlayConfig(t),C=this._overlay.create(m),y=new dt(C,t),P=this._attachContainer(C,y,t);return y.containerInstance=P,this._attachDialogContent(e,y,P,t),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(y),y.closed.subscribe(()=>this._removeOpenDialog(y,!0)),this.afterOpened.next(y),y}closeAll(){ai(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){ai(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),ai(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let t=new Ni({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachContainer(e,t,o){let m=o.injector||o.viewContainerRef?.injector,C=[{provide:Ae,useValue:o},{provide:dt,useValue:t},{provide:Ye,useValue:e}],y;o.container?typeof o.container=="function"?y=o.container:(y=o.container.type,C.push(...o.container.providers(o))):y=li;let P=new lt(y,o.viewContainerRef,ve.create({parent:m||this._injector,providers:C}),o.componentFactoryResolver);return e.attach(P).instance}_attachDialogContent(e,t,o,m){if(e instanceof Ci){let C=this._createInjector(m,t,o,void 0),y={$implicit:m.data,dialogRef:t};m.templateContext&&(y=Y(Y({},y),typeof m.templateContext=="function"?m.templateContext():m.templateContext)),o.attachTemplatePortal(new Fi(e,null,y,C))}else{let C=this._createInjector(m,t,o,this._injector),y=o.attachComponentPortal(new lt(e,m.viewContainerRef,C,m.componentFactoryResolver));t.componentRef=y,t.componentInstance=y.instance}}_createInjector(e,t,o,m){let C=e.injector||e.viewContainerRef?.injector,y=[{provide:vn,useValue:e.data},{provide:dt,useValue:t}];return e.providers&&(typeof e.providers=="function"?y.push(...e.providers(t,e,o)):y.push(...e.providers)),e.direction&&(!C||!C.get(at,null,{optional:!0}))&&y.push({provide:at,useValue:{value:e.direction,change:hi()}}),ve.create({parent:C||m,providers:y})}_removeOpenDialog(e,t){let o=this.openDialogs.indexOf(e);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((m,C)=>{m?C.setAttribute("aria-hidden",m):C.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),t&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let t=e.parentElement.children;for(let o=t.length-1;o>-1;o--){let m=t[o];m!==e&&m.nodeName!=="SCRIPT"&&m.nodeName!=="STYLE"&&!m.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(m,m.getAttribute("aria-hidden")),m.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(t){return new(t||i)(k(ee),k(ve),k(Cn,8),k(i,12),k(Ot),k(_n))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function ai(i,n){let e=i.length;for(;e--;)n(i[e])}var Zi=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=re({type:i})}static{this.\u0275inj=oe({providers:[ci],imports:[We,mt,Pt,mt]})}}return i})();function xn(i,n){}var ut=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},mi="mdc-dialog--open",Ki="mdc-dialog--opening",en="mdc-dialog--closing",yn=150,In=75,Sn=(()=>{class i extends li{constructor(e,t,o,m,C,y,P,he,F){super(e,t,o,m,C,y,P,F),this._animationMode=he,this._animationStateChanged=new Te,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?nn(this._config.enterAnimationDuration)??yn:0,this._exitAnimationDuration=this._animationsEnabled?nn(this._config.exitAnimationDuration)??In:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(tn,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Ki,mi)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(mi),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(mi),this._animationsEnabled?(this._hostElement.style.setProperty(tn,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(en)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(Ki,en)}_waitForAnimationToComplete(e,t){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(t,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let t=super.attachComponentPortal(e);return t.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),t}static{this.\u0275fac=function(t){return new(t||i)(g(se),g(Tt),g(Ge,8),g(ut),g(Et),g(Le),g(Ye),g(ot,8),g(qe))}}static{this.\u0275cmp=I({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(t,o){t&2&&(oi("id",o._config.id),je("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),ke("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},standalone:!0,features:[Ne,D],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,o){t&1&&(s(0,"div",0)(1,"div",1),u(2,xn,0,0,"ng-template",2),r()())},dependencies:[ct],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}}return i})(),tn="--mat-dialog-transition-duration";function nn(i){return i==null?null:typeof i=="number"?i:i.endsWith("ms")?He(i.substring(0,i.length-2)):i.endsWith("s")?He(i.substring(0,i.length-1))*1e3:i==="0"?0:null}var Mt=function(i){return i[i.OPEN=0]="OPEN",i[i.CLOSING=1]="CLOSING",i[i.CLOSED=2]="CLOSED",i}(Mt||{}),G=class{constructor(n,e,t){this._ref=n,this._containerInstance=t,this._afterOpened=new ne,this._beforeClosed=new ne,this._state=Mt.OPEN,this.disableClose=e.disableClose,this.id=n.id,n.addPanelClass("mat-mdc-dialog-panel"),t._animationStateChanged.pipe(nt(o=>o.state==="opened"),_t(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(nt(o=>o.state==="closed"),_t(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),_i(this.backdropClick(),this.keydownEvents().pipe(nt(o=>o.keyCode===27&&!this.disableClose&&!Be(o)))).subscribe(o=>{this.disableClose||(o.preventDefault(),on(this,o.type==="keydown"?"keyboard":"mouse"))})}close(n){this._result=n,this._containerInstance._animationStateChanged.pipe(nt(e=>e.state==="closing"),_t(1)).subscribe(e=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=Mt.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(n){let e=this._ref.config.positionStrategy;return n&&(n.left||n.right)?n.left?e.left(n.left):e.right(n.right):e.centerHorizontally(),n&&(n.top||n.bottom)?n.top?e.top(n.top):e.bottom(n.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(n="",e=""){return this._ref.updateSize(n,e),this}addPanelClass(n){return this._ref.addPanelClass(n),this}removePanelClass(n){return this._ref.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=Mt.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function on(i,n,e){return i._closeInteractionType=n,i.close(e)}var te=new fe("MatMdcDialogData"),wn=new fe("mat-mdc-dialog-default-options"),En=new fe("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let i=_e(ee);return()=>i.scrollStrategies.block()}});var Tn=0,$=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,t,o,m,C,y,P,he){this._overlay=e,this._defaultOptions=m,this._scrollStrategy=C,this._parentDialog=y,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ne,this._afterOpenedAtThisLevel=new ne,this.dialogConfigClass=ut,this.afterAllClosed=ht(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(vt(void 0))),this._dialog=t.get(ci),this._dialogRefConstructor=G,this._dialogContainerType=Sn,this._dialogDataToken=te}open(e,t){let o;t=Y(Y({},this._defaultOptions||new ut),t),t.id=t.id||`mat-mdc-dialog-${Tn++}`,t.scrollStrategy=t.scrollStrategy||this._scrollStrategy();let m=this._dialog.open(e,fi(Y({},t),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:t},{provide:Ae,useValue:t}]},templateContext:()=>({dialogRef:o}),providers:(C,y,P)=>(o=new this._dialogRefConstructor(C,t,P),o.updatePosition(t?.position),[{provide:this._dialogContainerType,useValue:P},{provide:this._dialogDataToken,useValue:y.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=m.componentRef,o.componentInstance=m.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let C=this.openDialogs.indexOf(o);C>-1&&(this.openDialogs.splice(C,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}static{this.\u0275fac=function(t){return new(t||i)(k(ee),k(ve),k(Oi,8),k(wn,8),k(En),k(i,12),k(Ot),k(ot,8))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Pn=0,At=(()=>{class i{constructor(e,t,o){this.dialogRef=e,this._elementRef=t,this._dialog=o,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=sn(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){let t=e._matDialogClose||e._matDialogCloseResult;t&&(this.dialogResult=t.currentValue)}_onButtonClick(e){on(this.dialogRef,e.screenX===0&&e.screenY===0?"keyboard":"mouse",this.dialogResult)}static{this.\u0275fac=function(t){return new(t||i)(g(G,8),g(se),g($))}}static{this.\u0275dir=Ee({type:i,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,o){t&1&&p("click",function(C){return o._onButtonClick(C)}),t&2&&je("aria-label",o.ariaLabel||null)("type",o.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[Ve]})}}return i})(),rn=(()=>{class i{constructor(e,t,o){this._dialogRef=e,this._elementRef=t,this._dialog=o}ngOnInit(){this._dialogRef||(this._dialogRef=sn(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static{this.\u0275fac=function(t){return new(t||i)(g(G,8),g(se),g($))}}static{this.\u0275dir=Ee({type:i,standalone:!0})}}return i})(),Ft=(()=>{class i extends rn{constructor(){super(...arguments),this.id=`mat-mdc-dialog-title-${Pn++}`}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=ii(i)))(o||i)}})()}static{this.\u0275dir=Ee({type:i,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(t,o){t&2&&oi("id",o.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[Ne]})}}return i})(),pe=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275dir=Ee({type:i,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[xi([Vi])]})}}return i})(),Ie=(()=>{class i extends rn{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=ii(i)))(o||i)}})()}static{this.\u0275dir=Ee({type:i,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(t,o){t&2&&ke("mat-mdc-dialog-actions-align-start",o.align==="start")("mat-mdc-dialog-actions-align-center",o.align==="center")("mat-mdc-dialog-actions-align-end",o.align==="end")},inputs:{align:"align"},standalone:!0,features:[Ne]})}}return i})();function sn(i,n){let e=i.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?n.find(t=>t.id===e.id):null}var an=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=re({type:i})}static{this.\u0275inj=oe({providers:[$],imports:[Zi,We,mt,Se,Se]})}}return i})();function On(i,n){if(i&1&&f(0,"p",15),i&2){let e=n.index,t=d();B("p-2 border border-dark rounded-circle ",e+1<=t.gioco.difficolta?"d-block":"d-none"," m-1"),c("ngClass",t.gioco.difficolta<=2?"bg-success":t.gioco.difficolta<=4?"bg-warning":"bg-danger")}}var Xe=class i{constructor(n,e,t){this.data=n;this.authService=e;this.matDialogRef=t;this.gioco=n}user=null;gioco;circles=[1,2,3,4,5];ngOnInit(){this.user=this.authService.getUser()}play(){this.close(!0)}close(n){this.matDialogRef.close(n)}static \u0275fac=function(e){return new(e||i)(g(te),g(q),g(G))};static \u0275cmp=I({type:i,selectors:[["app-gioco-preview"]],standalone:!0,features:[D],decls:20,vars:8,consts:[[1,"row"],["mat-dialog-title","",1,"col-md-12","text-center","w-100","bg-info","d-flex","justify-content-center","border","border-bottom"],["alt","gioco_image",1,"border","rounded-circle","gioco-image",3,"src"],[1,"text-white"],[1,"col-md-12","p-3","py-5","text-center","bg"],[1,"fs-5","py-4","p-3","w-75","m-auto","border","rounded","bg-personal-transparent"],[1,"py-5","my-3","bg-personal-transparent","w-75","m-auto"],[1,"fs-5"],[1,"d-flex","justify-content-around"],[3,"class","ngClass",4,"ngFor","ngForOf"],[1,"col-md-12","text-end"],[1,"text-end"],[1,"btn","btn-outline-success","m-1",3,"click"],[1,"btn","text-danger","m-1",3,"click"],[1,"col-md-12"],[3,"ngClass"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"div",1),f(2,"img",2),s(3,"h2",3),l(4),r()(),s(5,"mat-dialog-content",4)(6,"p",5),l(7),r(),s(8,"div",6)(9,"p",7),l(10),r(),s(11,"div",8),u(12,On,1,4,"p",9),r()()(),s(13,"div",10)(14,"mat-dialog-actions",11)(15,"button",12),p("click",function(){return t.play()}),l(16,"Gioca"),r(),s(17,"button",13),p("click",function(){return t.close(!1)}),l(18,"Chiudi"),r()()(),f(19,"div",14),r()),e&2&&(a(2),E("src",t.gioco==null?null:t.gioco.image,L),a(2),x(t.gioco==null?null:t.gioco.nomeGioco),a(),Si("background:url('",t.gioco.image,"')"),a(2),b(" ",t.gioco==null?null:t.gioco.descrizione," "),a(3),b("Livello di difficolt\xE0 : ",(t.gioco==null?null:t.gioco.difficolta)<=2?"FACILE":(t.gioco==null?null:t.gioco.difficolta)>2&&(t.gioco==null?null:t.gioco.difficolta)<=4?"MEDIO":"DIFFICILE",""),a(2),c("ngForOf",t.circles))},dependencies:[Ie,pe,Ft,z,A],styles:[".profile-image[_ngcontent-%COMP%]{width:50px;height:50px}.bg[_ngcontent-%COMP%]{background-repeat:no-repeat!important;background-size:auto!important;background-position:center!important}.gioco-image[_ngcontent-%COMP%]{width:50px;height:50px}"]})};var De=class i{constructor(n){this.http=n}recensione="/recensione";userAndGioco="/userAndGioco";byGiocoId="/byGiocoId";alertReces=new gi(!1);getRecensioneByUserIdAndGiocoId(n){return this.http.get(T.API_URL+this.recensione+this.userAndGioco+`?giocoId=${n}`)}getRecensioneByGiocoIdPaginated(n,e,t,o,m){return this.http.get(T.API_URL+this.recensione+this.byGiocoId+`/${n}?page=${e||""}&size=${t||""}&orderBy=${o||""}&sortOrder=${m||""}`)}saveRecensione(n){return this.http.post(T.API_URL+this.recensione,n)}putRecensione(n,e){return this.http.put(T.API_URL+this.recensione+`/${e}`,n)}deleteRecensione(n){return this.http.delete(T.API_URL+this.recensione+`/${n}`)}alertRece(n){this.alertReces.next(n)}static \u0275fac=function(e){return new(e||i)(k(W))};static \u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})};function Dn(i,n){if(i&1){let e=v();s(0,"i",20),p("click",function(){let o=h(e).index,m=d(2);return _(m.recePoints=o+1)}),r()}if(i&2){let e=n.index,t=d(2);c("ngClass",e+1<=t.recePoints?"text-warning":"text-secondary")}}function Mn(i,n){if(i&1){let e=v();s(0,"div",9)(1,"div",10),f(2,"img",11),s(3,"p",12),l(4),r()(),s(5,"div",13)(6,"div",14),u(7,Dn,1,1,"i",15),r(),s(8,"div")(9,"p",16),f(10,"img",17),s(11,"span",18),l(12),r()(),s(13,"textarea",19,0),p("input",function(){h(e);let o=S(14),m=d();return _(m.recensione.commento=o.value)}),l(15,"                        "),r()()()()}if(i&2){let e=d();a(2),E("src",e.giocoImage,L),a(2),x(e.giocoName),a(3),c("ngForOf",e.validationPoints),a(3),E("src",e.user.immagineProfilo,L),a(2),x(e.user.fullName),a(),Ii("value"," ",e.recensione==null?null:e.recensione.commento,""),c("disabled",e.action!="Modifica")}}var Ze=class i{constructor(n,e,t,o){this.data=n;this.dialogRef=e;this.authService=t;this.recensioneService=o;this.user=this.authService.getUser()}giocoName="";giocoImage="";giocoId=0;recensione=null;validationPoints=[1,2,3,4,5];user;action="";recePoints=0;ngOnInit(){this.giocoName=this.data[0].nomeGioco,this.giocoImage=this.data[0].image,this.giocoId=this.data[0].id,this.recensione=this.data[1],this.action=this.data[2],this.recePoints=this.recensione?.punteggio}closeDialog(n){this.dialogRef.close(n||!1)}modifica(){let n={punteggio:this.recePoints,commento:this.recensione.commento,giocoId:this.giocoId};this.recensioneService.putRecensione(n,this.recensione.id).subscribe({next:e=>{this.dialogRef.close([!0,e])}})}elimina(){this.dialogRef.close(!0)}static \u0275fac=function(e){return new(e||i)(g(te),g(G),g(q),g(De))};static \u0275cmp=I({type:i,selectors:[["app-ask-confirm"]],standalone:!0,features:[D],decls:11,vars:4,consts:[["commento",""],[1,"w-100","bg-light-personal","text-center"],[1,""],[1,"p-3","text-center","position-relative","bg-white"],[1,"py-2"],["class","bg-light border rounded shadow-sm",4,"ngIf"],[1,"text-end","position-absolute","bottom-0","end-0"],[1,"btn","btn-success","m-1",3,"click"],[1,"btn","btn-danger","m-1",3,"mat-dialog-close"],[1,"bg-light","border","rounded","shadow-sm"],[1,"w-100","text-center","bg-light-personal","d-flex","justify-content-center","pt-2","rounded-top"],["alt","immagine gioco",1,"gioco-image",3,"src"],[1,"p-2","fs-4"],[1,"py-4"],[1,"d-flex","justify-content-center"],["class","bi bi-star-fill h3",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","align-items-end"],["alt","profile image",1,"rounded-circle","border",3,"src"],[1,"px-3","fs-5"],["cols","40","rows","3","oninput","this.style.height = '';this.style.height = this.scrollHeight + 'px'",1,"p-2","fs-4",2,"height","fit-content",3,"input","disabled","value"],[1,"bi","bi-star-fill","h3",3,"click","ngClass"]],template:function(e,t){e&1&&(s(0,"div",1)(1,"h2",2),l(2),r()(),s(3,"div",3)(4,"mat-dialog-content",4),u(5,Mn,16,8,"div",5),r(),s(6,"mat-dialog-actions",6)(7,"button",7),p("click",function(){return t.modifica()}),l(8),r(),s(9,"button",8),l(10,"Annulla"),r()()()),e&2&&(a(2),x(t.action),a(3),c("ngIf",t.recensione!=null),a(3),x(t.action),a(),c("mat-dialog-close",!1))},dependencies:[At,Ie,pe,z,V,A],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{font-family:Just Me Again Down Here,cursive;font-weight:400;font-style:normal}h1[_ngcontent-%COMP%]{font-size:80px}.rounded-circle[_ngcontent-%COMP%]{width:50px!important;height:50px!important}.position-relative[_ngcontent-%COMP%]{height:100%!important}.gioco-image[_ngcontent-%COMP%]{width:30px;height:30px}.recensioni-container[_ngcontent-%COMP%]{height:80%}textarea[_ngcontent-%COMP%]{background-color:transparent!important;border:none!important;width:auto}textarea[_ngcontent-%COMP%]:focus{outline:none!important}i[_ngcontent-%COMP%]{cursor:pointer}"]})};function kn(i,n){i&1&&(s(0,"div")(1,"h2"),l(2,"La tua recensione"),r()())}function An(i,n){if(i&1){let e=v();s(0,"div")(1,"button",33),p("click",function(){h(e);let o=d(2);return _(o.updateRece(o.recensione))}),l(2,"Modifica"),r(),s(3,"button",34),p("click",function(){h(e);let o=d(2);return _(o.deleteRece(o.recensione))}),l(4,"Elimina"),r()()}}function Fn(i,n){if(i&1&&f(0,"i",35),i&2){let e=n.index,t=d(2);c("ngClass",e+1<=(t.recensione==null?null:t.recensione.punteggio)?"textg-warning":"d-none")}}function Rn(i,n){if(i&1&&(s(0,"div",16)(1,"div",17)(2,"div",18)(3,"button",19),f(4,"i",20),r(),s(5,"mat-menu",21,1),u(7,An,5,0,"ng-template",22),r()(),s(8,"div",23),f(9,"img",24),s(10,"p",25),l(11),r()()(),s(12,"div",26)(13,"div",12),u(14,Fn,1,1,"i",27),r(),s(15,"div")(16,"p",28),f(17,"img",29),s(18,"span",30),l(19),r()(),s(20,"p",31),l(21),r(),s(22,"p",32),l(23),r()()()()),i&2){let e=S(6),t=d();a(3),c("matMenuTriggerFor",e),a(6),E("src",t.gioco==null?null:t.gioco.image,L),a(2),b(" ",t.gioco==null?null:t.gioco.nomeGioco," "),a(3),c("ngForOf",t.validationPoints),a(3),E("src",t.recensione==null||t.recensione.user==null?null:t.recensione.user.immagineProfilo,L),a(2),x(t.recensione==null||t.recensione.user==null?null:t.recensione.user.fullName),a(2),b(" ",t.recensione==null?null:t.recensione.commento," "),a(2),b(" ",t.recensione==null?null:t.recensione.createdAt," ")}}function zn(i,n){if(i&1&&f(0,"i",35),i&2){let e,t=n.index,o=d(2);c("ngClass",t+1<=((e=o.recensioneForm.get("punteggio"))==null?null:e.value)?"textg-warning":"d-none")}}function Vn(i,n){if(i&1&&(s(0,"option",47),l(1),r()),i&2){let e=n.$implicit;E("value",e),a(),x(e)}}function Ln(i,n){i&1&&(s(0,"p",48),l(1," Inserisci un punteggio tra 1 e 5."),r())}function Nn(i,n){i&1&&(s(0,"p",48),l(1,"Inserisci un commento valido."),r())}function jn(i,n){if(i&1){let e=v();s(0,"div",36)(1,"p",37),l(2),r(),s(3,"form",38)(4,"label",39),l(5,"Scegli il punteggio"),r(),s(6,"span"),u(7,zn,1,1,"i",27),r(),s(8,"select",40),f(9,"option",41),u(10,Vn,2,2,"option",42),r(),u(11,Ln,2,0,"p",43),s(12,"label",44),l(13,"Scrivi un commento"),r(),s(14,"textarea",45),l(15,"                    "),r(),u(16,Nn,2,0,"p",43),r(),s(17,"button",46),p("click",function(){h(e);let o=d();return _(o.recensisciGioco())}),l(18,"Recensisci"),r()()}if(i&2){let e=d();a(2),b("Lascia una recensione su ",e.gioco==null?null:e.gioco.nomeGioco,""),a(),c("formGroup",e.recensioneForm),a(4),c("ngForOf",e.validationPoints),a(3),c("ngForOf",e.validationPoints),a(),c("ngIf",e.isRecensioneFormSubmitted&&e.recensioneForm.get("punteggio").invalid),a(5),c("ngIf",e.isRecensioneFormSubmitted&&e.checkCommento())}}function Un(i,n){if(i&1&&(s(0,"option",47),l(1),r()),i&2){let e=n.$implicit;c("value",e.values),a(),x(e.label)}}function Gn(i,n){if(i&1&&(s(0,"option",47),l(1),r()),i&2){let e=n.$implicit;c("value",e),a(),x(e)}}function $n(i,n){if(i&1){let e=v();s(0,"div")(1,"h2"),l(2,"Le altre recensioni"),r(),s(3,"div",49)(4,"div",50)(5,"label",51),l(6,"Ordina per"),r(),s(7,"select",52,2),p("change",function(){h(e);let o=S(8),m=d();return m.sortOrder=o.value.substring(o.value.lastIndexOf(",")+1),m.orderBy=o.value.split("",o.value.length-o.value.substring(o.value.lastIndexOf(",")).length).join().replaceAll(",",""),_(m.getRecensioni(!0,m.page,m.size,m.orderBy,m.sortOrder))}),u(9,Un,2,2,"option",42),r()(),s(10,"div",50)(11,"label",51),l(12,"Elementi per pagina"),r(),s(13,"select",53,3),p("change",function(){h(e);let o=S(14),m=d();return m.size=m.toNumber(o.value),_(m.getRecensioni(!0,m.page,m.size,m.orderBy,m.sortOrder))}),u(15,Gn,2,2,"option",42),r()()()()}if(i&2){let e=d();a(9),c("ngForOf",e.ordinaArray),a(6),c("ngForOf",e.sizes)}}function Bn(i,n){if(i&1&&f(0,"i",35),i&2){let e=n.index,t=d(2);c("ngClass",e+1<=(t.recensione==null?null:t.recensione.punteggio)?"textg-warning":"d-none")}}function Hn(i,n){if(i&1){let e=v();s(0,"div",54)(1,"div",16)(2,"div",55),f(3,"img",24),s(4,"p",25),l(5),r()(),s(6,"div",26)(7,"div",12),u(8,Bn,1,1,"i",27),r(),s(9,"div")(10,"p",28),f(11,"img",29),s(12,"span",56),p("click",function(){let o=h(e).$implicit,m=d();return _(m.goToProfile(o==null?null:o.user))}),l(13),r()(),s(14,"p",31),l(15),r(),s(16,"p",32),l(17),r()()()()()}if(i&2){let e=n.$implicit,t=d();a(3),E("src",t.gioco==null?null:t.gioco.image,L),a(2),b(" ",t.gioco==null?null:t.gioco.nomeGioco," "),a(3),c("ngForOf",t.validationPoints),a(3),E("src",e==null||e.user==null?null:e.user.immagineProfilo,L),a(2),x(e==null||e.user==null?null:e.user.fullName),a(2),b(" ",e==null?null:e.commento," "),a(2),b(" ",e==null?null:e.createdAt," ")}}function qn(i,n){if(i&1){let e=v();s(0,"button",57),p("click",function(){h(e);let o=d();return _(o.getRecensioni(!0,o.page=o.page-1,o.size,o.orderBy,o.sortOrder))}),l(1," Precedenti "),r()}}function Yn(i,n){if(i&1){let e=v();s(0,"button",57),p("click",function(){h(e);let o=d();return _(o.getRecensioni(!0,o.page=o.page+1,o.size,o.orderBy,o.sortOrder))}),l(1," Successive "),r()}}function Wn(i,n){i&1&&(s(0,"div")(1,"p",37),l(2,"Non ci sono altre recensioni."),r()())}function Qn(i,n){i&1&&(s(0,"div")(1,"p",37),l(2,"Non ci sono recensioni."),r()())}var Rt=class i{constructor(n,e,t,o,m,C,y){this.data=n;this.authService=e;this.recensioneService=t;this.toastr=o;this.dialog=m;this.router=C;this.dialogRef=y;this.gioco=n,this.user=this.authService.getUser()}user=null;gioco=null;recensione=null;validationPoints=[1,2,3,4,5];recensioni;recensioneForm=new O({});isRecensioneFormSubmitted=!1;page=0;size=2;orderBy="punteggio";sortOrder="ASC";ordinaArray=[{label:"Punteggio migliore",values:["punteggio","DESC"]},{label:"Punteggio peggiore",values:["punteggio","ASC"]},{label:"Pi\xF9 recente",values:["createdAt","DESC"]},{label:"Meno recente",values:["createdAt","ASC"]}];sizes=[2,5,10];ngOnInit(){this.getRecensioni(!1,this.page,this.size,this.orderBy,this.sortOrder),this.generateRecensioneForm()}getRecensioni(n,e,t,o,m){n||this.recensioneService.getRecensioneByUserIdAndGiocoId(this.gioco?.id).subscribe(C=>{this.recensione=C}),this.recensioneService.getRecensioneByGiocoIdPaginated(this.gioco?.id,e,t,o,m).subscribe(C=>{this.recensioni=C})}generateRecensioneForm(){this.recensioneForm=new O({punteggio:new w("",R.required),commento:new w("",R.required)})}recensisciGioco(){if(this.isRecensioneFormSubmitted=!0,this.recensioneForm.valid){let n={giocoId:this.gioco?.id,commento:this.recensioneForm.get("commento")?.value,punteggio:this.recensioneForm.get("punteggio")?.value};this.dialog.open(Ze,{data:[this.gioco,n,"Salva"],width:"60%",height:"70%"}).afterClosed().subscribe(t=>{t?this.recensioneService.saveRecensione(n).subscribe({next:()=>{this.getRecensioni(),this.recensioneService.alertRece(!0)}}):this.toastr.show("Non \xE8 stata aggiunta nessuna recensione.")})}else this.toastr.error("Completa correttamente il form.")}checkCommento(){return this.recensioneForm.get("commento").invalid||this.recensioneForm.get("commento").value.trim()===""}toNumber(n){return Number(n)}updateRece(n){this.dialog.open(Ze,{data:[this.gioco,n,"Modifica"],width:"60%",height:"70%"}).afterClosed().subscribe(t=>{t&&t[0]==!0?(this.recensione=t[1],this.toastr.success("Recensione modificata con successo."),this.recensioneService.alertRece(!0)):this.toastr.show("Non \xE8 stata modificata nessuna recensione.")})}deleteRece(n){this.dialog.open(Ze,{data:[this.gioco,n,"Elimina"],width:"60%",height:"70%"}).afterClosed().subscribe(t=>{t?this.recensioneService.deleteRecensione(n?.id).subscribe({next:()=>{this.toastr.success("Recensione eliminata con successo."),this.recensione=null,this.recensioneService.alertRece(!0)}}):this.toastr.show("Non \xE8 stata eliminata nessuna recensione.")})}goToProfile(n){this.router.navigate(["/lobby/profile"],{queryParams:{user:JSON.stringify(n)}}),this.dialogRef.close()}static \u0275fac=function(e){return new(e||i)(g(te),g(q),g(De),g(H),g($),g(Pe),g(G))};static \u0275cmp=I({type:i,selectors:[["app-recensioni"]],standalone:!0,features:[D],decls:20,vars:10,consts:[["recensisci",""],["appMenu","matMenu"],["ordina",""],["elementi",""],[1,"w-100","bg-light-personal","text-center"],[1,""],[1,"p-3","text-center","position-relative"],[1,"py-2"],[4,"ngIf"],["class","bg-light border rounded shadow-sm",4,"ngIf","ngIfElse"],[1,"recensioni-container","row","py-5","my-2","border-top"],["class","col-lg-6 p-2",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["class","btn btn-light m-1",3,"click",4,"ngIf"],[1,"text-end","position-absolute","bottom-0","end-0"],[1,"btn",3,"mat-dialog-close"],[1,"bg-light","border","rounded","shadow-sm"],[1,"w-100","text-center","bg-light-personal","rounded-top"],[1,"d-flex","justify-content-end"],[1,"btn","text-dark","fw-bolder",3,"matMenuTriggerFor"],[1,"bi","bi-three-dots-vertical"],[1,"overflow-hidden"],["matMenuContent",""],[1,"d-flex","justify-content-center","pt-2"],["alt","immagine gioco",1,"gioco-image",3,"src"],[1,"p-2","fs-4"],[1,"pt-4","pb-2"],["class","bi bi-star-fill text-warning h3",3,"ngClass",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","align-items-end"],["alt","profile image",1,"rounded-circle","border",3,"src"],[1,"px-3","fs-5"],[1,"fs-3","py-3","border-bottom"],[1,"date"],["mat-menu-item","",1,"btn","btn-light","fs-4",3,"click"],["mat-menu-item","",1,"btn","fs-4","btn-danger",3,"click"],[1,"bi","bi-star-fill","text-warning","h3",3,"ngClass"],[1,"text-center"],[1,"fs-4"],[3,"formGroup"],["for","punteggio",1,"p-2"],["name","punteggio","formControlName","punteggio","id","punteggio",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],["for","commento",1,"p-2"],["name","commento","formControlName","commento","id","commento",1,"form-control"],["type","button",1,"btn","my-2",3,"click"],[3,"value"],[1,"text-danger"],[1,"row"],[1,"col-md-6"],["for","ordina",1,"form-label"],["name","ordina","id","ordina",1,"form-select",3,"change"],["name","elementi","id","elementi",1,"form-select",3,"change"],[1,"col-lg-6","p-2"],[1,"w-100","text-center","bg-light-personal","d-flex","justify-content-center","pt-2","rounded-top"],[1,"px-3","fs-5","btn",3,"click"],[1,"btn","btn-light","m-1",3,"click"]],template:function(e,t){if(e&1&&(s(0,"div",4)(1,"h2",5),l(2),r()(),s(3,"div",6)(4,"mat-dialog-content",7),u(5,kn,3,0,"div",8)(6,Rn,24,8,"div",9)(7,jn,19,6,"ng-template",null,0,Ue),s(9,"div",10),u(10,$n,16,2,"div",8)(11,Hn,18,7,"div",11),s(12,"div",12),u(13,qn,2,0,"button",13)(14,Yn,2,0,"button",13),r(),u(15,Wn,3,0,"div",8)(16,Qn,3,0,"div",8),r()(),s(17,"mat-dialog-actions",14)(18,"button",15),l(19,"Chiudi"),r()()()),e&2){let o=S(8);a(2),x("Le recensioni di "+(t.gioco==null?null:t.gioco.nomeGioco)),a(3),c("ngIf",t.recensione!=null),a(),c("ngIf",t.recensione!=null)("ngIfElse",o),a(4),c("ngIf",t.recensioni&&(t.recensioni==null?null:t.recensioni.content)&&t.recensioni.content.length>0),a(),c("ngForOf",t.recensioni==null?null:t.recensioni.content),a(2),c("ngIf",t.recensioni&&(t.recensioni==null?null:t.recensioni.content)&&(t.recensioni==null||t.recensioni.content==null?null:t.recensioni.content.length)>0&&!(t.recensioni!=null&&t.recensioni.first)),a(),c("ngIf",t.recensioni&&(t.recensioni==null?null:t.recensioni.content)&&(t.recensioni==null||t.recensioni.content==null?null:t.recensioni.content.length)>0&&!(t.recensioni!=null&&t.recensioni.last)),a(),c("ngIf",!t.recensioni||!(t.recensioni!=null&&t.recensioni.content)||(t.recensioni==null||t.recensioni.content==null?null:t.recensioni.content.length)==0),a(),c("ngIf",(t.gioco==null?null:t.gioco.recensione)==null||(t.gioco==null||t.gioco.recensione==null?null:t.gioco.recensione.length)==0)}},dependencies:[pe,Ie,Dt,Gi,ji,Ui,$i,z,A,At,V,N,J,me,de,ce,ye,Q,X,Z,K],styles:[".h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{font-family:Just Me Again Down Here,cursive;font-weight:400;font-style:normal}h1[_ngcontent-%COMP%]{font-size:80px}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:120px}.bg-personal[_ngcontent-%COMP%]{background-color:gray}.rounded-circle[_ngcontent-%COMP%]{width:50px!important;height:50px!important}.position-relative[_ngcontent-%COMP%]{height:100%!important}.gioco-image[_ngcontent-%COMP%]{width:30px;height:30px}.recensioni-container[_ngcontent-%COMP%]{height:80%}.date[_ngcontent-%COMP%]{font-size:12px}"]})};var Vt=class i{constructor(n){this.http=n}gioco="/gioco";byFilters="/byFilters";preferito="/preferito";user="/user";searchGiochi(n,e,t,o,m,C){return this.http.get(T.API_URL+this.gioco+this.byFilters+`?nomeGioco=${n?.nome||""}&difficolta=${n?.difficolta||0}&avg=${n?.punteggio||0}&page=${e}&size=${t}&orderBy=${o}&sortOrder=${m}&isActive=${C}`)}addToFavourites(n){return this.http.post(T.API_URL+this.preferito,n)}removeFromFavourites(n){return this.http.delete(T.API_URL+this.preferito+`/${n}`)}getPreferitiByUserId(n,e,t,o,m){return this.http.get(T.API_URL+this.preferito+this.user+`/${n}?page=${e}&size=${t}&orderBy=${o}&sortOrder=${m}`)}static \u0275fac=function(e){return new(e||i)(k(W))};static \u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})};var Lt=class i{ngOnInit(){}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=I({type:i,selectors:[["app-skeleton"]],decls:17,vars:2,consts:[[1,"border","w-100"],[1,"w-50","m-auto","skeleton"],["src","assets/home/star.png","alt","",1,"w-100"],[1,"py-2"],[1,"w-50","m-auto","skeleton","p-3"],[1,"w-50","skeleton","p-2"],[1,"w-75","skeleton","p-2"],[1,"w-75","skeleton","p-5"],[1,"w-100","m-auto","skeleton","p-3"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"div",1),f(2,"img",2),r(),s(3,"div",3),f(4,"div",4),r(),s(5,"div",3),f(6,"div",5),r(),s(7,"div",3),f(8,"div",6),r(),s(9,"div",3),f(10,"div",6),r(),s(11,"div",3),f(12,"div",7),r(),s(13,"div",3),f(14,"div",6),r(),s(15,"div",3),f(16,"div",8),r()()),e&2&&(a(2),yi("visibility","hidden"))},styles:[".skeleton[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_skeleton-loading .5s linear infinite alternate;color:transparent;background-color:#ede9e9}@keyframes _ngcontent-%COMP%_skeleton-loading{to{background-color:#0ad267}}"]})};function Zn(i,n){if(i&1&&(s(0,"option",11),l(1),r()),i&2){let e=n.$implicit;E("value",e),a(),x(e)}}function Kn(i,n){if(i&1&&(s(0,"option",11),l(1),r()),i&2){let e=n.$implicit;E("value",e),a(),x(e)}}function eo(i,n){if(i&1&&(s(0,"option",11),l(1),r()),i&2){let e=n.$implicit;E("value",e),a(),x(e)}}function to(i,n){if(i&1){let e=v();s(0,"i",58),p("click",function(){h(e);let o=d(2).$implicit,m=d();return _(m.addToFavourites(o))}),r()}}function io(i,n){if(i&1){let e=v();s(0,"i",59),p("click",function(){h(e);let o=d(2).$implicit,m=d();return _(m.removeFromFavourites(o))}),r()}}function no(i,n){if(i&1&&f(0,"i",65),i&2){let e=n.index,t=d(2).$implicit;c("ngClass",e+1<=(t==null?null:t.punteggio)?"textg-warning":"d-none")}}function oo(i,n){if(i&1){let e=v();s(0,"div",61)(1,"div",62),u(2,no,1,1,"i",63),r(),s(3,"div")(4,"p")(5,"button",64),p("click",function(){h(e);let o=d().$implicit,m=d(3);return _(m.goToProfile(o==null?null:o.user))}),l(6),r()(),s(7,"p"),l(8),r()()()}if(i&2){let e=d(),t=e.$implicit,o=e.index,m=d(2).$implicit,C=d();c("ngClass",o==1||(m==null||m.recensione==null?null:m.recensione.length)==1?"":"border-bottom"),a(2),c("ngForOf",C.validationPoints),a(4),wi(" ",t==null||t.user==null?null:t.user.fullName," - ",t==null?null:t.createdAt," "),a(2),b(" ",t==null?null:t.commentoPreview," ")}}function ro(i,n){if(i&1&&(s(0,"div",52),u(1,oo,9,5,"div",60),r()),i&2){let e=n.index;a(),c("ngIf",e<=1)}}function so(i,n){i&1&&(s(0,"div",66),l(1," Non ci sono recensioni "),r())}function ao(i,n){if(i&1&&f(0,"p",61),i&2){let e=n.index,t=d(2).$implicit;B("p-2 border border-dark rounded-circle ",e+1<=t.difficolta?"d-block":"d-none"," m-1"),c("ngClass",t.difficolta<=2?"bg-success":t.difficolta<=4?"bg-warning":"bg-danger")}}function lo(i,n){if(i&1){let e=v();s(0,"div",42)(1,"div",43),u(2,to,1,0,"i",44)(3,io,1,0,"i",45),f(4,"img",46),r(),s(5,"div",47)(6,"h2"),l(7),r()(),s(8,"div",48)(9,"p",49),l(10),r(),u(11,ro,2,1,"div",50)(12,so,2,0,"div",51),s(13,"div",52)(14,"button",53),p("click",function(){h(e);let o=d().$implicit,m=d();return _(m.rateGame(o))}),l(15,"Lascia una recensione o vedi le altre"),r()()(),s(16,"div",54)(17,"p",55),l(18),r(),s(19,"div",56),u(20,ao,1,4,"p",57),r()()()}if(i&2){let e=d().$implicit,t=d();a(2),c("ngIf",!t.isPreferred(e)),a(),c("ngIf",t.isPreferred(e)),a(),E("src",e==null?null:e.image,L),a(3),x(e.nomeGioco),a(3),b("Recensioni (",e==null?null:e.totalRecensioniNumber,") : "),a(),c("ngForOf",e==null?null:e.recensione),a(),c("ngIf",(e==null?null:e.recensione)==null||(e==null||e.recensione==null?null:e.recensione.length)==0),a(6),b("Livello di difficolt\xE0 : ",e.difficolta<=2?"FACILE":e.difficolta>2&&e.difficolta<=4?"MEDIO":"DIFFICILE"," "),a(2),c("ngForOf",t.circles)}}function co(i,n){if(i&1){let e=v();s(0,"div",67),p("click",function(){h(e);let o=d().$implicit,m=d();return _(m.openGameDialog(o))}),s(1,"p",68),l(2,"VAI AL GIOCO "),r(),f(3,"i",69),r()}if(i&2){let e=d().$implicit;a(),c("ngClass",e.difficolta<=2?"text-success":e.difficolta<=4?"text-warning":"text-danger")}}function mo(i,n){i&1&&f(0,"app-skeleton")}function po(i,n){if(i&1&&(s(0,"div",38),u(1,lo,21,9,"div",39)(2,co,4,1,"div",40)(3,mo,1,0,"app-skeleton",41),r()),i&2){let e=d();c("ngClass",e.windowWidth<500?"w-100":"w-75"),a(),c("ngIf",!e.isLoading),a(),c("ngIf",!e.isLoading),a(),c("ngIf",e.isLoading)}}function uo(i,n){i&1&&f(0,"app-spinner",70)}var Nt=class i{constructor(n,e,t,o){this.giochiService=n;this.matDialog=e;this.router=t;this.recensioniService=o}giochi=[];circles=[1,2,3,4,5];searchGiocoForm=new O({});points=[1,2,3,4];difficulties=[1,2,3,4];validationPoints=[1,2,3,4,5];page=0;size=2;orderBy="id";sortOrder="ASC";body={nome:this.searchGiocoForm.get("nomeGioco")?.value,difficolta:this.searchGiocoForm.get("difficolta")?.value,punteggio:this.searchGiocoForm.get("punteggioRecensioniDa")?.value};isLoading=!1;maxPages=1;sizes=[2,5,10];windowWidth=0;user=null;timeout=null;canSwitchLocation=new Te(!1);mode="light";ngOnInit(){this.initializeGiocoForm(),this.getGiochi(!1,this.body),this.onResize()}ngOnDestroy(){this.isLoading=!1,clearTimeout(this.timeout)}getGiochi(n,e,t){this.canSwitchLocation.emit(!1),this.searchGiocoForm.get("size")?.value!=""&&this.searchGiocoForm.get("size")?.value!=null&&this.searchGiocoForm.get("size")?.value!=null&&(this.size=this.searchGiocoForm.get("size")?.value),this.searchGiocoForm.get("orderBy")?.value!=""&&this.searchGiocoForm.get("orderBy")?.value!=null&&this.searchGiocoForm.get("orderBy")?.value!=null&&(this.orderBy=this.searchGiocoForm.get("orderBy")?.value),this.searchGiocoForm.get("sortOrder")?.value!=""&&this.searchGiocoForm.get("sortOrder")?.value!=null&&this.searchGiocoForm.get("sortOrder")?.value!=null&&(this.sortOrder=this.searchGiocoForm.get("sortOrder")?.value),this.isLoading=!0,this.giochiService.searchGiochi(e,this.page,this.size,this.orderBy,this.sortOrder,!0).pipe(vi(1e3)).subscribe({next:o=>{n?this.giochi=o?.content:o?.content?.map(m=>{this.giochi.push(m)}),this.giochi.filter(m=>{m.image=this.readGiocoImage(m?.image)}),this.maxPages=o.totalPages,this.timeout=setTimeout(()=>{this.isLoading=!1,setTimeout(()=>{this.canSwitchLocation.emit(!0)},200)},300)}})}readGiocoImage(n){return n.startsWith("data:image/png;base64,")?n:"data:image/png;base64,"+n}openGameDialog(n){this.matDialog.open(Xe,{data:n,width:"50%",height:"90%"}).afterClosed().subscribe(t=>{t&&this.router.navigate(["/game-field"],{queryParams:{gioco:n.id}})})}initializeGiocoForm(){this.searchGiocoForm=new O({nomeGioco:new w(""),difficolta:new w,punteggioRecensioniDa:new w(""),size:new w(""),orderBy:new w("id"),sortOrder:new w("ASC")})}searchGiochi(n){this.body={nome:this.searchGiocoForm.get("nomeGioco")?.value,difficolta:this.searchGiocoForm.get("difficolta")?.value,punteggio:this.searchGiocoForm.get("punteggioRecensioniDa")?.value};let e=!1;n&&(e=!0,this.page!=0&&(this.page=0)),this.getGiochi(e,this.body)}onScroll(n){n.target.offsetHeight+n.target.scrollTop>=n.target.scrollHeight-5&&!this.isLoading&&(this.page+=1,this.page<this.maxPages&&this.searchGiochi())}rateGame(n){this.matDialog.open(Rt,{data:n,width:"90%",height:"90%"}).afterClosed().subscribe(t=>{this.checkAlertReces()})}goToProfile(n){this.router.navigate(["/lobby/profile"],{queryParams:{user:n.id}})}onResize(){this.windowWidth=window.innerWidth}checkAlertReces(){this.recensioniService.alertReces.subscribe(n=>{n&&(this.page!=0&&(this.page=0),this.getGiochi(!0,this.body))})}isPreferred(n){return this.user?.preferiti?.find(e=>e.gioco.id==n.id)}addToFavourites(n){let e={gioco_id:n.id,user_id:this.user.id};this.giochiService.addToFavourites(e).subscribe({next:t=>{this.user?.preferiti.push(t)}})}removeFromFavourites(n){let e=0;this.user?.preferiti.forEach(t=>{t.gioco.id==n.id&&(e=t.id)}),this.giochiService.removeFromFavourites(e).subscribe({next:t=>{t&&(this.user.preferiti=this.user.preferiti.filter(o=>o?.gioco?.id!=n.id))}})}static \u0275fac=function(e){return new(e||i)(g(Vt),g($),g(Pe),g(De))};static \u0275cmp=I({type:i,selectors:[["app-giochi"]],hostBindings:function(e,t){e&1&&p("resize",function(m){return t.onResize(m)},!1,Ct)},inputs:{user:"user",mode:"mode"},outputs:{canSwitchLocation:"canSwitchLocation"},decls:64,vars:7,consts:[[1,"row"],[1,"col-md-4","text-center","overflow-auto",3,"ngClass"],[1,"text-center",3,"formGroup"],["for","nomeGioco",1,"py-1"],["type","text","name","nomeGioco","formControlName","nomeGioco",1,"form-control"],["for","difficolta",1,"py-1"],["name","difficolta","formControlName","difficolta",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","punteggio",1,"py-1"],["name","punteggio","formControlName","punteggioRecensioniDa",1,"form-select"],[3,"value"],["for","size",1,"py-1"],["name","size","formControlName","size",1,"form-select"],[1,"py-1"],[1,"row","text-start"],[1,"col-md-6","p-1"],["type","radio","name","orderBy","formControlName","orderBy","id","id","value","id","checked","",1,"form-check-input"],["for","id",1,"form-check-label"],["type","radio","name","orderBy","formControlName","orderBy","value","nomeGioco","id","nomeGioco",1,"form-check-input"],["for","nomeGioco",1,"form-check-label"],["type","radio","name","orderBy","formControlName","orderBy","value","difficolta","id","difficolta",1,"form-check-input"],["for","difficolta",1,"form-check-label"],["type","radio","name","orderBy","formControlName","orderBy","value","createdAt","id","dataCreazione",1,"form-check-input"],["for","dataCreazione",1,"form-check-label"],["type","radio","name","orderBy","formControlName","orderBy","value","recensione","id","recensioni",1,"form-check-input"],["for","recensioni",1,"form-check-label"],[1,"col-md-12","p-1"],["for","sortOrder"],["type","radio","name","sortOrder","formControlName","sortOrder","value","ASC","checked","","id","crescente",1,"form-check-input"],["for","crescente",1,"form-check-label"],["type","radio","name","sortOrder","formControlName","sortOrder","value","DESC","id","decrescente",1,"form-check-input"],["for","decrescente",1,"form-check-label"],["type","button",1,"btn","btn-success","mt-3",3,"click"],["id","scroller-pagination",1,"col-md-8","border","border-top-0","border-end-0","border-bottom-0","border-dark","p-1","overflow-auto",3,"scroll"],["class","m-auto p-3",3,"ngClass",4,"ngFor","ngForOf"],[1,"w-100","d-flex","justify-content-center","align-items-center"],["class","m-auto",4,"ngIf"],[1,"m-auto","p-3",3,"ngClass"],["class","p-3 game-card bg-white",4,"ngIf"],["class","w-100 p-2 bg-info text-center d-flex justify-content-around align-items-center text-light button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"p-3","game-card","bg-white"],[1,"w-100","text-center","position-relative"],["class","bi bi-heart position-absolute end-0 top-0 m-1 h4",3,"click",4,"ngIf"],["class","bi bi-heart-fill position-absolute end-0 top-0 m-1 h4 text-danger",3,"click",4,"ngIf"],["alt","gioco_image",1,"w-50","m-auto",3,"src"],[1,"text-center","py-2","mb-2"],[1,"border","overflow-auto"],[1,"bg-light","border-bottom","p-1","fs-4"],["class","p-2",4,"ngFor","ngForOf"],["class","p-4",4,"ngIf"],[1,"p-2"],["type","button",1,"btn","btn-success","m-1",3,"click"],[1,"border","my-2"],[1,"bg-light","border-bottom","p-2","fs-4"],[1,"d-flex","justify-content-around"],[3,"class","ngClass",4,"ngFor","ngForOf"],[1,"bi","bi-heart","position-absolute","end-0","top-0","m-1","h4",3,"click"],[1,"bi","bi-heart-fill","position-absolute","end-0","top-0","m-1","h4","text-danger",3,"click"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"d-flex"],["class","bi bi-star-fill text-warning",3,"ngClass",4,"ngFor","ngForOf"],[1,"btn",3,"click"],[1,"bi","bi-star-fill","text-warning",3,"ngClass"],[1,"p-4"],[1,"w-100","p-2","bg-info","text-center","d-flex","justify-content-around","align-items-center","text-light","button",3,"click"],[1,"fs-4","fw-bold","pt-3",3,"ngClass"],["title","Vai al gioco",1,"bi","bi-arrow-up-right","h3","p-3"],[1,"m-auto"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"div",1)(2,"h2"),l(3,"Ricerca fra i giochi"),r(),s(4,"form",2)(5,"label",3),l(6,"Nome completo o in parte"),r(),f(7,"input",4),s(8,"label",5),l(9,"Difficolt\xE0 maggiore di"),r(),s(10,"select",6),f(11,"option",7),u(12,Zn,2,2,"option",8),r(),s(13,"label",9),l(14,"Punteggio recensioni a partire da"),r(),s(15,"select",10),f(16,"option",11),u(17,Kn,2,2,"option",8),r(),s(18,"label",12),l(19,"Numero di giochi da caricare"),r(),s(20,"select",13),f(21,"option",7),u(22,eo,2,2,"option",8),r(),s(23,"label",14),l(24,"Ordina per "),r(),s(25,"div",15)(26,"div",16),f(27,"input",17),s(28,"label",18),l(29," Id "),r()(),s(30,"div",16),f(31,"input",19),s(32,"label",20),l(33," Nome gioco "),r()(),s(34,"div",16),f(35,"input",21),s(36,"label",22),l(37," Difficolt\xE0 "),r()(),s(38,"div",16),f(39,"input",23),s(40,"label",24),l(41," Data creazione "),r()(),s(42,"div",16),f(43,"input",25),s(44,"label",26),l(45," Recensioni "),r()()(),s(46,"div",0)(47,"div",27)(48,"label",28),l(49,"Direzione "),r()(),s(50,"div",16),f(51,"input",29),s(52,"label",30),l(53," Crescente "),r()(),s(54,"div",16),f(55,"input",31),s(56,"label",32),l(57," Decrescente "),r()()(),s(58,"button",33),p("click",function(){return t.searchGiochi("fromForm")}),l(59,"Ricerca"),r()()(),s(60,"div",34),p("scroll",function(m){return t.onScroll(m)}),u(61,po,4,4,"div",35),s(62,"div",36),u(63,uo,1,0,"app-spinner",37),r()()()),e&2&&(a(),c("ngClass",t.windowWidth<768?"d-none":"d-block"),a(3),c("formGroup",t.searchGiocoForm),a(8),c("ngForOf",t.difficulties),a(5),c("ngForOf",t.points),a(5),c("ngForOf",t.sizes),a(39),c("ngForOf",t.giochi),a(2),c("ngIf",t.isLoading))},dependencies:[z,A,V,J,me,de,ce,ye,Wi,Q,X,Z,K,Oe,Lt],styles:[".h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{font-family:Just Me Again Down Here,cursive;font-weight:400;font-style:normal}h1[_ngcontent-%COMP%]{font-size:80px}.btn[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;border:none!important}.button[_ngcontent-%COMP%]{cursor:pointer;border:2px solid gray;border-top:none}.game-card[_ngcontent-%COMP%]{border:2px solid gray;border-bottom:none}.row[_ngcontent-%COMP%]   .col-md-4[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   .col-md-8[_ngcontent-%COMP%]{max-height:700px}.row[_ngcontent-%COMP%]   .col-lg-6[_ngcontent-%COMP%]{height:100%}label[_ngcontent-%COMP%]{font-size:large;padding:1%}.bi-heart[_ngcontent-%COMP%], .bi-heart-fill[_ngcontent-%COMP%]{cursor:pointer}"]})};var Ke=class i{constructor(n){this.http=n}classifiche="/classifiche";user="/user";gioco="/gioco";getAll(n,e,t,o){return this.http.get(T.API_URL+this.classifiche+`?page=${n}&size=${e}&orderBy=${t}&sortOrder=${o}`)}getByUserId(n){return this.http.get(T.API_URL+this.classifiche+`/${this.user}/${n}`)}getByGiocoId(n){return this.http.get(T.API_URL+this.classifiche+this.gioco+`?giocoId=${n}`)}getById(n){return this.http.get(T.API_URL+this.classifiche+`/${n}`)}static \u0275fac=function(e){return new(e||i)(k(W))};static \u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})};function go(i,n){if(i&1&&(s(0,"div",7)(1,"span",8),l(2),r(),s(3,"span",9),l(4," - "),r(),s(5,"span",10),l(6),r(),s(7,"p",9),l(8,"Punti totali* : "),s(9,"span",11),l(10),r()()()),i&2){let e=n.$implicit,t=n.index;a(2),x(t+1),a(4),x(e.user.fullName),a(4),b(" ",e==null?null:e.totalPoints," ")}}var jt=class i{constructor(n,e,t){this.data=n;this.classificheService=e;this.matDialogRef=t}classifica=null;gioco=null;users=[];ngOnInit(){this.classifica=this.data,this.gioco=this.classifica?.gioco,this.classificheService.getByGiocoId(this.classifica?.gioco?.id).subscribe({next:n=>{this.users=Object.values(n?.users)}})}close(){this.matDialogRef.close()}static \u0275fac=function(e){return new(e||i)(g(te),g(Ke),g(G))};static \u0275cmp=I({type:i,selectors:[["app-show-classifica"]],standalone:!0,features:[D],decls:10,vars:2,consts:[[1,"p-2","bg-light-personal","border-bottom"],[1,"text-end"],[1,"btn","text-danger","fw-bolder",3,"click"],[1,"bi","bi-x-lg","h4"],[1,"px-5"],[1,"p-5"],["class","p-2",4,"ngFor","ngForOf"],[1,"p-2"],[1,"fs-2","fw-bold"],[1,"fs-4"],[1,"fw-bold","fs-2"],[1,"fw-bold","fs-3","text-success"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"p",1)(2,"button",2),p("click",function(){return t.close()}),f(3,"i",3),r()(),s(4,"h2",4),l(5),r()(),s(6,"mat-dialog-content",5),u(7,go,11,3,"div",6),r(),s(8,"mat-dialog-actions",5),l(9,` * I punti totali sono calcolati in base alla somma delle partite con il punteggio ottenuto, laddove \xE8 previsto punteggio.
`),r()),e&2&&(a(5),b("Dettagli della classifica di ",t.gioco.nomeGioco,""),a(2),c("ngForOf",t.users))},dependencies:[pe,Ie,A],styles:[".h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{font-family:Just Me Again Down Here,cursive;font-weight:400;font-style:normal}h1[_ngcontent-%COMP%]{font-size:80px}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:120px}.bg-personal[_ngcontent-%COMP%]{background-color:gray}.bg-light-personal[_ngcontent-%COMP%]{background-color:#f8d3a5}"]})};function ho(i,n){i&1&&(s(0,"div",3),f(1,"app-spinner"),r())}function _o(i,n){i&1&&(s(0,"div",4)(1,"h2"),l(2,"Sembra che non ci siano classifiche per nessun gioco al momento. Inizia una partita e occupa subito il primo posto!"),r()())}function vo(i,n){if(i&1){let e=v();s(0,"div",15)(1,"div",16)(2,"div",17),f(3,"img",18),r(),s(4,"div",19)(5,"h2"),l(6),r(),s(7,"p"),l(8,"Attiva dal "),s(9,"span",20),l(10),Ti(11,"date"),r()(),s(12,"p",21),l(13,"Totale partecipanti in classifica : "),s(14,"span",20),l(15),r()()(),s(16,"div",22)(17,"p",23)(18,"button",24),p("click",function(){let o=h(e).$implicit,m=d(2);return _(m.openDialog(o))}),f(19,"i",25),r()()()()()}if(i&2){let e=n.$implicit;a(3),E("src","data:image/png;base64,"+(e==null||e.gioco==null?null:e.gioco.image),L),a(3),b("Classifica di ",e==null||e.gioco==null?null:e.gioco.nomeGioco,""),a(4),b(" ",Pi(11,4,e==null?null:e.createdAt,"dd/MM/yyyy")," "),a(5),x(e==null?null:e.totalUsers)}}function Co(i,n){if(i&1){let e=v();s(0,"button",8),p("click",function(){h(e);let o=d(2);return o.classifichePage=o.classifichePage-1,_(o.getClassifiche())}),f(1,"i",26),r()}}function bo(i,n){if(i&1){let e=v();s(0,"button",27),p("click",function(){h(e);let o=d(2);return o.classifichePage=o.classifichePage+1,_(o.getClassifiche())}),f(1,"i",28),r()}}function xo(i,n){if(i&1){let e=v();s(0,"div",4)(1,"div",0)(2,"div",5)(3,"p",6),l(4,"Ordina"),r()(),s(5,"div",7)(6,"button",8),p("click",function(){h(e);let o=d();return o.classificheSortOrder="DESC",_(o.getClassifiche())}),f(7,"i",9),r(),s(8,"button",8),p("click",function(){h(e);let o=d();return o.classificheSortOrder="ASC",_(o.getClassifiche())}),f(9,"i",10),r()(),u(10,vo,20,7,"div",11),s(11,"div",12),u(12,Co,2,0,"button",13)(13,bo,2,0,"button",14),r()()()}if(i&2){let e=d();a(10),c("ngForOf",e.classifiche==null?null:e.classifiche.content),a(2),c("ngIf",!(e.classifiche!=null&&e.classifiche.first)),a(),c("ngIf",!(e.classifiche!=null&&e.classifiche.last))}}var Ut=class i{constructor(n,e){this.classificheService=n;this.matDialog=e}classificaId=0;mode="light";classifica;isLoading=!1;classifiche=null;classifichePage=0;classificheSize=5;classificheOrderBy="id";classificheSortOrder="DESC";ngOnInit(){this.classificaId!=0&&this.classificheService.getById(this.classificaId).subscribe({next:n=>{n&&(this.classifica=n),this.classifica=n,this.openDialog(this.classifica)}}),this.getClassifiche()}getClassifiche(){this.classificheService.getAll(this.classifichePage,this.classificheSize,this.classificheOrderBy,this.classificheSortOrder).subscribe({next:n=>{this.classifiche=n}})}openDialog(n){this.classifica=n,this.matDialog.open(jt,{data:this.classifica}).afterClosed().subscribe(t=>{})}static \u0275fac=function(e){return new(e||i)(g(Ke),g($))};static \u0275cmp=I({type:i,selectors:[["app-classifiche"]],inputs:{classificaId:"classificaId",mode:"mode"},decls:4,vars:3,consts:[[1,"row"],["class","col-md-12 d-flex py-5 justify-content-center align-items-center",4,"ngIf"],["class","col-md-12",4,"ngIf"],[1,"col-md-12","d-flex","py-5","justify-content-center","align-items-center"],[1,"col-md-12"],[1,"col-md-12","pt-2","d-flex","justify-content-center"],[1,"fs-4"],[1,"col-md-12","p-2","d-flex","justify-content-center"],[1,"btn",3,"click"],[1,"bi","bi-arrow-down"],[1,"bi","bi-arrow-up"],["class","col-md-12 p-3",4,"ngFor","ngForOf"],[1,"col-md-12","p-3","d-flex","justify-content-center","align-items-center"],["class","btn",3,"click",4,"ngIf"],["class","btn fs-5",3,"click",4,"ngIf"],[1,"col-md-12","p-3"],[1,"row","border","shadow","p-2"],[1,"col-md-3"],["alt","immagine_gioco_classifica",1,"w-100",3,"src"],[1,"col-md-8","text-center"],[1,"fw-bold"],[1,"pt-4"],[1,"col-md-1"],[1,"text-end"],["title","Vai alla classifica",1,"btn",3,"click"],[1,"bi","bi-box-arrow-up-right","h4"],[1,"bi","bi-arrow-left-circle-fill","h4"],[1,"btn","fs-5",3,"click"],[1,"bi","bi-arrow-right-circle-fill","h4"]],template:function(e,t){e&1&&(s(0,"div",0),u(1,ho,2,0,"div",1)(2,_o,3,0,"div",2)(3,xo,14,3,"div",2),r()),e&2&&(a(),c("ngIf",t.isLoading),a(),c("ngIf",!t.classifiche||!(t.classifiche!=null&&t.classifiche.content)||(t.classifiche==null||t.classifiche.content==null?null:t.classifiche.content.length)==0),a(),c("ngIf",(t.classifiche==null||t.classifiche.content==null?null:t.classifiche.content.length)>0))},dependencies:[A,V,Oe,xt],styles:[".h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{font-family:Just Me Again Down Here,cursive;font-weight:400;font-style:normal}h1[_ngcontent-%COMP%]{font-size:80px}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:120px}.bg-personal[_ngcontent-%COMP%]{background-color:gray}"]})};var Gt=class i{mode="light";static \u0275fac=function(e){return new(e||i)};static \u0275cmp=I({type:i,selectors:[["app-statistiche"]],inputs:{mode:"mode"},decls:2,vars:0,template:function(e,t){e&1&&(s(0,"p"),l(1,"statistiche works!"),r())}})};var $t=class i{mode="light";static \u0275fac=function(e){return new(e||i)};static \u0275cmp=I({type:i,selectors:[["app-assistenza"]],inputs:{mode:"mode"},decls:2,vars:0,template:function(e,t){e&1&&(s(0,"p"),l(1,"assistenza works!"),r())}})};var Bt=class i{mode="light";static \u0275fac=function(e){return new(e||i)};static \u0275cmp=I({type:i,selectors:[["app-about-us"]],inputs:{mode:"mode"},decls:2,vars:0,template:function(e,t){e&1&&(s(0,"p"),l(1,"about-us works!"),r())}})};function Eo(i,n){if(i&1){let e=v();s(0,"div",17)(1,"div",18)(2,"div",19)(3,"h2"),l(4,"Il tuo profilo"),r()(),s(5,"div",19),f(6,"img",20),r(),s(7,"div",21)(8,"p",22),l(9,"Nome"),r(),l(10),r(),s(11,"div",21)(12,"p",22),l(13,"Cognome"),r(),l(14),r(),s(15,"div",23)(16,"p",22),l(17,"Email"),r(),l(18),r(),s(19,"div",23)(20,"p",22),l(21,"Citt\xE0"),r(),l(22),r(),s(23,"div",23)(24,"p",22),l(25,"Profilo creato in data"),r(),l(26),r(),s(27,"div",24)(28,"button",25),p("click",function(){h(e);let o=d();return _(o.navigateToProfile())}),f(29,"i",26),r()()()()}if(i&2){let e=d();a(6),E("src",e.user==null?null:e.user.immagineProfilo,L),a(4),b(" ",e.user==null?null:e.user.nome," "),a(4),b(" ",e.user==null?null:e.user.cognome," "),a(4),b(" ",e.user==null?null:e.user.email," "),a(4),b(" ",e.user==null||e.user.citta==null?null:e.user.citta.nome," "),a(4),b(" ",e.user==null?null:e.user.createdAt," ")}}function To(i,n){if(i&1){let e=v();s(0,"app-giochi",31),p("canSwitchLocation",function(o){h(e);let m=d(2);return _(m.onReceiveSwitchLocation(o))}),r()}if(i&2){let e=d(2);c("user",e.user)("mode",e.mode)}}function Po(i,n){if(i&1&&f(0,"app-classifiche",32),i&2){let e=d(2);c("mode",e.mode)("classificaId",e.classificaId)}}function Oo(i,n){if(i&1&&f(0,"app-statistiche",33),i&2){let e=d(2);c("mode",e.mode)}}function Do(i,n){if(i&1&&f(0,"app-about-us",33),i&2){let e=d(2);c("mode",e.mode)}}function Mo(i,n){if(i&1&&f(0,"app-assistenza",33),i&2){let e=d(2);c("mode",e.mode)}}function ko(i,n){if(i&1&&(s(0,"div",27),u(1,To,1,2,"app-giochi",28)(2,Po,1,2,"app-classifiche",29)(3,Oo,1,1,"app-statistiche",30)(4,Do,1,1,"app-about-us",30)(5,Mo,1,1,"app-assistenza",30),r()),i&2){let e=d();c("ngClass",e.mode=="light"?"bg-light":"bg-secondary text-light"),a(),c("ngIf",e.location=="giochi"),a(),c("ngIf",e.location=="classifiche"),a(),c("ngIf",e.location=="statistiche"),a(),c("ngIf",e.location=="about-us"),a(),c("ngIf",e.location=="assistenza")}}function Ao(i,n){i&1&&(s(0,"div",34),f(1,"app-spinner"),r())}var Ht=class i{constructor(n,e,t,o){this.authService=n;this.modeService=e;this.router=t;this.activatedRoute=o;this.user=this.authService.getUser(),this.modeService.mode.subscribe(m=>{this.mode=m}),this.activatedRoute.snapshot.queryParamMap.get("section")!=null&&(this.location=this.activatedRoute.snapshot.queryParamMap.get("section")),this.activatedRoute.snapshot.queryParamMap.get("classificaId")!=null&&(this.classificaId=Number(this.activatedRoute.snapshot.queryParamMap.get("classificaId")))}user;toggle=!1;mode="light";location="";showMenu=!1;classificaId=0;isLoading=!1;canSwitchLocation=!0;ngOnInit(){localStorage.setItem("location","lobby"),this.isLoading=!0,setTimeout(()=>{this.location="giochi",this.isLoading=!1},1e3)}navigateToProfile(){let n={state:{data:this.user}};this.router.navigate(["/lobby/profile"],n)}changeLocation(n){n!=this.location&&!this.isLoading&&this.canSwitchLocation&&(this.isLoading=!0,setTimeout(()=>{this.isLoading=!1,this.location=n},1e3))}ngOnChanges(n){this.isLoading=!1}onReceiveSwitchLocation(n){this.canSwitchLocation=n}static \u0275fac=function(e){return new(e||i)(g(q),g(le),g(Pe),g($e))};static \u0275cmp=I({type:i,selectors:[["app-lobby"]],features:[Ve],decls:37,vars:11,consts:[[1,"py-5","w-100",3,"ngClass"],[1,"container","p-5","text-center"],[1,"row"],[1,"col-md-12"],[1,"mt-5"],[1,"text-danger"],[1,"col-md-12","text-start","position-relative","px-3"],[1,"btn",3,"click"],["title","Espandi il profilo",1,"bi","bi-list","h2"],["class","profile-card-container position-absolute top-25",4,"ngIf"],[1,"col-md-12","pt-5","mt-5","px-3","text-start"],[1,"col-md-12","scrollable-container","d-flex",3,"ngClass"],[1,"p-2","lobby-nav-button","text-center",3,"ngClass"],["src","assets/lobby/green-dots.png","alt","green_dot",1,"green-dots"],[1,"col-md-12","p-2"],["class","w-100 border shadow-sm p-3 overflow-auto",3,"ngClass",4,"ngIf"],["class","w-100 border shadow-sm p-3 bg-light overflow-auto",4,"ngIf"],[1,"profile-card-container","position-absolute","top-25"],[1,"row","text-start","p-3","bg-light","shadow","overflow-auto","profile-card"],[1,"col-md-12","text-center"],["alt","immagine_profilo",1,"profile-image","m-auto","rounded-circle","shadow-sm",3,"src"],[1,"col-lg-6","fs-2","p-2"],[1,"fs-4","text-danger"],[1,"col-lg-12","fs-2","p-2"],[1,"col-md-12","text-end"],["title","Vai al gioco",1,"btn","brn-light","text-success",3,"click"],[1,"bi","bi-arrow-up-right","h3","p-3","text-success"],[1,"w-100","border","shadow-sm","p-3","overflow-auto",3,"ngClass"],[3,"user","mode","canSwitchLocation",4,"ngIf"],[3,"mode","classificaId",4,"ngIf"],[3,"mode",4,"ngIf"],[3,"canSwitchLocation","user","mode"],[3,"mode","classificaId"],[3,"mode"],[1,"w-100","border","shadow-sm","p-3","bg-light","overflow-auto"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4)(5,"span",5),l(6,"W"),r(),l(7),r()(),s(8,"div",6)(9,"button",7),p("click",function(){return t.showMenu=!t.showMenu}),f(10,"i",8),r(),u(11,Eo,30,6,"div",9),r(),s(12,"div",10)(13,"div",2)(14,"div",11)(15,"div",12)(16,"button",7),p("click",function(){return t.changeLocation("giochi")}),l(17," Giochi disponibili "),r()(),f(18,"img",13),s(19,"div",12)(20,"button",7),p("click",function(){return t.changeLocation("classifiche")}),l(21," Classifiche "),r()(),f(22,"img",13),s(23,"div",12)(24,"button",7),p("click",function(){return t.changeLocation("statistiche")}),l(25," Statistiche "),r()(),f(26,"img",13),s(27,"div",12)(28,"button",7),p("click",function(){return t.changeLocation("about-us")}),l(29," About us "),r()(),f(30,"img",13),s(31,"div",12)(32,"button",7),p("click",function(){return t.changeLocation("assistenza")}),l(33," Assistenza "),r()()(),s(34,"div",14),u(35,ko,6,6,"div",15)(36,Ao,2,0,"div",16),r()()()()()()),e&2&&(c("ngClass",t.mode=="light"?"bg-white":"bg-personal"),a(7),b("elcome ",t.user==null?null:t.user.nome,""),a(4),c("ngIf",t.showMenu),a(3),c("ngClass",t.mode=="light"?"bg-light":"bg-secondary"),a(),c("ngClass",t.location=="giochi"?"bg-warning":""),a(4),c("ngClass",t.location=="classifiche"?"bg-warning":""),a(4),c("ngClass",t.location=="statistiche"?"bg-warning":""),a(4),c("ngClass",t.location=="about-us"?"bg-warning":""),a(4),c("ngClass",t.location=="assistenza"?"bg-warning":""),a(4),c("ngIf",!t.isLoading),a(),c("ngIf",t.isLoading))},dependencies:[z,V,Oe,Nt,Ut,Gt,$t,Bt],styles:[".h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{font-family:Just Me Again Down Here,cursive;font-weight:400;font-style:normal}h1[_ngcontent-%COMP%]{font-size:80px}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:120px}.bg-personal[_ngcontent-%COMP%]{background-color:gray}.profile-card[_ngcontent-%COMP%]{transition:1s;border-top:5px solid rgb(73,255,143);border-right:5px solid rgb(141,255,160);border-bottom:5px solid rgb(213,255,217);border-left:5px solid rgb(64,255,0)}.profile-card-container[_ngcontent-%COMP%]{transition:1s;width:300px;left:5%}.lobby-nav-button[_ngcontent-%COMP%]{min-width:150px;transition:1s}.lobby-nav-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:20px}.lobby-nav-button[_ngcontent-%COMP%]:hover{border-right:1px solid rgb(64,255,0);border-left:1px solid rgb(64,255,0);background-color:#8dffa0;transition:1s}.green-dots[_ngcontent-%COMP%]{width:20px;height:10px;margin-top:25px;margin-left:2%;margin-right:2%}.scrollable-container[_ngcontent-%COMP%]{overflow-x:auto}.profile-image[_ngcontent-%COMP%]{height:150px;width:150px}"]})};var Fo=["tooltip"],dn=20;var pn=new fe("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let i=_e(ee);return()=>i.scrollStrategies.reposition({scrollThrottle:dn})}});function Ro(i){return()=>i.scrollStrategies.reposition({scrollThrottle:dn})}var zo={provide:pn,deps:[ee],useFactory:Ro};function Vo(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var Lo=new fe("mat-tooltip-default-options",{providedIn:"root",factory:Vo});var cn="tooltip-panel",mn=ki({passive:!0}),No=8,jo=8,Uo=24,Go=200,et=(()=>{class i{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=ri(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let t=ri(e);this._disabled!==t&&(this._disabled=t,t?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=He(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=He(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){let t=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(t)}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,t,o,m,C,y,P,he,F,Me,ie,gn){this._overlay=e,this._elementRef=t,this._scrollDispatcher=o,this._viewContainerRef=m,this._ngZone=C,this._platform=y,this._ariaDescriber=P,this._focusMonitor=he,this._dir=Me,this._defaultOptions=ie,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=$o,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new ne,this._injector=_e(ve),this._scrollStrategy=F,this._document=gn,ie&&(this._showDelay=ie.showDelay,this._hideDelay=ie.hideDelay,ie.position&&(this.position=ie.position),ie.positionAtOrigin&&(this.positionAtOrigin=ie.positionAtOrigin),ie.touchGestures&&(this.touchGestures=ie.touchGestures),ie.tooltipClass&&(this.tooltipClass=ie.tooltipClass)),Me.change.pipe(we(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=No}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(we(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([t,o])=>{e.removeEventListener(t,o,mn)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,t){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let o=this._createOverlay(t);this._detach(),this._portal=this._portal||new lt(this._tooltipComponent,this._viewContainerRef);let m=this._tooltipInstance=o.attach(this._portal).instance;m._triggerElement=this._elementRef.nativeElement,m._mouseLeaveHideDelay=this._hideDelay,m.afterHidden().pipe(we(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),m.show(e)}hide(e=this.hideDelay){let t=this._tooltipInstance;t&&(t.isVisible()?t.hide(e):(t._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let m=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&m._origin instanceof se)return this._overlayRef;this._detach()}let t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),o=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return o.positionChanges.pipe(we(this._destroyed)).subscribe(m=>{this._updateCurrentPositionClass(m.connectionPair),this._tooltipInstance&&m.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${cn}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(we(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(we(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(we(this._destroyed)).subscribe(m=>{this._isTooltipVisible()&&m.keyCode===27&&!Be(m)&&(m.preventDefault(),m.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let t=e.getConfig().positionStrategy,o=this._getOrigin(),m=this._getOverlayPosition();t.withPositions([this._addOffset(Y(Y({},o.main),m.main)),this._addOffset(Y(Y({},o.fallback),m.fallback))])}_addOffset(e){let t=jo,o=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-t:e.originY==="bottom"?e.offsetY=t:e.originX==="start"?e.offsetX=o?-t:t:e.originX==="end"&&(e.offsetX=o?t:-t),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",t=this.position,o;t=="above"||t=="below"?o={originX:"center",originY:t=="above"?"top":"bottom"}:t=="before"||t=="left"&&e||t=="right"&&!e?o={originX:"start",originY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(o={originX:"end",originY:"center"});let{x:m,y:C}=this._invertPosition(o.originX,o.originY);return{main:o,fallback:{originX:m,originY:C}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",t=this.position,o;t=="above"?o={overlayX:"center",overlayY:"bottom"}:t=="below"?o={overlayX:"center",overlayY:"top"}:t=="before"||t=="left"&&e||t=="right"&&!e?o={overlayX:"end",overlayY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(o={overlayX:"start",overlayY:"center"});let{x:m,y:C}=this._invertPosition(o.overlayX,o.overlayY);return{main:o,fallback:{overlayX:m,overlayY:C}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),bt(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,t){return this.position==="above"||this.position==="below"?t==="top"?t="bottom":t==="bottom"&&(t="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:t}}_updateCurrentPositionClass(e){let{overlayY:t,originX:o,originY:m}=e,C;if(t==="center"?this._dir&&this._dir.value==="rtl"?C=o==="end"?"left":"right":C=o==="start"?"left":"right":C=t==="bottom"&&m==="top"?"above":"below",C!==this._currentPosition){let y=this._overlayRef;if(y){let P=`${this._cssClassPrefix}-${cn}-`;y.removePanelClass(P+this._currentPosition),y.addPanelClass(P+C)}this._currentPosition=C}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let t;e.x!==void 0&&e.y!==void 0&&(t=e),this.show(void 0,t)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let t=e.targetTouches?.[0],o=t?{x:t.clientX,y:t.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let m=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,o)},this._defaultOptions.touchLongPressShowDelay??m)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",t=>{let o=t.relatedTarget;(!o||!this._overlayRef?.overlayElement.contains(o))&&this.hide()}],["wheel",t=>this._wheelListener(t)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let t=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",t],["touchcancel",t])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([t,o])=>{this._elementRef.nativeElement.addEventListener(t,o,mn)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let t=this._document.elementFromPoint(e.clientX,e.clientY),o=this._elementRef.nativeElement;t!==o&&!o.contains(t)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let t=this._elementRef.nativeElement,o=t.style;(e==="on"||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA")&&(o.userSelect=o.msUserSelect=o.webkitUserSelect=o.MozUserSelect="none"),(e==="on"||!t.draggable)&&(o.webkitUserDrag="none"),o.touchAction="none",o.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}static{this.\u0275fac=function(t){return new(t||i)(g(ee),g(se),g(zi),g(bi),g(Le),g(St),g(Ai),g(qe),g(pn),g(at),g(Lo,8),g(Ge))}}static{this.\u0275dir=Ee({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(t,o){t&2&&ke("mat-mdc-tooltip-disabled",o.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}}return i})(),$o=(()=>{class i{constructor(e,t,o){this._changeDetectorRef=e,this._elementRef=t,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new ne,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled=o==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>Uo&&e.width>=Go}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let t=this._tooltip.nativeElement,o=this._showAnimation,m=this._hideAnimation;if(t.classList.remove(e?m:o),t.classList.add(e?o:m),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let C=getComputedStyle(t);(C.getPropertyValue("animation-duration")==="0s"||C.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(t.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static{this.\u0275fac=function(t){return new(t||i)(g(ae),g(se),g(ot,8))}}static{this.\u0275cmp=I({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(t,o){if(t&1&&Ce(Fo,7),t&2){let m;be(m=xe())&&(o._tooltip=m.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(t,o){t&1&&p("mouseleave",function(C){return o._handleMouseLeave(C)})},standalone:!0,features:[D],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(t,o){if(t&1){let m=v();s(0,"div",1,0),p("animationend",function(y){return h(m),_(o._handleAnimationEnd(y))}),s(2,"div",2),l(3),r()()}t&2&&(ke("mdc-tooltip--multiline",o._isMultiline),c("ngClass",o.tooltipClass),a(3),x(o.message))},dependencies:[z],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}}return i})();var tt=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=re({type:i})}static{this.\u0275inj=oe({providers:[zo],imports:[Pt,yt,We,Se,Se,Li]})}}return i})();var ue=class i{constructor(n){this.http=n}recensione="/recensione";gioco="/gioco";user="/user";userId="/userId";receId="/receId";richiesta="/richiesta";byParams="/byParams";auth="/auth";requestCode="/requestCode";verifyPasswordCode="/verifyPasswordCode";resetPasswordByCode="/resetPasswordByCode";clear="/clear";profileImage="/profileImage";getRecensioniByUserId(n,e,t,o,m){return this.http.get(T.API_URL+this.recensione+`?id=${n}&page=${e}&size=${t}&orderBy=${o}&sortOrder=${m}`)}getGiochiByUserId(n,e,t,o,m){return this.http.get(T.API_URL+this.gioco+this.userId+`?id=${n}&page=${e}&size=${t}&orderBy=${o}&sortOrder=${m}`)}getGiocoByReceId(n){return this.http.get(T.API_URL+this.gioco+this.receId+`?id=${n}`)}getTrofeiByUserId(n,e,t,o,m){return this.http.get(T.API_URL+this.recensione+`?id=${n}&page=${e}&size=${t}&orderBy=${o}&sortOrder=${m}`)}getPunteggiByUserId(n,e,t,o,m){return this.http.get(T.API_URL+this.recensione+`?id=${n}&page=${e}&size=${t}&orderBy=${o}&sortOrder=${m}`)}postRichiestaAssistenza(n){return this.http.post(T.API_URL+this.richiesta,n)}putRichiesta(n,e){return this.http.put(T.API_URL+this.richiesta+`/${e}`,n)}deletRichiesta(n){return this.http.delete(T.API_URL+this.richiesta+`/${n}`)}getRichiesteByUserId(n){return this.http.get(T.API_URL+this.richiesta+this.userId+`/${n}`)}getRichiesteByFilters(n,e,t,o,m,C,y,P,he){let F=new It;return F=F.set("userId",n),F=F.set("page",C),F=F.set("size",y),F=F.set("sort",P+","+he),e&&(F=F.set("oggetto",e)),t&&(F=F.set("descrizione",t)),o&&(F=F.set("from",o)),m&&(F=F.set("to",m)),this.http.get(T.API_URL+this.richiesta+this.byParams,{params:F})}putUser(n,e){return this.http.put(T.API_URL+this.user+`/${e}`,n)}askCode(n,e){return this.http.get(T.API_URL+this.auth+this.requestCode+`/${n}/${e}`)}verifyCode(n,e,t){return this.http.get(T.API_URL+this.auth+this.verifyPasswordCode+`/${n}/${e}/${t}`)}changePassword(n,e,t){return this.http.get(T.API_URL+this.auth+this.resetPasswordByCode+`/${n}/${e}/${t}`)}clearUserCode(n){return this.http.get(T.API_URL+this.auth+this.clear+`/${n}`)}putImage(n){let e=new FormData;return e.append("profile_image",n),this.http.put(T.API_URL+this.user+this.profileImage,e)}updateDescrizione(n){return this.http.put(T.API_URL+this.user+"/descrizione",n)}static \u0275fac=function(e){return new(e||i)(k(W))};static \u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})};function Bo(i,n){if(i&1){let e=v();s(0,"div",11)(1,"p",12),l(2,"Vuoi davvero eliminare questa richiesta?"),r(),s(3,"button",13),p("click",function(){h(e);let o=d();return o.showConfirmDelete=!1,o.confirmDelete=!0,_(o.delete())}),l(4,"Elimina"),r(),s(5,"button",14),p("click",function(){h(e);let o=d();return o.showConfirmDelete=!1,_(o.confirmDelete=!1)}),l(6,"Annulla"),r()()}}var qt=class i{constructor(n,e,t,o,m){this.data=n;this.profiloService=e;this.toastr=t;this.dialog=o;this.dialogRef=m;this.richiesta=n[0],this.user=n[1]}user=null;richiesta=null;assistenzaForm=new O({});showConfirmDelete=!1;confirmDelete=!1;ngOnInit(){this.assistenzaForm=new O({oggetto:new w(this.richiesta?.oggetto,R.required),descrizione:new w(this.richiesta?.descrizione,R.required)})}delete(){this.showConfirmDelete=!0,this.confirmDelete==!0&&this.profiloService.deletRichiesta(this.richiesta?.id).subscribe({next:n=>{n&&(this.toastr.show("Richiesta eliminata correttamente"),this.showConfirmDelete=!1,this.confirmDelete=!1,setTimeout(()=>{this.dialogRef.close(!0)},1500))}})}put(){if(this.assistenzaForm.valid){let n={userId:this.user.id,oggetto:this.assistenzaForm.get("oggetto")?.value,descrizione:this.assistenzaForm.get("descrizione")?.value};this.profiloService.putRichiesta(n,this.richiesta?.id).subscribe({next:e=>{this.toastr.success("Richiesta modificata correttamente"),setTimeout(()=>{this.dialogRef.close(!0)},1500)}})}else this.toastr.error("Completa correttamente il form prima.")}static \u0275fac=function(e){return new(e||i)(g(te),g(ue),g(H),g($),g(G))};static \u0275cmp=I({type:i,selectors:[["app-richiesta"]],standalone:!0,features:[D],decls:20,vars:2,consts:[["mat-dialog-title",""],[1,"m-2","border","p-2","shadow-sm","row","text-center",3,"formGroup"],[1,"col-md-12","p-2"],["for","oggetto",1,"p-2"],["type","text","formControlName","oggetto","id","oggetto",1,"form-control"],["for","descrizione",1,"p-2"],["type","text","formControlName","descrizione","rows","5","id","descrizione",1,"form-control"],[1,"d-flex","justify-content-around","py-3","w-50","m-auto"],["matTooltip","Modifica","matTooltipPosition","above",1,"btn","btn-outline-success","m-2",3,"click"],["matTooltip","Elimina","matTooltipPosition","above",1,"btn","btn-outline-danger","m-2",3,"click"],["class","w-100 text-center",4,"ngIf"],[1,"w-100","text-center"],[1,"fs-4","text-danger","fw-bold"],[1,"btn","btn-success","m-2",3,"click"],[1,"btn","btn-danger","m-2",3,"click"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"h2"),l(2,"Modifica la richiesta"),r()(),s(3,"mat-dialog-content")(4,"form",1)(5,"div",2)(6,"label",3),l(7," Oggetto "),r(),f(8,"input",4),r(),s(9,"div",2)(10,"label",5),l(11," Descrizione "),r(),f(12,"textarea",6),r()()(),s(13,"mat-dialog-actions")(14,"div",7)(15,"button",8),p("click",function(){return t.put()}),l(16,"Modifica"),r(),s(17,"button",9),p("click",function(){return t.delete()}),l(18,"Elimina"),r()(),u(19,Bo,7,0,"div",10),r()),e&2&&(a(4),c("formGroup",t.assistenzaForm),a(15),c("ngIf",t.showConfirmDelete))},dependencies:[Ft,pe,Ie,Dt,V,N,J,ce,Q,X,Z,K,tt,et],styles:[".h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{font-family:Just Me Again Down Here,cursive;font-weight:400;font-style:normal}h1[_ngcontent-%COMP%]{font-size:80px}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:120px}.bg-personal[_ngcontent-%COMP%]{background-color:gray}"]})};var Ho=["descrizione"];function qo(i,n){if(i&1){let e=v();s(0,"div",4)(1,"h2"),l(2,"Assistenza"),r(),s(3,"p",6),l(4),r(),s(5,"p",7),l(6,"Qui potrai richiedere assistenza riguardo a varie informazioni. Qui di seguito, inserisci l'oggetto della tua richiesta e sotto inserisci la descrizione dettagliata. Il nostro team ti risponder\xE0 in 24 ore. "),r(),s(7,"form",8)(8,"div",4)(9,"label",9),l(10," OGGETTO * "),r(),f(11,"input",10),r(),s(12,"div",4)(13,"label",11),l(14," DESCRIZIONE * "),r(),f(15,"textarea",12),r()(),s(16,"div",13)(17,"button",14,0),p("click",function(){h(e);let o=d();return _(o.inviaRichiesta())}),l(19,"Invia richiesta"),r(),s(20,"p",15),l(21,"* Campi obbligatori"),r()(),l(22,"- "),r()}if(i&2){let e=S(18),t=d();a(4),b("Ciao ",t.user.nome," !"),a(3),c("formGroup",t.assistenzaForm),a(10),c("disabled",t.assistenzaForm.invalid)("matTooltip",e.disabled?"Completa il form":"Invia la richiesta")}}function Yo(i,n){if(i&1){let e=v();s(0,"div",20),p("click",function(){h(e),d();let o=S(6);return _(o.click())}),r()}if(i&2){let e=d(2);rt("background-image","url('",e.user.immagineProfilo,"')")}}function Wo(i,n){if(i&1){let e=v();s(0,"div",20),p("click",function(){h(e),d();let o=S(6);return _(o.click())}),r()}if(i&2){let e=d(2);rt("background-image","url('",e.url,"')")}}function Qo(i,n){if(i&1){let e=v();s(0,"div")(1,"button",21),p("click",function(){h(e);let o=d(2);return _(o.putImage())}),f(2,"i",22),r(),s(3,"button",23),p("click",function(){h(e),d();let o=S(6),m=d();return m.url="",m.selectedImage=null,_(o.value="")}),f(4,"i",24),r()()}}function Xo(i,n){if(i&1){let e=v();s(0,"div",4)(1,"h2"),l(2,"Cambia immagine del profilo"),r(),s(3,"label",16),p("click",function(){h(e);let o=S(6);return _(o.click())}),l(4,"Cambia immagine del profilo"),r(),s(5,"input",17,1),p("change",function(o){h(e);let m=d();return _(m.changeImage(o))}),r(),u(7,Yo,1,3,"div",18)(8,Wo,1,3,"div",18)(9,Qo,5,0,"div",19),r()}if(i&2){let e=d();a(7),c("ngIf",e.url==""),a(),c("ngIf",e.url!=""),a(),c("ngIf",e.selectedImage)}}function Jo(i,n){i&1&&(s(0,"p",35),l(1,"Lunghezza minima : 8 caratteri."),r())}function Zo(i,n){i&1&&(s(0,"p",35),l(1,"Lunghezza minima : 8 caratteri."),r())}function Ko(i,n){if(i&1&&(s(0,"p",36),l(1),r()),i&2){let e=d(2);a(),b("Inserisci qui sotto il codice che ti abbiamo mandato per mail. ","- "+e.secondsToInterval,"")}}function er(i,n){if(i&1){let e=v();s(0,"form",37)(1,"label",38),l(2,"Inserisci il codice"),r(),f(3,"input",39),s(4,"button",40),p("click",function(){h(e);let o=d(2);return _(o.putPassword())}),l(5,"Verifica il codice"),r()()}if(i&2){let e=d(2);c("formGroup",e.codeForm)}}function tr(i,n){i&1&&(s(0,"p",41),l(1,"Perfetto! Cambia la password!"),r())}function ir(i,n){if(i&1){let e=v();s(0,"div",4)(1,"h2"),l(2,"Cambia la password"),r(),s(3,"form",25,2)(5,"label",26),l(6,"Nuova password"),r(),f(7,"input",27),u(8,Jo,2,0,"p",28),s(9,"label",29),l(10,"Ripeti nuova password"),r(),f(11,"input",30),u(12,Zo,2,0,"p",28),s(13,"button",31),p("click",function(){h(e);let o=S(4),m=d();return _(m.putPassword(o))}),l(14,"Cambia password"),r()(),u(15,Ko,2,1,"p",32)(16,er,6,1,"form",33)(17,tr,2,0,"p",34),r()}if(i&2){let e,t,o=S(4),m=d();a(3),c("formGroup",m.cambiaPassword),a(5),c("ngIf",((e=m.cambiaPassword.get("nuovaPassword"))==null?null:e.invalid)&&o.submitted),a(4),c("ngIf",((t=m.cambiaPassword.get("ripetiNuovaPassword"))==null?null:t.invalid)&&o.submitted),a(3),c("ngIf",m.isCodeRequeste&&!m.isCodeVerified),a(),c("ngIf",m.isCodeRequeste&&!m.isCodeVerified),a(),c("ngIf",m.isCodeVerified)}}function nr(i,n){if(i&1&&(s(0,"option",51),l(1),r()),i&2){let e=n.$implicit;E("value",e.id),a(),x(e.nome)}}function or(i,n){if(i&1){let e=v();s(0,"div",4)(1,"h2"),l(2,"Cambia altre informazioni"),r(),s(3,"form",42)(4,"label",43),l(5,"Nome"),r(),f(6,"input",44),s(7,"label",45),l(8,"Cognome"),r(),f(9,"input",46),s(10,"label",47),l(11,"Citt\xE0"),r(),s(12,"select",48),u(13,nr,2,2,"option",49),r(),s(14,"button",50),p("click",function(){h(e);let o=d();return _(o.updateProfile())}),l(15,"Modifica profilo "),r()()()}if(i&2){let e,t=d();a(3),c("formGroup",t.altreImpostazioniForm),a(10),c("ngForOf",t.citta),a(),c("disabled",!t.altreImpostazioniForm.touched||t.altreImpostazioniForm.invalid||t.user.nome==((e=t.altreImpostazioniForm.get("nome"))==null?null:e.value)&&t.user.cognome==((e=t.altreImpostazioniForm.get("cognome"))==null?null:e.value)&&t.user.citta.id==((e=t.altreImpostazioniForm.get("citta"))==null?null:e.value))}}function rr(i,n){i&1&&(s(0,"p",71),l(1," Non ci sono richieste da visualizzare al momento. "),r())}function sr(i,n){if(i&1&&(s(0,"option",51),l(1),r()),i&2){let e=n.$implicit;E("value",e),a(),x(e)}}function ar(i,n){if(i&1&&(s(0,"option",51),l(1),r()),i&2){let e=n.$implicit;E("value",e=="data di caricamento"?"createdAt":e),a(),b("",e," ")}}function lr(i,n){if(i&1&&(s(0,"option",51),l(1),r()),i&2){let e=n.$implicit;c("value",e[1]),a(),x(e[0])}}function cr(i,n){if(i&1){let e=v();s(0,"div",75)(1,"div",76)(2,"p",77)(3,"button",78),p("click",function(){let o=h(e).$implicit,m=d(3);return _(m.modifyRichiesta(o))}),f(4,"i",79),r()(),s(5,"h2"),l(6),r(),s(7,"p",80),l(8,"Creata il "),s(9,"span",81),l(10),r()(),s(11,"p",82),l(12),r()()()}if(i&2){let e=n.$implicit,t=d(3);a(6),x(e==null?null:e.oggetto),a(4),x(t.format(e==null?null:e.createdAt)),a(2),b(" ",e==null?null:e.descrizionePreview," ")}}function mr(i,n){if(i&1){let e=v();s(0,"button",83),p("click",function(){h(e);let o=d(3);return o.richiestaPage=o.richiestaPage-1,_(o.getRichiesteByParams())}),f(1,"i",84),r()}}function dr(i,n){if(i&1){let e=v();s(0,"button",83),p("click",function(){h(e);let o=d(3);return o.richiestaPage=o.richiestaPage+1,_(o.getRichiesteByParams())}),f(1,"i",85),r()}}function pr(i,n){if(i&1&&(s(0,"div"),u(1,cr,13,3,"div",72),s(2,"div",73),u(3,mr,2,0,"button",74)(4,dr,2,0,"button",74),r()()),i&2){let e=d(2);a(),c("ngForOf",e.richieste==null?null:e.richieste.content),a(2),c("ngIf",!(e.richieste!=null&&e.richieste.first)),a(),c("ngIf",!(e.richieste!=null&&e.richieste.last))}}function ur(i,n){if(i&1){let e=v();s(0,"div",4)(1,"h2"),l(2,"Monitora le tue richieste"),r(),u(3,rr,2,0,"p",52),s(4,"form",53)(5,"div",54)(6,"label",55),l(7,"Numero di elementi per pagina"),r(),s(8,"select",56),u(9,sr,2,2,"option",49),r()(),s(10,"div",54)(11,"label",57),l(12,"Ordina per"),r(),s(13,"select",58),u(14,ar,2,2,"option",49),r()(),s(15,"div",54)(16,"label",59),l(17,"Ordine "),r(),s(18,"select",60),u(19,lr,2,2,"option",49),r()(),s(20,"div",54)(21,"label",61),l(22,"Oggetto contenente"),r(),f(23,"input",62),r(),s(24,"div",4)(25,"label",63),l(26,"Descrizione contenente"),r(),s(27,"textarea",64),l(28,"                "),r()(),s(29,"div",4)(30,"div",3)(31,"div",54)(32,"label",65),l(33,"Da"),r(),f(34,"input",66),r(),s(35,"div",54)(36,"label",67),l(37,"A"),r(),f(38,"input",68),r()()(),s(39,"div",69)(40,"button",70),p("click",function(){h(e);let o=d();return _(o.getRichiesteByParams())}),l(41,"Cerca"),r()()(),u(42,pr,5,3,"div",19),r()}if(i&2){let e=d();a(3),c("ngIf",e.richieste==null||(e.richieste==null||e.richieste.content==null?null:e.richieste.content.length)==0),a(),c("formGroup",e.richiestaParametersForm),a(5),c("ngForOf",e.richiestaSizes),a(5),c("ngForOf",e.richiestaSorts),a(5),c("ngForOf",e.richiestaOrders),a(23),c("ngIf",(e.richieste==null||e.richieste.content==null?null:e.richieste.content.length)>0)}}var Yt=class i{constructor(n,e,t,o,m,C){this.toastr=n;this.profileService=e;this.datePipe=t;this.matDialog=o;this.formService=m;this.authService=C}section="";user=null;assistenzaForm=new O({});richieste=null;richiestaPage=0;richiestaParametersForm=new O({});richiestaSizes=[5,10,20];richiestaSorts=["id","oggetto","descrizione","data di caricamento"];richiestaOrders=[["Dal primo all'ultimo","ASC"],["Dall'ultimo al primo","DESC"]];altreImpostazioniForm=new O({});citta=[];cambiaPassword=new O({});isCodeRequeste=!1;isCodeVerified=!1;codeForm=new O({});codeInterval;codeTimeout;secondsToInterval=30;immagineForm=new O({});selectedImage=null;url="";descrizione;descrizioneUploaded=!1;descrizioneText="";icons=new Set([{value:"fw-bold",label:"bi-type-bold"},{value:"fst-italic",label:"bi-type-italic"},{value:"underline",label:"bi-type-underline"},{value:"line-through",label:"bi-type-strikethrough"},{value:"text-center",label:"bi-text-center"},{value:"text-start",label:"bi-text-left"},{value:"text-end",label:"bi-text-right"}]);colors=new Set([{value:"text-dark",label:"dark"},{value:"text-white",label:"white"},{value:"text-danger",label:"red"},{value:"text-warning",label:"yellow"},{value:"text-success",label:"green"},{value:"text-primary",label:"blue"},{value:"text-info",label:"light blue"},{value:"text-secondary",label:"gray"}]);sizes=new Set([{value:"fs-5",label:"smaller"},{value:"fs-4",label:"small"},{value:"fs-3",label:"medium"},{value:"fs-2",label:"big"},{value:"fs-1",label:"bigger"}]);ngOnChanges(n){this.section!="Cambia la password"&&(this.codeForm.reset(),this.cambiaPassword.reset())}ngOnDestroy(){this.codeForm.reset(),this.cambiaPassword.reset()}ngOnInit(){this.assistenzaForm=new O({oggetto:new w("",R.required),descrizione:new w("",R.required)}),this.richiestaParametersForm=new O({size:new w(5),sort:new w("id"),order:new w("ASC"),oggetto:new w(""),descrizione:new w(""),from:new w(""),to:new w("")}),this.altreImpostazioniForm=new O({nome:new w(this.user.nome,R.required),cognome:new w(this.user.cognome,R.required),citta:new w(this.user.citta.id,R.required)}),this.cambiaPassword=new O({nuovaPassword:new w("",[R.required,R.minLength(8)]),ripetiNuovaPassword:new w("",[R.required,R.minLength(8)])}),this.codeForm=new O({code:new w("",[R.required,R.minLength(6)])}),this.getRichieste(),this.getCitta()}inviaRichiesta(){if(this.assistenzaForm.valid){let n={userId:this.user.id,oggetto:this.assistenzaForm.get("oggetto")?.value,descrizione:this.assistenzaForm.get("descrizione")?.value};this.profileService.postRichiestaAssistenza(n).subscribe({next:e=>{this.toastr.success("Richiesta inviata."),this.assistenzaForm.reset(),this.getRichieste()}})}else this.toastr.show("Inserisci i campi richiesti.")}getRichieste(){this.profileService.getRichiesteByUserId(this.user.id).subscribe({next:n=>{this.richieste=n}})}format(n){return this.datePipe.transform(n,"dd/MM/yyyy")}modifyRichiesta(n){this.matDialog.open(qt,{data:[n,this.user]}).afterClosed().subscribe({next:t=>{t==!0&&this.getRichieste()}})}getRichiesteByParams(){let n=!0;(this.richiestaParametersForm.get("from")?.value&&!this.richiestaParametersForm.get("to")?.value||!this.richiestaParametersForm.get("from")?.value&&this.richiestaParametersForm.get("to")?.value)&&(this.toastr.error("Inserisci da quando a quando."),n=!1),n&&this.profileService.getRichiesteByFilters(this.user.id,this.richiestaParametersForm.get("oggetto")?.value,this.richiestaParametersForm.get("descrizione")?.value,this.richiestaParametersForm.get("from")?.value,this.richiestaParametersForm.get("to")?.value,this.richiestaPage,this.richiestaParametersForm.get("size")?.value,this.richiestaParametersForm.get("sort")?.value,this.richiestaParametersForm.get("order")?.value).subscribe({next:e=>{this.richieste=e}})}getCitta(){this.formService.getCities().subscribe({next:n=>{this.citta=n}})}updateProfile(){console.log(this.descrizione)}putPassword(n){this.cambiaPassword.valid?this.cambiaPassword.get("nuovaPassword")?.value==this.cambiaPassword.get("ripetiNuovaPassword")?.value?this.isCodeRequeste?this.isCodeVerified?this.profileService.changePassword(this.cambiaPassword.get("nuovaPassword")?.value,this.user.email,this.codeForm.get("code")?.value).subscribe({next:e=>{this.toastr.success("Password cambiata."),this.isCodeRequeste=!1,this.isCodeVerified=!1,this.codeForm.reset(),this.cambiaPassword.reset(),this.cambiaPassword.updateValueAndValidity(),n.submitted=!1,this.profileService.clearUserCode(this.user.email).subscribe({next:t=>{}})}}):this.codeForm.valid?this.profileService.verifyCode(this.user.email,this.codeForm.get("code")?.value,!1).subscribe({next:e=>{e?this.isCodeVerified=!0:(this.isCodeVerified=!1,this.toastr.error("Il codice non \xE8 giusto"))}}):(this.isCodeVerified=!1,this.codeForm.get("code")?.value?this.toastr.error("Il codice deve contenere 6 lettere/caratteri."):this.toastr.error("Non hai inserito il codice!")):this.profileService.askCode(this.user.email,!1).subscribe(e=>{e&&(this.isCodeRequeste=!0,this.toastr.show("Ti abbiamo mandato un codice via mail, inseriscilo nel riquadro."),this.codeInterval=setInterval(()=>{this.secondsToInterval>0&&(this.secondsToInterval-=1)},1e3),this.codeTimeout=setTimeout(()=>{clearInterval(this.codeInterval),this.secondsToInterval=30,this.isCodeRequeste=!1,this.profileService.clearUserCode(this.user.email).subscribe({next:t=>{this.codeForm.reset(),this.toastr.show("Richiedi un altro codice.")}})},3e4))}):this.toastr.error("Le nuove password che hai inserito non coincidono"):this.toastr.error("Assicurati di inserire la tua vecchia password e la password nuova.")}changeImage(n){if(n&&n?.target?.files&&n?.target?.files[0]){this.selectedImage=n.target.files[0];var e=new FileReader;e.readAsDataURL(n.target.files[0]),e.onload=t=>{this.url=t.target.result}}else this.url="",this.selectedImage=null}putImage(){this.selectedImage?this.profileService.putImage(this.selectedImage).subscribe({next:n=>{this.authService.setUser(n),this.authService.isAuthenticatedUser.next(!0),this.toastr.success("Immagine cambiata con successo."),this.selectedImage=null,this.url=""}}):this.toastr.error("Non hai caricato nessuna nuova immagine.")}static \u0275fac=function(e){return new(e||i)(g(H),g(ue),g(xt),g($),g(Qi),g(q))};static \u0275cmp=I({type:i,selectors:[["app-impostazioni"]],viewQuery:function(e,t){if(e&1&&Ce(Ho,5),e&2){let o;be(o=xe())&&(t.descrizione=o.first)}},inputs:{section:"section",user:"user"},standalone:!0,features:[Ve,D],decls:9,vars:5,consts:[["btn",""],["immagine",""],["form","ngForm"],[1,"row"],[1,"col-md-12"],["class","col-md-12",4,"ngIf"],[1,"fs-2"],[1,"fs-4","w-75","m-auto","pb-5"],[1,"w-75","m-auto","row","p-4","assistenza-form",3,"formGroup"],["for","oggetto",1,"p-3"],["type","text","id","oggetto","formControlName","oggetto",1,"form-control","p-2"],["for","descrizione",1,"p-3"],["type","text","id","descrizione","formControlName","descrizione","rows","3",1,"form-control","p-2"],[1,"w-75","m-auto"],["matTooltipPosition","above",1,"btn","my-3","btn-outline-success","fw-bold",3,"click","disabled","matTooltip"],[1,"py-3","text-start"],["for","immagine",1,"to-point","fs-4","pb-3",3,"click"],["type","file","id","immagine","name","immagine","accept","image/png, image/gif, image/jpeg, image/jpg",1,"d-none",3,"change"],["class","rounded-circle shadow to-point profile-pic m-auto",3,"backgroundImage","click",4,"ngIf"],[4,"ngIf"],[1,"rounded-circle","shadow","to-point","profile-pic","m-auto",3,"click"],["matTooltip","Carica","matTooltipPosition","above",1,"btn","pt-3","btn-outline-success","fw-bold","m-2",3,"click"],[1,"bi","bi-upload","fw-bold","h4"],["matTooltip","Elimina","matTooltipPosition","above",1,"btn","pt-3","btn-outline-danger","fw-bold","m-2",3,"click"],[1,"bi","bi-x-lg","fw-bold","h4"],[1,"w-75","m-auto",3,"formGroup"],["for","nuovaPassword",1,"p-2","fs-4"],["type","password","id","nuovaPassword","formControlName","nuovaPassword","name","nuovaPassword",1,"form-control","m-2"],["class","text-danger",4,"ngIf"],["for","ripetiNuovaPassword",1,"p-2","fs-4"],["type","password","id","ripetiNuovaPassword","formControlName","ripetiNuovaPassword","name","ripetiNuovaPassword",1,"form-control","m-2"],[1,"btn","btn-outline-primary","fw-bold","my-3",3,"click"],["class","text-success fw-bold fs-4 py-3",4,"ngIf"],[3,"formGroup",4,"ngIf"],["class","text-success fs-4 py-2",4,"ngIf"],[1,"text-danger"],[1,"text-success","fw-bold","fs-4","py-3"],[3,"formGroup"],["for","code",1,"fs-4","py-2"],["type","text","formControlName","code","name","code","id","code",1,"form-control"],[1,"btn","my-3",3,"click"],[1,"text-success","fs-4","py-2"],[1,"m-auto","my-4","p-4","w-75",3,"formGroup"],["for","nome",1,"p-2","fs-3"],["type","text","placeholder","Scrivi il tuo nome","id","nome","formControlName","nome",1,"form-control","text-center","w-75","m-auto"],["for","cognome",1,"p-2","fs-3"],["type","text","placeholder","Scrivi il tuo cognome","id","cognome","formControlName","cognome",1,"form-control","text-center","w-75","m-auto"],["for","citta",1,"p-2","fs-3"],["name","citta","id","citta","formControlName","citta","placeholder","Scegli la citt\xE0","onfocus","this.size=7","onblur","this.size=1","onchange","this.blur()",1,"form-select","text-center","w-75","m-auto"],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"btn","my-3","btn-outline-primary","fw-bold",3,"click","disabled"],[3,"value"],["class","py-5 fs-3",4,"ngIf"],[1,"row","py-5",3,"formGroup"],[1,"col-md-6"],["for","size"],["name","size","id","size","formControlName","size",1,"form-select"],["for","sort"],["name","sort","id","sort","formControlName","sort",1,"form-select"],["for","order"],["name","order","id","order","formControlName","order",1,"form-select"],["for","oggetto"],["type","text","id","oggetto","name","oggetto","formControlName","oggetto",1,"form-control"],["for","descrizione"],["type","text","id","descrizione","rows","3","name","descrizione","formControlName","descrizione",1,"form-control"],["for","from",1,"p-1"],["type","date","name","from","formControlName","from","id","from",1,"form-control"],["for","to",1,"p-1"],["type","date","name","to","formControlName","to","id","to",1,"form-control"],[1,"col-md-12","text-center","py-3"],[1,"btn","btn-outline-primary","fw-bold",3,"click"],[1,"py-5","fs-3"],["class","col-md-12 p-3",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-around","py-3"],["class","btn",3,"click",4,"ngIf"],[1,"col-md-12","p-3"],[1,"p-2","border","shadow-lg"],[1,"d-flex","justify-content-end"],["matTooltip","Modifica","matTooltipPosition","above",1,"btn",3,"click"],[1,"bi","bi-pencil-fill","h4","text-primary"],[1,"sub-title"],[1,"fw-bold"],[1,"py-5","bg-light","shadow-sm","text-dark"],[1,"btn",3,"click"],[1,"bi","bi-arrow-left-circle-fill","h4"],[1,"bi","bi-arrow-right-circle-fill","h4"]],template:function(e,t){e&1&&(s(0,"div",3)(1,"div",4)(2,"h2"),l(3," Gestisci il tuo profilo"),r()(),u(4,qo,23,4,"div",5)(5,Xo,10,3,"div",5)(6,ir,18,6,"div",5)(7,or,16,3,"div",5)(8,ur,43,6,"div",5),r()),e&2&&(a(4),c("ngIf",t.section=="Richiedi assistenza"),a(),c("ngIf",t.section=="Cambia immagine del profilo"),a(),c("ngIf",t.section=="Cambia la password"),a(),c("ngIf",t.section=="Cambia altre informazioni"),a(),c("ngIf",t.section=="Monitora le tue richieste"))},dependencies:[V,N,J,me,de,ce,ye,Q,X,Z,K,tt,et,A,Qe],styles:[".h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{font-family:Just Me Again Down Here,cursive;font-weight:400;font-style:normal}h1[_ngcontent-%COMP%]{font-size:80px}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:120px}.bg-personal[_ngcontent-%COMP%]{background-color:gray}.btn[_ngcontent-%COMP%]{pointer-events:auto!important}.assistenza-form[_ngcontent-%COMP%]{border-top:2px solid gray}.sub-title[_ngcontent-%COMP%]{position:relative;top:-33px;font-size:14px}.to-point[_ngcontent-%COMP%]{cursor:pointer}.profile-pic[_ngcontent-%COMP%]{width:170px;min-height:170px!important;background-size:contain;background-repeat:no-repeat;background-position:center;background-color:#f5f5f5}"]})};var Wt=class i{constructor(n){this.http=n}preferito="/preferito";user="/user";getPreferiti(n,e,t,o,m,C,y){let P=new It;return P=P.set("page",e),P=P.set("size",t),P=P.set("orderBy",o),P=P.set("sortOrder",m),C&&(P=P.set("giocoName",C)),y&&(P=P.set("giocoDifficolta",y)),this.http.get(T.API_URL+this.preferito+this.user+`/ ${n}`,{params:P})}deletePreferito(n){return this.http.delete(T.API_URL+this.preferito+`/ ${n}`)}static \u0275fac=function(e){return new(e||i)(k(W))};static \u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})};function gr(i,n){i&1&&(s(0,"h1"),l(1,"Benvenuto nei tuoi preferiti!"),r())}function hr(i,n){if(i&1&&(s(0,"h1"),l(1),r()),i&2){let e=d();a(),b("I preferiti di ",e.visitedUser.fullName,"!")}}function _r(i,n){i&1&&(s(0,"h2"),l(1,"Cerca fra i preferiti"),r())}function vr(i,n){if(i&1&&(s(0,"option",25),l(1),r()),i&2){let e=n.$implicit;E("value",e),a(),x(e)}}function Cr(i,n){if(i&1&&(s(0,"option",25),l(1),r()),i&2){let e=n.$implicit;E("value",e),a(),x(e)}}function br(i,n){if(i&1&&(s(0,"option",25),l(1),r()),i&2){let e=n.$implicit;E("value",e),a(),x(e)}}function xr(i,n){if(i&1&&(s(0,"option",25),l(1),r()),i&2){let e=n.$implicit;E("value",e),a(),x(e)}}function yr(i,n){if(i&1){let e=v();s(0,"p",30)(1,"button",31),p("click",function(){h(e);let o=d().$implicit,m=d();return _(m.deletePreferito(o==null?null:o.id))}),f(2,"i",32),r()()}}function Ir(i,n){if(i&1&&(s(0,"div",26)(1,"div",27),u(2,yr,3,0,"p",28),s(3,"h2"),l(4),r(),s(5,"p"),l(6),r(),s(7,"p"),l(8,"Difficolt\xE0 :"),r(),s(9,"p",29),l(10),r()()()),i&2){let e=n.$implicit,t=d();a(2),c("ngIf",(t.user==null?null:t.user.id)==(t.visitedUser==null?null:t.visitedUser.id)),a(2),b(" ",e==null||e.gioco==null?null:e.gioco.nomeGioco," "),a(2),b(" ",e==null||e.gioco==null?null:e.gioco.descrizione," "),a(3),c("ngClass",(e==null||e.gioco==null?null:e.gioco.difficolta)<=2?"text-success":(e==null||e.gioco==null?null:e.gioco.difficolta)<=4&&(e==null||e.gioco==null?null:e.gioco.difficolta)>2?"text-warning":"text-danger"),a(),b(" ",e==null||e.gioco==null?null:e.gioco.difficolta,"")}}function Sr(i,n){if(i&1){let e=v();s(0,"button",36),p("click",function(){h(e);let o=d(2);return o.preferitiPage=o.preferitiPage-1,_(o.getPreferiti())}),f(1,"i",37),r()}}function wr(i,n){if(i&1){let e=v();s(0,"button",38),p("click",function(){h(e);let o=d(2);return o.preferitiPage=o.preferitiPage+1,_(o.getPreferiti())}),f(1,"i",39),r()}}function Er(i,n){if(i&1&&(s(0,"div",33),u(1,Sr,2,0,"button",34)(2,wr,2,0,"button",35),r()),i&2){let e=d();a(),c("ngIf",!(e.preferiti!=null&&e.preferiti.first)),a(),c("ngIf",!(e.preferiti!=null&&e.preferiti.last))}}function Tr(i,n){i&1&&(s(0,"h2"),l(1,"Non hai ancora nessun gioco nei tuoi preferiti!"),r())}function Pr(i,n){i&1&&(s(0,"button",41)(1,"a",42),l(2,"Aggiungine qualcuno!"),r()())}function Or(i,n){if(i&1&&(s(0,"h2"),l(1),r()),i&2){let e=d(2);a(),b("",e.visitedUser.fullName," non ha ancora nessun gioco nei preferiti.")}}function Dr(i,n){if(i&1&&(s(0,"div",5),u(1,Tr,2,0,"h2",4)(2,Pr,3,0,"button",40)(3,Or,2,1,"h2",4),r()),i&2){let e=d();a(),c("ngIf",(e.user==null?null:e.user.id)==(e.visitedUser==null?null:e.visitedUser.id)),a(),c("ngIf",(e.user==null?null:e.user.id)==(e.visitedUser==null?null:e.visitedUser.id)),a(),c("ngIf",(e.user==null?null:e.user.id)!=(e.visitedUser==null?null:e.visitedUser.id)&&e.visitedUser)}}var it=class i{constructor(n,e,t,o,m){this.route=n;this.authService=e;this.preferitiService=t;this.toastr=o;this.modeService=m;this.modeService.mode.subscribe(C=>{this.mode=C})}user=null;visitedUser=null;preferiti=null;preferitiPage=0;searchPreferitiForm=new O({});sizes=[5,10,20];orderBys=["Id","Nome gioco","Data di creazione del gioco","Data di aggiunta ai preferiti"];sortOrders=["Ascendente","Discendente"];difficulties=[1,2,3,4,5];userInput=null;mode="light";ngOnInit(){this.user=this.authService.getUser(),this.userInput==null?(localStorage.setItem("location","lobby/preferiti"),this.route.queryParams.subscribe(n=>{n.user&&this.authService.getUserById(n.user).subscribe({next:e=>{e?(this.visitedUser=e,localStorage.setItem("visitedUser",JSON.stringify(this.visitedUser)),this.getPreferiti()):localStorage.getItem("visitedUser")&&(this.visitedUser=JSON.parse(localStorage.getItem("visitedUser")),this.getPreferiti())}})})):(localStorage.setItem("location","lobby/profile"),this.visitedUser=this.userInput,localStorage.setItem("visitedUser",JSON.stringify(this.visitedUser)),this.getPreferiti()),localStorage.getItem("visitedUser")&&(this.visitedUser=JSON.parse(localStorage.getItem("visitedUser")),this.getPreferiti()),this.searchPreferitiForm=new O({size:new w(5),orderBy:new w("Id"),sortOrder:new w("Discendente"),nomeGioco:new w(""),difficoltaGioco:new w})}ngOnDestroy(){localStorage.removeItem("visitedUser")}getPreferiti(){let n=this.searchPreferitiForm.get("sortOrder")?.value=="Discendente"?"DESC":"ASC",e=this.searchPreferitiForm.get("orderBy")?.value=="Id"?"id":this.searchPreferitiForm.get("orderBy")?.value=="Nome gioco"?"gioco.nomeGioco":this.searchPreferitiForm.get("orderBy")?.value=="Data di creazione del gioco"?"gioco.createdAt":this.searchPreferitiForm.get("orderBy")?.value=="Data di aggiunta ai preferiti"?"createdAt":"id";this.preferitiService.getPreferiti(this.visitedUser.id,this.preferitiPage,this.searchPreferitiForm.get("size")?.value||5,e,n,this.searchPreferitiForm.get("nomeGioco")?.value,this.searchPreferitiForm.get("difficoltaGioco")?.value).subscribe({next:t=>{this.preferiti=t}})}deletePreferito(n){this.preferitiService.deletePreferito(n).subscribe({next:e=>{e?(this.toastr.success("Gioco rimosso dai preferiti."),this.getPreferiti()):this.toastr.error("Gioco non rimosso. Riprova o contatta l'assistenza.")}})}static \u0275fac=function(e){return new(e||i)(g($e),g(q),g(Wt),g(H),g(le))};static \u0275cmp=I({type:i,selectors:[["app-preferiti"]],inputs:{userInput:"userInput"},standalone:!0,features:[D],decls:39,vars:12,consts:[[1,"w-100","text-center",3,"ngClass"],[1,"container"],[1,"row","p-5"],[1,"col-md-12","py-5"],[4,"ngIf"],[1,"col-md-12","p-5"],[1,"w-75","row","m-auto",3,"formGroup"],[1,"col-md-4"],["for","size",1,"p-2"],["name","size","id","size","formControlName","size",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","orderBy",1,"p-2"],["name","orderBy","id","orderBy","formControlName","orderBy",1,"form-select"],["for","sortOrder",1,"p-2"],["name","sortOrder","id","sortOrder","formControlName","sortOrder",1,"form-select"],[1,"col-md-6"],["for","nomeGioco",1,"p-2"],["name","nomeGioco","id","nomeGioco","formControlName","nomeGioco",1,"form-control"],["for","difficoltaGioco",1,"p-2"],["name","difficoltaGioco","id","difficoltaGioco","formControlName","difficoltaGioco",1,"form-select"],[1,"col-md-12","py-4"],[1,"btn","btn-outline-primary","fw-bold",3,"click"],["class","col-md-6 col-lg-4 p-3",4,"ngFor","ngForOf"],["class","col-md-12 p-3 d-flex justify-content-center align-items-center",4,"ngIf"],["class","col-md-12 p-5",4,"ngIf"],[3,"value"],[1,"col-md-6","col-lg-4","p-3"],[1,"border","shadow","p-4"],["class","text-end",4,"ngIf"],[1,"fs-4","fw-bold",3,"ngClass"],[1,"text-end"],["matTooltip","Elimina dai preferiti","matTooltipPosition","above",1,"btn",3,"click"],[1,"bi","bi-trash3","h4","text-danger"],[1,"col-md-12","p-3","d-flex","justify-content-center","align-items-center"],["class","btn",3,"click",4,"ngIf"],["class","btn fs-5",3,"click",4,"ngIf"],[1,"btn",3,"click"],[1,"bi","bi-arrow-left-circle-fill","h4"],[1,"btn","fs-5",3,"click"],[1,"bi","bi-arrow-right-circle-fill","h4"],["class","btn m-auto my-5",4,"ngIf"],[1,"btn","m-auto","my-5"],["routerLink","/lobby",1,"text-dark"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u(4,gr,2,0,"h1",4)(5,hr,2,1,"h1",4)(6,_r,2,0,"h2",4),r(),s(7,"div",5)(8,"form",6)(9,"div",7)(10,"label",8),l(11,"Elementi per pagina"),r(),s(12,"select",9),u(13,vr,2,2,"option",10),r()(),s(14,"div",7)(15,"label",11),l(16,"Ordina per"),r(),s(17,"select",12),u(18,Cr,2,2,"option",10),r()(),s(19,"div",7)(20,"label",13),l(21,"Ordine"),r(),s(22,"select",14),u(23,br,2,2,"option",10),r()(),s(24,"div",15)(25,"label",16),l(26,"Filtra per nome del gioco preferito"),r(),f(27,"input",17),r(),s(28,"div",15)(29,"label",18),l(30,"Filtra per difficolt\xE0 del gioco preferito"),r(),s(31,"select",19),u(32,xr,2,2,"option",10),r()(),s(33,"div",20)(34,"button",21),p("click",function(){return t.getPreferiti()}),l(35,"Cerca"),r()()()(),u(36,Ir,11,5,"div",22)(37,Er,3,2,"div",23)(38,Dr,4,3,"div",24),r()()()),e&2&&(c("ngClass",t.mode=="light"?"bg-light":"bg-personal text-light"),a(4),c("ngIf",(t.user==null?null:t.user.id)==(t.visitedUser==null?null:t.visitedUser.id)),a(),c("ngIf",(t.user==null?null:t.user.id)!=(t.visitedUser==null?null:t.visitedUser.id)&&t.visitedUser&&t.userInput==null),a(),c("ngIf",(t.user==null?null:t.user.id)!=(t.visitedUser==null?null:t.visitedUser.id)&&t.visitedUser&&t.userInput!=null),a(2),c("formGroup",t.searchPreferitiForm),a(5),c("ngForOf",t.sizes),a(5),c("ngForOf",t.orderBys),a(5),c("ngForOf",t.sortOrders),a(9),c("ngForOf",t.difficulties),a(4),c("ngForOf",t.preferiti==null?null:t.preferiti.content),a(),c("ngIf",(t.preferiti==null||t.preferiti.content==null?null:t.preferiti.content.lenght)>0),a(),c("ngIf",!t.preferiti||(t.preferiti==null||t.preferiti.content==null?null:t.preferiti.content.length)==0||!(t.preferiti!=null&&t.preferiti.content)))},dependencies:[V,A,z,tt,et,Mi,N,J,me,de,ce,ye,Q,X,Z,K],styles:[".h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{font-family:Just Me Again Down Here,cursive;font-weight:400;font-style:normal}h1[_ngcontent-%COMP%]{font-size:80px}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:120px}.bg-personal[_ngcontent-%COMP%]{background-color:gray}a[_ngcontent-%COMP%]{text-decoration:none}"]})};var Qt=class i{constructor(n){this.http=n}emojies="/emojies";title="/title";getAllEmojies(){return this.http.get(T.API_URL+this.emojies)}getByTitle(n){return this.http.get(T.API_URL+this.emojies+this.title+"/"+n)}static \u0275fac=function(e){return new(e||i)(k(W))};static \u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})};function kr(i,n){if(i&1){let e=v();s(0,"div",13)(1,"button",14),p("click",function(){let o=h(e).$implicit,m=d(3);return _(m.emitEmoji(o.emoji))}),l(2),r()()}if(i&2){let e=n.$implicit;a(2),b(" ",e.emoji," ")}}function Ar(i,n){if(i&1){let e=v();s(0,"div",13)(1,"button",14),p("click",function(){let o=h(e).$implicit,m=d(3);return _(m.emitEmoji(o.emoji))}),l(2),r()()}if(i&2){let e=n.$implicit;a(2),b(" ",e.emoji," ")}}function Fr(i,n){if(i&1){let e=v();s(0,"div",13)(1,"button",14),p("click",function(){let o=h(e).$implicit,m=d(3);return _(m.emitEmoji(o.emoji))}),l(2),r()()}if(i&2){let e=n.$implicit;a(2),b(" ",e.emoji," ")}}function Rr(i,n){if(i&1){let e=v();s(0,"div",13)(1,"button",14),p("click",function(){let o=h(e).$implicit,m=d(3);return _(m.emitEmoji(o.emoji))}),l(2),r()()}if(i&2){let e=n.$implicit;a(2),b(" ",e.emoji," ")}}function zr(i,n){if(i&1){let e=v();s(0,"div",13)(1,"button",14),p("click",function(){let o=h(e).$implicit,m=d(3);return _(m.emitEmoji(o.emoji))}),l(2),r()()}if(i&2){let e=n.$implicit;a(2),b(" ",e.emoji," ")}}function Vr(i,n){if(i&1){let e=v();s(0,"div",13)(1,"button",14),p("click",function(){let o=h(e).$implicit,m=d(3);return _(m.emitEmoji(o.emoji))}),l(2),r()()}if(i&2){let e=n.$implicit;a(2),b(" ",e.emoji," ")}}function Lr(i,n){if(i&1){let e=v();s(0,"div",13)(1,"button",14),p("click",function(){let o=h(e).$implicit,m=d(3);return _(m.emitEmoji(o.emoji))}),l(2),r()()}if(i&2){let e=n.$implicit;a(2),b(" ",e.emoji," ")}}function Nr(i,n){if(i&1){let e=v();s(0,"div",13)(1,"button",14),p("click",function(){let o=h(e).$implicit,m=d(3);return _(m.emitEmoji(o.emoji))}),l(2),r()()}if(i&2){let e=n.$implicit;a(2),b(" ",e.emoji," ")}}function jr(i,n){if(i&1){let e=v();s(0,"div",13)(1,"button",14),p("click",function(){let o=h(e).$implicit,m=d(3);return _(m.emitEmoji(o.emoji))}),l(2),r()()}if(i&2){let e=n.$implicit;a(2),b(" ",e.emoji," ")}}function Ur(i,n){if(i&1&&(s(0,"div",2)(1,"h2",11),l(2,"Activities"),r(),u(3,kr,3,1,"div",12),s(4,"h2",11),l(5,"Animals nature"),r(),u(6,Ar,3,1,"div",12),s(7,"h2",11),l(8,"Flags"),r(),u(9,Fr,3,1,"div",12),s(10,"h2",11),l(11,"Food drink"),r(),u(12,Rr,3,1,"div",12),s(13,"h2",11),l(14,"Objects"),r(),u(15,zr,3,1,"div",12),s(16,"h2",11),l(17,"People body"),r(),u(18,Vr,3,1,"div",12),s(19,"h2",11),l(20,"Smileys emotion"),r(),u(21,Lr,3,1,"div",12),s(22,"h2",11),l(23,"Symbols"),r(),u(24,Nr,3,1,"div",12),s(25,"h2",11),l(26,"Travel places"),r(),u(27,jr,3,1,"div",12),r()),i&2){let e=d(2);a(3),c("ngForOf",e.activities),a(3),c("ngForOf",e.animalsNature),a(3),c("ngForOf",e.flags),a(3),c("ngForOf",e.foodDrink),a(3),c("ngForOf",e.objects),a(3),c("ngForOf",e.peopleBody),a(3),c("ngForOf",e.smileysEmotion),a(3),c("ngForOf",e.symbols),a(3),c("ngForOf",e.travelPlaces)}}function Gr(i,n){if(i&1){let e=v();s(0,"div",13)(1,"button",14),p("click",function(){let o=h(e).$implicit,m=d(3);return _(m.emitEmoji(o.emoji))}),l(2),r()()}if(i&2){let e=n.$implicit;a(2),b(" ",e.emoji," ")}}function $r(i,n){if(i&1&&(s(0,"div",2)(1,"div",11)(2,"h2"),l(3,"Correspondant emojies"),r()(),u(4,Gr,3,1,"div",12),r()),i&2){let e=d(2);a(4),c("ngForOf",e.emojies)}}function Br(i,n){if(i&1){let e=v();s(0,"div",6)(1,"div",2)(2,"div",7)(3,"form",8)(4,"input",9,0),p("input",function(){h(e);let o=d();return _(o.searchEmojies())}),r()()()(),u(6,Ur,28,9,"div",10)(7,$r,5,1,"ng-template",null,1,Ue),r()}if(i&2){let e=S(8),t=d();a(3),c("formGroup",t.searchEmojiesForm),a(3),c("ngIf",!t.emojiesSearched)("ngIfElse",e)}}var Xt=class i{constructor(n){this.emojiService=n}emojies=[];activities=[];animalsNature=[];flags=[];foodDrink=[];objects=[];peopleBody=[];smileysEmotion=[];symbols=[];travelPlaces=[];showMenu=!1;searchEmojiesForm=new O({});emojiesSearched=!1;sendEmoji=new Te;ngOnInit(){this.emojiService.getAllEmojies().subscribe({next:n=>{this.emojies=n,this.activities=n.filter(e=>e.field=="activities"),this.animalsNature=n.filter(e=>e.field=="animals-nature"),this.flags=n.filter(e=>e.field=="flags"),this.foodDrink=n.filter(e=>e.field=="food-drink"),this.objects=n.filter(e=>e.field=="objects"),this.peopleBody=n.filter(e=>e.field=="people-body"),this.smileysEmotion=n.filter(e=>e.field=="smileys-emotion"),this.symbols=n.filter(e=>e.field=="symbols"),this.travelPlaces=n.filter(e=>e.field=="travel-places")}}),this.initializeForms()}initializeForms(){this.searchEmojiesForm=new O({field:new w("",[R.required,R.minLength(1)])})}searchEmojies(){this.searchEmojiesForm.valid?(this.emojiService.getByTitle(this.searchEmojiesForm.controls.field.value).subscribe({next:n=>{this.emojies=n}}),this.emojiesSearched=!0):this.emojiesSearched=!1}emitEmoji(n){this.sendEmoji.emit(n)}static \u0275fac=function(e){return new(e||i)(g(Qt))};static \u0275cmp=I({type:i,selectors:[["app-emoji"]],outputs:{sendEmoji:"sendEmoji"},standalone:!0,features:[D],decls:5,vars:1,consts:[["field",""],["searchedEmojies",""],[1,"row"],[1,"col-md-12"],[1,"btn","fs-4",3,"click"],["class","col-md-12 overflow-auto",4,"ngIf"],[1,"col-md-12","overflow-auto"],[1,"col-md-12","d-flex"],[1,"w-75",3,"formGroup"],["type","text","formControlName","field",1,"form-control",3,"input"],["class","row",4,"ngIf","ngIfElse"],[1,"col-md-12","text-start"],["class","col-2 fs-4",4,"ngFor","ngForOf"],[1,"col-2","fs-4"],[1,"btn","boder-0","fs-4","p-0","emoji-button",3,"click"]],template:function(e,t){e&1&&(s(0,"div",2)(1,"div",3)(2,"button",4),p("click",function(){return t.showMenu=!t.showMenu}),l(3," \u{1F60A} "),r()(),u(4,Br,9,3,"div",5),r()),e&2&&(a(4),c("ngIf",t.showMenu))},dependencies:[A,V,N,J,ce,Q,X,Z,K],styles:[".overflow-auto[_ngcontent-%COMP%]{max-height:200px!important;overflow-x:none!important}.emoji-button[_ngcontent-%COMP%]{transition:.5s}.emoji-button[_ngcontent-%COMP%]:hover{scale:1.05;transition:.5s}"]})};var Hr=["testo"];function qr(i,n){if(i&1){let e=v();s(0,"button",23),p("click",function(){let o=h(e).$implicit,m=d();return _(m.selectItems(o.value))}),f(1,"i",24),r()}if(i&2){let e=n.$implicit,t=d();a(),B("bi bi ",e.label," h2"),c("ngClass",t.mode=="light"?"text-dark":"text-light")}}function Yr(i,n){if(i&1&&(s(0,"option",25),l(1),r()),i&2){let e=n.$implicit;B("",e.value," text-start fs-4"),E("value",e.value),a(),b("",e.label," ")}}function Wr(i,n){if(i&1&&(s(0,"option",25),l(1),r()),i&2){let e=n.$implicit;B("",e.value," text-start"),c("value",e.value),a(),x(e.label)}}var Jt=class i{constructor(n,e,t,o,m,C){this.data=n;this.profiloService=e;this.toastr=t;this.modeService=o;this.matDialogRef=m;this.cdr=C;this.modeService.mode.subscribe(y=>{this.mode=y})}manuallyCopiedRange=null;icons=[];colors=[];sizes=[];mode="light";separatedClasses="";testo;remainingCharacters=0;initialRemainingCharacters=0;selectsForm=new O({});selectItems(n){if(n=="underline"||n=="line-through")if(this.separatedClasses.includes(n)){this.separatedClasses=this.separatedClasses.replace(n,""),this.separatedClasses=this.separatedClasses.substring(0,this.separatedClasses.lastIndexOf(" ")),this.testo.nativeElement.classList.remove(n);return}else n=="underline"&&this.separatedClasses.includes("line-through")?(this.separatedClasses=this.separatedClasses.replace("line-through",""),this.separatedClasses=this.separatedClasses.substring(0,this.separatedClasses.lastIndexOf(" ")),this.testo.nativeElement.classList.remove("line-through"),this.testo.nativeElement.classList.add("under-through"),this.separatedClasses+=" under-through"):n=="line-through"&&this.separatedClasses.includes("underline")?(this.separatedClasses=this.separatedClasses.replace("underline",""),this.separatedClasses=this.separatedClasses.substring(0,this.separatedClasses.lastIndexOf(" ")),this.testo.nativeElement.classList.remove("underline"),this.testo.nativeElement.classList.add("under-through"),this.separatedClasses+=" under-through"):n=="underline"&&this.separatedClasses.includes("under-through")?(this.separatedClasses=this.separatedClasses.replace("under-through",""),this.separatedClasses=this.separatedClasses.substring(0,this.separatedClasses.lastIndexOf(" ")),this.separatedClasses+=" line-through",this.testo.nativeElement.classList.remove("under-through"),this.testo.nativeElement.classList.add("line-through")):n=="line-through"&&this.separatedClasses.includes("under-through")?(this.separatedClasses=this.separatedClasses.replace("under-through",""),this.separatedClasses=this.separatedClasses.substring(0,this.separatedClasses.lastIndexOf(" ")),this.separatedClasses+=" underline",this.testo.nativeElement.classList.remove("under-through"),this.testo.nativeElement.classList.add("underline")):(this.testo.nativeElement.classList.add(n),this.separatedClasses+=" "+n);else{if(this.separatedClasses.includes(n)){this.separatedClasses=this.separatedClasses.replace(n,""),this.separatedClasses=this.separatedClasses.substring(0,this.separatedClasses.lastIndexOf(" ")),this.testo.nativeElement.classList.remove(n);return}this.separatedClasses+=" "+n,this.testo.nativeElement.classList.add(n)}}close(n){if(!n)this.matDialogRef.close(!1);else{let e=document.createElement("span");this.separatedClasses.startsWith(" ")&&(this.separatedClasses=this.separatedClasses.substring(1));let t=this.separatedClasses.split(" ");if(t.length>0)for(let o of t)e.classList.add(o);e.textContent+=this.testo?.nativeElement.innerHTML,this.matDialogRef.close(e)}}calculateRemainingCharacters(n){let e=n?.innerHTML==="<br>"&&n.innerHTML.length===4||n.innerHTML.length==0,t=e?0:n?.innerText?.length;n?.innerText?.length<=this.initialRemainingCharacters?this.remainingCharacters=this.initialRemainingCharacters-t:(this.remainingCharacters=0,n.innerText=n?.innerText?.substring(0,this.initialRemainingCharacters),n?.innerText?.length<this.initialRemainingCharacters&&(this.remainingCharacters=this.initialRemainingCharacters-t)),e&&(n.innerHTML="")}initializeForm(){this.selectsForm=new O({colors:new w(""),sizes:new w("")}),this.colors.forEach(n=>{n.value==this.data[0]&&this.selectsForm.get("colors")?.setValue(this.data[0])}),this.sizes.forEach(n=>{n.value==this.data[0]&&this.selectsForm.get("sizes")?.setValue(this.data[0])}),this.selectsForm.updateValueAndValidity()}ngOnInit(){this.initializeForm(),this.separatedClasses+=this.data[0],setTimeout(()=>{this.testo.nativeElement.classList.add(this.data[0])},1e3),this.icons=this.data[1],this.colors=this.data[2],this.sizes=this.data[3],this.remainingCharacters=this.data[4],this.initialRemainingCharacters=this.data[4],this.initializeForm()}ngAfterContentChecked(){this.cdr.detectChanges()}ngAfterViewChecked(){}static \u0275fac=function(e){return new(e||i)(g(te),g(ue),g(H),g(le),g(G),g(ae))};static \u0275cmp=I({type:i,selectors:[["app-insert-text"]],viewQuery:function(e,t){if(e&1&&Ce(Hr,5),e&2){let o;be(o=xe())&&(t.testo=o.first)}},standalone:!0,features:[D],decls:36,vars:12,consts:[["color",""],["size",""],["testo",""],["mat-dialo-title","",1,"d-flex","p-3","bg-success"],[1,"text-end"],[1,"btn","text-danger","fw-bolder",3,"click"],[1,"bi","bi-x-lg","h4"],["mat-dialog-content","",1,"row","text-start","p-2"],[1,"col-md-12","p-1"],["class","btn shadow-none border-0",3,"click",4,"ngFor","ngForOf"],[3,"formGroup"],[1,"col-md-6","p-1","d-flex","justify-content-start","align-items-end"],["for","colors",1,"p-2","fs-4"],["name","colors","id","colors","formControlName","colors","onfocus","this.size=5","onblur","this.size=1","onchange","this.blur()",3,"change"],["value",""],[3,"value","class",4,"ngFor","ngForOf"],["for","sizes",1,"p-2","fs-4"],["name","sizes","id","sizes","formControlName","sizes","onfocus","this.size=3","onblur","this.size=1","onchange","this.blur()",3,"change"],[1,"col-md-12"],["name","testo","id","testo","contenteditable","true",1,"form-control","py-5","my-5",3,"input"],[1,"text-end","pr-4"],[1,"fw-bolder","fs-5",3,"ngClass"],[1,"btn",3,"click"],[1,"btn","shadow-none","border-0",3,"click"],[3,"ngClass"],[3,"value"]],template:function(e,t){if(e&1){let o=v();s(0,"div",3)(1,"h2"),l(2,"Personalizza la tua descrizione"),r(),s(3,"p",4)(4,"button",5),p("click",function(){return h(o),_(t.close())}),f(5,"i",6),r()()(),s(6,"div",7)(7,"div",8),u(8,qr,2,4,"button",9),r(),s(9,"form",10)(10,"div",11)(11,"label",12),l(12,"Color "),r(),s(13,"select",13,0),p("change",function(){h(o);let C=S(14);return _(t.selectItems(C.value))}),s(15,"option",14),l(16,"Seleziona un valore .."),r(),u(17,Yr,2,5,"option",15),r()(),s(18,"div",11)(19,"label",16),l(20,"Size "),r(),s(21,"select",17,1),p("change",function(){h(o);let C=S(22);return _(t.selectItems(C.value))}),s(23,"option",14),l(24,"Seleziona un valore .."),r(),u(25,Wr,2,5,"option",15),r()()(),s(26,"div",18)(27,"div",19,2),p("input",function(){h(o);let C=S(28);return _(t.calculateRemainingCharacters(C))}),r(),s(29,"div",20)(30,"p",4),l(31,"Caratteri a disposizione : "),s(32,"span",21),l(33),r()()(),s(34,"button",22),p("click",function(){return h(o),_(t.close(!0))}),l(35,"Aggiungi"),r()()()}if(e&2){let o=S(14),m=S(22);a(8),c("ngForOf",t.icons),a(),c("formGroup",t.selectsForm),a(4),B("form-select w-50 ",o==null?null:o.value,""),a(4),c("ngForOf",t.colors),a(4),B("form-select text-start w-50 ",m==null?null:m.value,""),a(4),c("ngForOf",t.sizes),a(7),c("ngClass",t.remainingCharacters>3e3?"text-success":t.remainingCharacters<=3e3&&t.remainingCharacters>1e3?"text-warning":"text-danger"),a(),b(" ",t.remainingCharacters," ")}},dependencies:[pe,A,z,N,J,me,de,ye,Q,X,Z,K],styles:[".h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{font-family:Just Me Again Down Here,cursive;font-weight:400;font-style:normal}h1[_ngcontent-%COMP%]{font-size:80px}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:120px}.bg-personal[_ngcontent-%COMP%]{background-color:gray}.line-through[_ngcontent-%COMP%]{text-decoration:line-through!important}.underline[_ngcontent-%COMP%]{text-decoration:underline!important}.under-through[_ngcontent-%COMP%]{text-decoration:line-through underline!important}"]})};function Qr(i,n){if(i&1){let e=v();s(0,"button",11),p("click",function(){let o=h(e).$implicit,m=d();return _(m.selectItems(o.value))}),f(1,"i",12),r()}if(i&2){let e=n.$implicit,t=d();a(),B("bi bi ",e.label," h2"),c("ngClass",t.mode=="light"?"text-dark":"text-light")}}function Xr(i,n){if(i&1){let e=v();s(0,"option",13),p("click",function(){let o=h(e).$implicit,m=d();return _(m.checkValue(o.value,"color"))}),l(1),r()}if(i&2){let e=n.$implicit;B("",e.value," text-start fs-4"),E("value",e.value),a(),x(e.label)}}function Jr(i,n){if(i&1){let e=v();s(0,"option",13),p("click",function(){let o=h(e).$implicit,m=d();return _(m.checkValue(o.value,"size"))}),l(1),r()}if(i&2){let e=n.$implicit;B("",e.value," text-start"),E("value",e.value),a(),x(e.label)}}var Zt=class i{constructor(n,e,t,o){this.modeService=n;this.matDialog=e;this.toastr=t;this.cdr=o;this.modeService.mode.subscribe(m=>{this.mode=m})}mode="light";icons=new Set([{value:"fw-bold",label:"bi-type-bold"},{value:"fst-italic",label:"bi-type-italic"},{value:"underline",label:"bi-type-underline"},{value:"line-through",label:"bi-type-strikethrough"}]);colors=new Set([{value:"text-dark",label:"dark"},{value:"text-white",label:"white"},{value:"text-danger",label:"red"},{value:"text-warning",label:"yellow"},{value:"text-success",label:"green"},{value:"text-primary",label:"blue"},{value:"text-info",label:"light blue"},{value:"text-secondary",label:"gray"}]);sizes=new Set([{value:"fs-5",label:"smaller"},{value:"fs-4",label:"small"},{value:"fs-3",label:"medium"},{value:"fs-2",label:"big"},{value:"fs-1",label:"bigger"}]);selectedItems=[];textareaInnerHTML="";sendUpdates=new Te;remainingCharacters=0;previousValueC="text-dark";previousValueS="fs-6";selectItems(n){this.matDialog.open(Jt,{data:[n,this.icons,this.colors,this.sizes,this.remainingCharacters]}).afterClosed().subscribe(t=>{if(this.previousValueC=document.getElementById("colors").value,this.previousValueS=document.getElementById("sizes").value,t){let o=t;this.update(t)}else this.toastr.warning("Non hai aggiunto niente")})}update(n){this.sendUpdates.emit(n)}clearSelectedItems(n){return this.selectedItems=this.selectedItems.filter(e=>e!=n)}checkValue(n,e){e=="color"?document.getElementById("colors").value==this.previousValueC&&this.selectItems(n):e=="size"?document.getElementById("sizes").value==this.previousValueS&&this.selectItems(n):this.toastr.warning("What did you selected?")}ngAfterContentChecked(){this.cdr.detectChanges()}static \u0275fac=function(e){return new(e||i)(g(le),g($),g(H),g(ae))};static \u0275cmp=I({type:i,selectors:[["app-text-editor"]],inputs:{textareaInnerHTML:"textareaInnerHTML",remainingCharacters:"remainingCharacters"},outputs:{sendUpdates:"sendUpdates"},standalone:!0,features:[D],decls:15,vars:5,consts:[["color",""],["size",""],[1,"row","text-start","p-2"],[1,"col-md-12","p-1"],["class","btn shadow-none border-0",3,"click",4,"ngFor","ngForOf"],[1,"col-12","p-1"],["for","colors",1,"p-2","fs-4"],["name","colors","id","colors","onfocus","this.size=5","onblur","this.size=1","onchange","this.blur()",1,"form-select","w-100",3,"change","ngClass"],[3,"value","class","click",4,"ngFor","ngForOf"],["for","sizes",1,"p-2","fs-4"],["name","sizes","id","sizes","onfocus","this.size=3","onblur","this.size=1","onchange","this.blur()",1,"form-select","text-start","w-100",3,"change","ngClass"],[1,"btn","shadow-none","border-0",3,"click"],[3,"ngClass"],[3,"click","value"]],template:function(e,t){if(e&1){let o=v();s(0,"div",2)(1,"div",3),u(2,Qr,2,4,"button",4),r(),s(3,"div",5)(4,"label",6),l(5,"Color "),r(),s(6,"select",7,0),p("change",function(){h(o);let C=S(7);return _(t.selectItems(C.value))}),u(8,Xr,2,5,"option",8),r()(),s(9,"div",5)(10,"label",9),l(11,"Size "),r(),s(12,"select",10,1),p("change",function(){h(o);let C=S(13);return _(t.selectItems(C.value))}),u(14,Jr,2,5,"option",8),r()()()}if(e&2){let o=S(7),m=S(13);a(2),c("ngForOf",t.icons),a(4),c("ngClass",o.value),a(2),c("ngForOf",t.colors),a(4),c("ngClass",m.value),a(2),c("ngForOf",t.sizes)}},dependencies:[z,A],styles:[".h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{font-family:Just Me Again Down Here,cursive;font-weight:400;font-style:normal}h1[_ngcontent-%COMP%]{font-size:80px}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:120px}.bg-personal[_ngcontent-%COMP%]{background-color:gray}"]})};var Zr=["descrizione"],Kr=(i,n)=>[i,n];function es(i,n){if(i&1){let e=v();s(0,"button",20),p("click",function(){let o=h(e).$implicit,m=d(2);return _(m.updateDescrizioneClasslist(o.value))}),f(1,"i",21),r()}if(i&2){let e=n.$implicit,t=d(2);a(),ni(Ei(2,Kr,e.label,t.mode=="light"?"text-dark":"text-white"))}}function ts(i,n){if(i&1){let e=v();s(0,"div",3)(1,"div",4)(2,"label",5),l(3,"Descrizione"),r(),s(4,"div",3)(5,"div",6)(6,"app-text-editor",7),p("sendUpdates",function(o){h(e);let m=d();return _(m.onReceiveUpdatesFromTextEditor(o))}),r()(),s(7,"div",8)(8,"div",9)(9,"div",10),u(10,es,2,5,"button",11),r()()(),s(11,"div",12)(12,"app-emoji",13),p("sendEmoji",function(o){h(e);let m=d();return _(m.onReceiveEmoji(o))}),r()()(),s(13,"div",14,0),p("input",function(){h(e);let o=S(14),m=d();return _(m.calculateRemainingCharacters(o))}),r(),s(15,"p",15),l(16,"Caratteri a disposizione : "),s(17,"span",16),l(18),r()()(),s(19,"div",17)(20,"button",18),p("click",function(){h(e);let o=S(14),m=d();return _(m.aggiungiDescrizione(o))}),l(21,"Aggiorna descrizione"),r(),s(22,"button",19),p("click",function(){h(e);let o=S(14),m=d();return o.innerHTML="",m.descrizioneInnerHTML="",_(m.calculateRemainingCharacters(o))}),l(23,"Pulisci"),r()()()}if(i&2){let e=S(14),t=d();a(6),c("textareaInnerHTML",t.descrizioneInnerHTML)("remainingCharacters",t.remainingCharacters),a(4),c("ngForOf",t.textStyles),a(7),c("ngClass",t.remainingCharacters>3e3?"text-success":t.remainingCharacters>1e3&&t.remainingCharacters<=3e3?"text-warning":"text-danger"),a(),x(t.remainingCharacters),a(2),c("disabled",e.innerHTML.length>5e3),a(2),c("disabled",e.innerHTML.length==0||(e==null?null:e.innerHTML)==="<br>"&&e.innerHTML.length===4)}}function is(i,n){i&1&&(s(0,"div",3),f(1,"app-spinner"),r())}var Kt=class i{constructor(n,e,t,o,m){this.profiloService=n;this.authService=e;this.toastr=t;this.cdr=o;this.modeService=m;this.modeService.mode.subscribe(C=>{this.mode=C})}remainingCharacters=5e3;visitedUser=null;descrizioneInnerHTML="";addedOptions=[];descrizione;isDescrizioneLoading=!0;textStyles=[{value:"text-start",label:"bi-text-left"},{value:"text-center",label:"bi-text-center"},{value:"text-end",label:"bi-text-right"}];mode="light";ngOnInit(){setTimeout(()=>{this.isDescrizioneLoading=!1,setTimeout(()=>{var n=this.visitedUser?.descrizione?.innerHTML;this.descrizione.nativeElement.innerHTML=n==null||n==null?"":n,this.descrizione?.nativeElement?.classList.contains(this.visitedUser?.descrizione.textAlignment)||this.descrizione?.nativeElement?.classList.add(this.visitedUser?.descrizione.textAlignment),this.calculateRemainingCharacters(this.descrizione.nativeElement)},500)},2e3)}calculateRemainingCharacters(n){let e=n?.innerHTML==="<br>"&&n.innerHTML.length===4||n.innerHTML.length==0,t=e?0:n?.innerText?.length;n?.innerText?.length<=5e3?this.remainingCharacters=5e3-t:(this.remainingCharacters=0,n.innerText=n?.innerText?.substring(0,5e3),n?.innerText?.length<5e3&&(this.remainingCharacters=5e3-t)),e&&(n.innerHTML="")}aggiungiDescrizione(n){n?.innerHTML==="<br>"&&n.innerHTML.length===4&&(n.innerHTML=""),n.innerHTML.length<=5e3?this.profiloService.updateDescrizione({textAlignment:n.classList.contains("text-center")?"text-center":n.classList.contains("text-end")?"text-end":n.classList.contains("text-start")?"text-start":"text-center",innerHTML:n.innerHTML}).subscribe({next:t=>{this.authService.setUser(t),this.authService.authenticateUser(!0),this.visitedUser=t,localStorage.setItem("visitedUser",JSON.stringify(t)),this.toastr.success("Descrizione aggiornata con successo.")}}):this.toastr.warning(`Aggiungi una descrizione valida. Ricordati : 
  meno di 5000 caratteri.`)}onReceiveUpdatesFromTextEditor(n){n.classList.contains("under-through")?n.style="text-decoration:underline line-through;":n.classList.contains("underline")?n.style="text-decoration:underline;":n.classList.contains("line-through")&&(n.style="text-decoration:line-through;");let e=n.outerHTML.replaceAll("&amp;nbsp;"," ").replaceAll("&lt;div&gt;","<div>").replaceAll("&lt;br&gt;","<br>").replaceAll("&lt;/div&gt;","<div>");this.descrizione.nativeElement.innerHTML+=e}checkTextAreaElements(){}ngAfterContentChecked(){this.cdr.detectChanges()}updateDescrizioneClasslist(n){this.descrizione.nativeElement.classList.contains(n)?this.descrizione.nativeElement.classList.remove(n):(this.descrizione.nativeElement.classList.contains("text-center")?this.descrizione.nativeElement.classList.remove("text-center"):this.descrizione.nativeElement.classList.contains("text-start")?this.descrizione.nativeElement.classList.remove("text-start"):this.descrizione.nativeElement.classList.contains("text-end")&&this.descrizione.nativeElement.classList.remove("text-end"),this.descrizione.nativeElement.classList.add(n))}onReceiveEmoji(n){this.descrizione.nativeElement.innerHTML+=n,this.calculateRemainingCharacters(this.descrizione.nativeElement)}static \u0275fac=function(e){return new(e||i)(g(ue),g(q),g(H),g(ae),g(le))};static \u0275cmp=I({type:i,selectors:[["app-descrizione"]],viewQuery:function(e,t){if(e&1&&Ce(Zr,5),e&2){let o;be(o=xe())&&(t.descrizione=o.first)}},inputs:{visitedUser:"visitedUser"},standalone:!0,features:[D],decls:3,vars:2,consts:[["descrizione",""],[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-12"],[1,"form-label","fs-4","text-danger"],[1,"col-sm-4"],[3,"sendUpdates","textareaInnerHTML","remainingCharacters"],[1,"col-sm-3"],[1,"p-2"],[1,"p-1"],["class","btn shadow-none border-0",3,"click",4,"ngFor","ngForOf"],[1,"col-sm-5"],[3,"sendEmoji"],["placeholder","max 5000 caratteri ....","contenteditable","true",1,"p-5","border","border-secondary","shadow","bg-white","text-center","text-dark","rounded","shadow",3,"input"],[1,"text-end"],[1,"fw-bolder","fs-5",3,"ngClass"],[1,"col-md-12","d-flex","justify-content-around"],["type","button",1,"btn","mt-2","border-0",3,"click","disabled"],["type","button",1,"btn","mt-2","btn-danger","border-0",3,"click","disabled"],[1,"btn","shadow-none","border-0",3,"click"],[1,"h3"]],template:function(e,t){e&1&&(s(0,"div",1),u(1,ts,24,7,"div",2)(2,is,2,0,"div",2),r()),e&2&&(a(),c("ngIf",!t.isDescrizioneLoading),a(),c("ngIf",t.isDescrizioneLoading))},dependencies:[Xt,Zt,N,z,V,Qe,Oe,A]})};function ns(i,n){if(i&1&&(s(0,"span"),l(1),r()),i&2){let e=d().$implicit;a(),x(e.toUpperCase())}}function os(i,n){if(i&1){let e=v();s(0,"li",18),p("click",function(){let o=h(e).$implicit,m=d(5);return _(m.setImpostazioniSection(o))}),l(1),r()}if(i&2){let e=n.$implicit;a(),b(" ",e.toUpperCase(),"")}}function rs(i,n){if(i&1&&(s(0,"ul",16),u(1,os,2,1,"li",17),r()),i&2){let e=d(4);a(),c("ngForOf",e.sottomenu)}}function ss(i,n){if(i&1&&(s(0,"div")(1,"span"),l(2),r(),u(3,rs,2,1,"ul",15),r()),i&2){let e=d().$implicit,t=d(2);a(2),x(e.toUpperCase()),a(),c("ngIf",t.section=="Impostazioni")}}function as(i,n){if(i&1){let e=v();s(0,"li",14),p("click",function(){let o=h(e).$implicit,m=d(2);return _(m.switchSection(o))}),u(1,ns,2,1,"span",10)(2,ss,4,2,"div",10),r()}if(i&2){let e=n.$implicit,t=d(2);a(),c("ngIf",e!="Impostazioni"),a(),c("ngIf",e=="Impostazioni"&&t.authService.getUser().id==t.visitedUser.id)}}function ls(i,n){if(i&1&&(s(0,"div",11)(1,"ul",12),u(2,as,3,2,"li",13),r()()),i&2){let e=d();a(2),c("ngForOf",e.menuVoices)}}function cs(i,n){if(i&1&&(s(0,"span"),l(1),r()),i&2){let e=d().$implicit;a(),x(e.toUpperCase())}}function ms(i,n){if(i&1){let e=v();s(0,"li",18),p("click",function(){let o=h(e).$implicit,m=d(6);return _(m.setImpostazioniSection(o))}),l(1),r()}if(i&2){let e=n.$implicit;a(),b(" ",e.toUpperCase(),"")}}function ds(i,n){if(i&1&&(s(0,"ul",16),u(1,ms,2,1,"li",17),r()),i&2){let e=d(5);a(),c("ngForOf",e.sottomenu)}}function ps(i,n){if(i&1&&(s(0,"div")(1,"span"),l(2),r(),u(3,ds,2,1,"ul",15),r()),i&2){let e=d().$implicit,t=d(3);a(2),x(e.toUpperCase()),a(),c("ngIf",t.section=="Impostazioni")}}function us(i,n){if(i&1){let e=v();s(0,"li",14),p("click",function(){let o=h(e).$implicit,m=d(3);return _(m.switchSection(o))}),u(1,cs,2,1,"span",10)(2,ps,4,2,"div",10),r()}if(i&2){let e=n.$implicit,t=d(3);a(),c("ngIf",e!="Impostazioni"),a(),c("ngIf",e=="Impostazioni"&&t.authService.getUser().id==t.visitedUser.id)}}function fs(i,n){if(i&1&&(s(0,"div",23)(1,"div",24)(2,"ul",12),u(3,us,3,2,"li",13),r()()()),i&2){let e=d(2);a(),c("ngClass",e.mode=="light"?"text-dark bg-light":"text-light bg-secondary"),a(2),c("ngForOf",e.menuVoices)}}function gs(i,n){if(i&1){let e=v();s(0,"div",19)(1,"button",20),p("click",function(){h(e);let o=d();return _(o.showMenu=!o.showMenu)}),f(2,"i",21),r()(),u(3,fs,4,2,"div",22)}if(i&2){let e=d();a(2),c("ngClass",e.mode=="light"?"text-dark":"text-light"),a(),c("ngIf",e.showMenu)}}function hs(i,n){if(i&1&&f(0,"map-advanced-marker",40),i&2){let e=n.$implicit;c("position",e)}}function _s(i,n){if(i&1&&(s(0,"div",37)(1,"google-map",38),u(2,hs,1,1,"map-advanced-marker",39),r()()),i&2){let e=d(2);a(),c("options",e.mapOptions)("width","100%"),a(),c("ngForOf",e.markers)}}function vs(i,n){if(i&1&&(s(0,"div")(1,"div",25),f(2,"div",26),s(3,"p",27),l(4),r()(),s(5,"div",28)(6,"div",29)(7,"div",30)(8,"div",29)(9,"div",31)(10,"p",32),l(11,"Nome"),r(),l(12),r(),s(13,"div",31)(14,"p",32),l(15,"Cognome"),r(),l(16),r()()(),s(17,"div",33)(18,"p",32),l(19,"Email"),r(),l(20),r(),s(21,"div",34)(22,"p",32),l(23,"Citt\xE0"),r(),l(24),r(),s(25,"div",34)(26,"p",32),l(27,"Profilo creato in data"),r(),l(28),r(),s(29,"div"),f(30,"app-descrizione",35),r(),u(31,_s,3,3,"div",36),r()()()),i&2){let e=d();a(2),rt("background-image","url('",e.visitedUser==null?null:e.visitedUser.immagineProfilo,"')"),a(2),x(e.visitedUser==null?null:e.visitedUser.fullName),a(8),b(" ",e.visitedUser==null?null:e.visitedUser.nome," "),a(4),b(" ",e.visitedUser==null?null:e.visitedUser.cognome," "),a(4),b(" ",e.visitedUser==null?null:e.visitedUser.email," "),a(4),b(" ",e.visitedUser==null||e.visitedUser.citta==null?null:e.visitedUser.citta.nome," "),a(4),b(" ",e.formatDate(e.visitedUser.createdAt)," "),a(2),c("visitedUser",e.visitedUser),a(),c("ngIf",e.mapOptions)}}function Cs(i,n){if(i&1&&(s(0,"option",51),l(1),r()),i&2){let e=n.$implicit;c("value",e.values),a(),x(e.label)}}function bs(i,n){if(i&1&&(s(0,"option",51),l(1),r()),i&2){let e=n.$implicit;c("value",e),a(),x(e)}}function xs(i,n){if(i&1&&f(0,"i",66),i&2){let e=n.index,t=d().$implicit;c("ngClass",e+1<=(t==null?null:t.punteggio)?"textg-warning":"d-none")}}function ys(i,n){if(i&1&&(s(0,"div",53)(1,"div",54)(2,"div",55),f(3,"img",56),s(4,"p",57),l(5),r()(),s(6,"div",58)(7,"div",59),u(8,xs,1,1,"i",60),r(),s(9,"div")(10,"p",61),f(11,"img",62),s(12,"span",63),l(13),r()(),s(14,"p",64),l(15),r(),s(16,"p",65),l(17),r()()()()()),i&2){let e=n.$implicit,t=d(3);a(2),c("ngClass",t.mode=="light"?"bg-light":"bg-secondary text-light"),a(),E("src","data:image/png;base64,"+(e==null?null:e.giocoImage),L),a(2),b(" ",e==null?null:e.giocoName," "),a(),c("ngClass",t.mode=="light"?"bg-light":"bg-personal text-light"),a(2),c("ngForOf",t.validationPoints),a(3),E("src",e==null?null:e.userProfileImage,L),a(2),x(e==null?null:e.userFullName),a(2),b(" ",e==null?null:e.commento," "),a(2),b(" ",e==null?null:e.createdAt," ")}}function Is(i,n){if(i&1&&(s(0,"div",42)(1,"div",29),u(2,ys,18,9,"div",52),r()()),i&2){let e=d(2);a(2),c("ngForOf",e.recensioni==null?null:e.recensioni.content)}}function Ss(i,n){if(i&1){let e=v();s(0,"button",69),p("click",function(){h(e);let o=d(3);return o.recePage=o.recePage-1,_(o.getRecensioni())}),f(1,"i",70),r()}}function ws(i,n){if(i&1){let e=v();s(0,"button",69),p("click",function(){h(e);let o=d(3);return o.recePage=o.recePage+1,_(o.getRecensioni())}),f(1,"i",71),r()}}function Es(i,n){if(i&1&&(s(0,"div",67),u(1,Ss,2,0,"button",68)(2,ws,2,0,"button",68),r()),i&2){let e=d(2);a(),c("ngIf",(e.recensioni==null?null:e.recensioni.first)==!1),a(),c("ngIf",(e.recensioni==null?null:e.recensioni.last)==!1)}}function Ts(i,n){if(i&1&&(s(0,"h2"),l(1),r()),i&2){let e=d(3);a(),b("",e.visitedUser==null?null:e.visitedUser.fullName," non ha ancora lasciato recensioni.")}}function Ps(i,n){i&1&&(s(0,"h2"),l(1,"Non hai ancora lasciato recensioni. "),r())}function Os(i,n){if(i&1&&(s(0,"div",42),u(1,Ts,2,1,"h2",10)(2,Ps,2,0,"h2",10),r()),i&2){let e=d(2);a(),c("ngIf",e.authService.getUser().id!=(e.visitedUser==null?null:e.visitedUser.id)),a(),c("ngIf",e.authService.getUser().id==(e.visitedUser==null?null:e.visitedUser.id))}}function Ds(i,n){if(i&1){let e=v();s(0,"div")(1,"div",41)(2,"div",42)(3,"h2"),l(4,"Recensioni"),r()(),s(5,"div",43)(6,"div",44)(7,"label",45),l(8,"Ordina per"),r(),s(9,"select",46,1),p("change",function(){h(e);let o=S(10),m=d();return m.receSortOrder=o.value.substring(o.value.lastIndexOf(",")+1),m.receOrderBy=o.value.split("",o.value.length-o.value.substring(o.value.lastIndexOf(",")).length).join().replaceAll(",",""),_(m.getRecensioni())}),u(11,Cs,2,2,"option",47),r()(),s(12,"div",44)(13,"label",45),l(14,"Elementi per pagina"),r(),s(15,"select",48,2),p("change",function(){h(e);let o=S(16),m=d();return m.receSize=m.toNumber(o.value),_(m.getRecensioni())}),u(17,bs,2,2,"option",47),r()()(),u(18,Is,3,1,"div",49)(19,Es,3,2,"div",50)(20,Os,3,2,"div",49),r()()}if(i&2){let e=d();a(11),c("ngForOf",e.ordinaArray),a(6),c("ngForOf",e.sizes),a(),c("ngIf",(e.recensioni==null||e.recensioni.content==null?null:e.recensioni.content.length)>0),a(),c("ngIf",e.recensioni&&(e.recensioni==null||e.recensioni.content==null?null:e.recensioni.content.length)>0),a(),c("ngIf",e.recensioni==null||(e.recensioni==null||e.recensioni.content==null?null:e.recensioni.content.length)==0)}}function Ms(i,n){if(i&1&&(s(0,"h2"),l(1),r()),i&2){let e=d(3);a(),b("",e.visitedUser==null?null:e.visitedUser.fullName," non ha ancora vinto trofei.")}}function ks(i,n){i&1&&(s(0,"h2"),l(1,"Non hai ancora vinto trofei."),r())}function As(i,n){if(i&1&&(s(0,"div",42),u(1,Ms,2,1,"h2",10)(2,ks,2,0,"h2",10),r()),i&2){let e=d(2);a(),c("ngIf",e.authService.getUser().id!=(e.visitedUser==null?null:e.visitedUser.id)),a(),c("ngIf",e.authService.getUser().id==(e.visitedUser==null?null:e.visitedUser.id))}}function Fs(i,n){if(i&1&&(s(0,"div",74)(1,"div",75)(2,"p",76),l(3),r(),f(4,"img",77),s(5,"p",78),l(6),r()()()),i&2){let e=n.$implicit,t=d(3);a(2),c("ngClass",t.mode=="light"?"bg-light":"bg-secondary text-light"),a(),b(" ",e==null||e.gioco==null?null:e.gioco.nomeGioco," "),a(3),b(" ",e==null?null:e.createdAt," ")}}function Rs(i,n){if(i&1&&(s(0,"div",28)(1,"div",29)(2,"div",42)(3,"h2"),l(4,"I tuoi trofei"),r()(),u(5,Fs,7,3,"div",73),r()()),i&2){let e=d(2);a(5),c("ngForOf",e.trofei==null?null:e.trofei.content)}}function zs(i,n){if(i&1){let e=v();s(0,"button",81),p("click",function(){h(e);let o=d(3);return o.trofeiPage=0,_(o.getTrofei())}),l(1,"First"),r()}}function Vs(i,n){if(i&1){let e=v();s(0,"button",20),p("click",function(){h(e);let o=d(3);return o.trofeiPage=o.trofeiPage-1,_(o.getTrofei())}),f(1,"i",82),r()}}function Ls(i,n){if(i&1){let e=v();s(0,"button",81),p("click",function(){h(e);let o=d(3);return o.trofeiPage=o.trofeiPage+1,_(o.getTrofei())}),f(1,"i",83),r()}}function Ns(i,n){if(i&1){let e=v();s(0,"button",20),p("click",function(){h(e);let o=d(3);return o.trofeiPage=(o.trofei==null?null:o.trofei.totalPages)-1,_(o.getTrofei())}),l(1,"Last"),r()}}function js(i,n){if(i&1&&(s(0,"div",28),u(1,zs,2,0,"button",79)(2,Vs,2,0,"button",80)(3,Ls,2,0,"button",79)(4,Ns,2,0,"button",80),r()),i&2){let e=d(2);a(),c("ngIf",!(e.trofei!=null&&e.trofei.first)),a(),c("ngIf",!(e.trofei!=null&&e.trofei.first)),a(),c("ngIf",!(e.trofei!=null&&e.trofei.last)),a(),c("ngIf",!(e.trofei!=null&&e.trofei.last))}}function Us(i,n){if(i&1&&(s(0,"div")(1,"div",29)(2,"div",42)(3,"h2"),l(4,"Trofei"),r()(),u(5,As,3,2,"div",49)(6,Rs,6,1,"div",72)(7,js,5,4,"div",72),r()()),i&2){let e=d();a(5),c("ngIf",!e.trofei||!(e.trofei!=null&&e.trofei.content)||(e.trofei==null||e.trofei.content==null?null:e.trofei.content.length)==0),a(),c("ngIf",e.trofei&&(e.trofei==null?null:e.trofei.content)&&(e.trofei==null||e.trofei.content==null?null:e.trofei.content.length)>0),a(),c("ngIf",e.trofei&&(e.trofei==null?null:e.trofei.content)&&(e.trofei==null||e.trofei.content==null?null:e.trofei.content.length)>0)}}function Gs(i,n){if(i&1&&(s(0,"option",51),l(1),r()),i&2){let e=n.$implicit;E("value",e.values),a(),x(e.label)}}function $s(i,n){if(i&1&&f(0,"p",101),i&2){let e=n.index,t=d().$implicit;B("p-2 border border-dark rounded-circle ",e+1<=t.difficolta?"d-block":"d-none"," m-1"),c("ngClass",t.difficolta<=2?"bg-success":t.difficolta<=4?"bg-warning":"bg-danger")}}function Bs(i,n){if(i&1){let e=v();s(0,"div",89)(1,"div",90)(2,"div",91),f(3,"img",92),r(),s(4,"div",93)(5,"h2"),l(6),r()(),s(7,"div",94)(8,"p",95),l(9),r(),s(10,"div",96),u(11,$s,1,4,"p",97),r()()(),s(12,"div",98),p("click",function(){let o=h(e).$implicit,m=d(2);return _(m.openGameDialog(o))}),s(13,"p",99),l(14," VAI AL GIOCO "),r(),f(15,"i",100),r()()}if(i&2){let e=n.$implicit,t=d(2);a(),c("ngClass",t.mode=="light"?"bg-light":"bg-personal text-light"),a(2),E("src","data:image/png;base64,"+(e==null?null:e.image),L),a(3),x(e.nomeGioco),a(2),c("ngClass",t.mode=="light"?"bg-light":"bg-secondary text-light"),a(),b("Livello di difficolt\xE0 : ",e.difficolta<=2?"FACILE":e.difficolta>2&&e.difficolta<=4?"MEDIO":"DIFFICILE"," "),a(2),c("ngForOf",t.circles),a(2),c("ngClass",e.difficolta<=2?"text-success":e.difficolta<=4?"text-warning":"text-danger")}}function Hs(i,n){if(i&1&&(s(0,"h2"),l(1),r()),i&2){let e=d(3);a(),b("",e.visitedUser==null?null:e.visitedUser.fullName," non ha giocato a nessun gioco ancora.")}}function qs(i,n){i&1&&(s(0,"h2"),l(1,"Non hai giocato a nessun gioco ancora."),r())}function Ys(i,n){if(i&1&&(s(0,"div",102),u(1,Hs,2,1,"h2",10)(2,qs,2,0,"h2",10),r()),i&2){let e=d(2);a(),c("ngIf",e.authService.getUser().id!=(e.visitedUser==null?null:e.visitedUser.id)),a(),c("ngIf",e.authService.getUser().id==(e.visitedUser==null?null:e.visitedUser.id))}}function Ws(i,n){if(i&1){let e=v();s(0,"button",81),p("click",function(){h(e);let o=d(3);return o.giochiPage=0,_(o.getGiochi())}),l(1,"First"),r()}}function Qs(i,n){if(i&1){let e=v();s(0,"button",20),p("click",function(){h(e);let o=d(3);return o.giochiPage=o.giochiPage-1,_(o.getGiochi())}),f(1,"i",82),r()}}function Xs(i,n){if(i&1){let e=v();s(0,"button",81),p("click",function(){h(e);let o=d(3);return o.giochiPage=o.giochiPage+1,_(o.getGiochi())}),f(1,"i",83),r()}}function Js(i,n){if(i&1){let e=v();s(0,"button",20),p("click",function(){h(e);let o=d(3);return o.giochiPage=(o.giochi==null?null:o.giochi.totalPages)-1,_(o.getGiochi())}),l(1,"Last"),r()}}function Zs(i,n){if(i&1&&(s(0,"div",42),u(1,Ws,2,0,"button",79)(2,Qs,2,0,"button",80)(3,Xs,2,0,"button",79)(4,Js,2,0,"button",80),r()),i&2){let e=d(2);a(),c("ngIf",!(e.giochi!=null&&e.giochi.first)),a(),c("ngIf",!(e.giochi!=null&&e.giochi.first)),a(),c("ngIf",!(e.giochi!=null&&e.giochi.last)),a(),c("ngIf",!(e.giochi!=null&&e.giochi.last))}}function Ks(i,n){if(i&1){let e=v();s(0,"div")(1,"div",84)(2,"div",41)(3,"div",28)(4,"h2"),l(5,"Giochi "),r()(),f(6,"div",30),s(7,"div",30)(8,"label",85),l(9,"Ordina per"),r(),s(10,"select",86,3),p("change",function(){h(e);let o=S(11),m=d();return m.giochiSortOrder=o.value.substring(o.value.lastIndexOf(",")+1),m.giochiOrderBy=o.value.split("",o.value.length-o.value.substring(o.value.lastIndexOf(",")).length).join().replaceAll(",",""),_(m.getGiochi())}),u(12,Gs,2,2,"option",47),r()(),u(13,Bs,16,7,"div",87)(14,Ys,3,2,"div",88)(15,Zs,5,4,"div",49),r()()()}if(i&2){let e=d();a(12),c("ngForOf",e.ordinaGiocoArray),a(),c("ngForOf",e.giochi==null?null:e.giochi.content),a(),c("ngIf",e.giochi==null||(e.giochi==null||e.giochi.content==null?null:e.giochi.content.length)==0),a(),c("ngIf",e.giochi&&(e.giochi==null?null:e.giochi.content))}}function ea(i,n){if(i&1&&(s(0,"h2"),l(1),r()),i&2){let e=d(3);a(),b("Al momento, ",e.visitedUser==null?null:e.visitedUser.fullName," non partecipa a nessuna classifica.")}}function ta(i,n){i&1&&(s(0,"h2"),l(1,"Al momento non partecipi a nessuna classifica."),r())}function ia(i,n){if(i&1&&(s(0,"div",42),u(1,ea,2,1,"h2",10)(2,ta,2,0,"h2",10),r()),i&2){let e=d(2);a(),c("ngIf",e.authService.getUser().id!=(e.visitedUser==null?null:e.visitedUser.id)),a(),c("ngIf",e.authService.getUser().id==(e.visitedUser==null?null:e.visitedUser.id))}}function na(i,n){if(i&1){let e=v();s(0,"div",104)(1,"div",75)(2,"p",105),l(3,"Classifica "),r(),s(4,"p",106),l(5),r(),s(6,"p",107)(7,"button",108),p("click",function(){let o=h(e).$implicit,m=d(3);return _(m.goToRanking(o))}),f(8,"i",109),r()()()()}if(i&2){let e=n.$implicit,t=d(3);a(2),c("ngClass",t.mode=="light"?"bg-light":"bg-secondary text-light"),a(3),b(" ",e==null||e.gioco==null?null:e.gioco.nomeGioco," ")}}function oa(i,n){if(i&1){let e=v();s(0,"button",81),p("click",function(){h(e);let o=d(3);return o.classifichePage=0,_(o.getClassifiche())}),l(1,"First"),r()}}function ra(i,n){if(i&1){let e=v();s(0,"button",20),p("click",function(){h(e);let o=d(3);return o.classifichePage=o.classifichePage-1,_(o.getClassifiche())}),f(1,"i",82),r()}}function sa(i,n){if(i&1){let e=v();s(0,"button",81),p("click",function(){h(e);let o=d(3);return o.classifichePage=o.classifichePage+1,_(o.getClassifiche())}),f(1,"i",83),r()}}function aa(i,n){if(i&1){let e=v();s(0,"button",20),p("click",function(){h(e);let o=d(3);return o.classifichePage=(o.classifiche==null?null:o.classifiche.totalPages)-1,_(o.getClassifiche())}),l(1,"Last"),r()}}function la(i,n){if(i&1&&(s(0,"div",42)(1,"div",29),u(2,na,9,2,"div",103),s(3,"div",42),u(4,oa,2,0,"button",79)(5,ra,2,0,"button",80)(6,sa,2,0,"button",79)(7,aa,2,0,"button",80),r()()()),i&2){let e=d(2);a(2),c("ngForOf",e.classifiche==null?null:e.classifiche.content),a(2),c("ngIf",!(e.classifiche!=null&&e.classifiche.first)),a(),c("ngIf",!(e.classifiche!=null&&e.classifiche.first)),a(),c("ngIf",!(e.classifiche!=null&&e.classifiche.last)),a(),c("ngIf",!(e.classifiche!=null&&e.classifiche.last))}}function ca(i,n){if(i&1&&(s(0,"div")(1,"div",29),u(2,ia,3,2,"div",49)(3,la,8,5,"div",49),r()()),i&2){let e=d();a(2),c("ngIf",!e.classifiche||!(e.classifiche!=null&&e.classifiche.content)||(e.classifiche==null||e.classifiche.content==null?null:e.classifiche.content.length)==0),a(),c("ngIf",e.classifiche&&(e.classifiche==null?null:e.classifiche.content)&&(e.classifiche==null||e.classifiche.content==null?null:e.classifiche.content.length)>0)}}function ma(i,n){i&1&&(s(0,"div",7)(1,"h2"),l(2,"Le tue partite"),r()())}function da(i,n){if(i&1&&(s(0,"h2"),l(1),r()),i&2){let e=d(3);a(),b("",e.visitedUser==null?null:e.visitedUser.fullName," non ha ancora giocato!")}}function pa(i,n){i&1&&(s(0,"h2"),l(1,"Non hai ancora giocato!"),r())}function ua(i,n){if(i&1&&(s(0,"div",42),u(1,da,2,1,"h2",10)(2,pa,2,0,"h2",10),r()),i&2){let e=d(2);a(),c("ngIf",e.authService.getUser().id!=(e.visitedUser==null?null:e.visitedUser.id)),a(),c("ngIf",e.authService.getUser().id==(e.visitedUser==null?null:e.visitedUser.id))}}function fa(i,n){if(i&1&&(s(0,"option",51),l(1),r()),i&2){let e=n.$implicit;E("value",e.values),a(),x(e.label)}}function ga(i,n){if(i&1){let e=v();s(0,"div",30)(1,"label",85),l(2,"Ordina per : "),r(),s(3,"select",112,3),p("change",function(){h(e);let o=S(4),m=d(2);return m.partiteSortOrder=o.value.substring(o.value.indexOf(",")+1),m.partiteOrderBy=o.value.substring(0,o.value.indexOf(",")),_(m.getPartite())})("mousedown",function(){h(e);let o=S(4);return _(o.size=5)})("change",function(){h(e);let o=S(4);return _(o.blur())})("blur",function(){h(e);let o=S(4);return _(o.size=1)}),u(5,fa,2,2,"option",47),r()()}if(i&2){let e=d(2);a(5),c("ngForOf",e.ordinaPartiteArray)}}function ha(i,n){i&1&&(s(0,"p"),l(1,"La partita non prevede punteggio."),r())}function _a(i,n){if(i&1&&(s(0,"p"),l(1),r()),i&2){let e=d().$implicit;a(),b("Punteggio : ",e==null||e.punteggio==null?null:e.punteggio.punteggio," ")}}function va(i,n){if(i&1&&(s(0,"div",89)(1,"div",75)(2,"p",101),l(3),r(),s(4,"div",113),f(5,"img",114),s(6,"p",115),l(7),r()(),s(8,"div",78)(9,"p"),l(10,"Esito partita : "),s(11,"span",116),l(12),r()()(),s(13,"div",78),u(14,ha,2,0,"p",10)(15,_a,2,1,"p",10),r()()()),i&2){let e=n.$implicit,t=d(2);a(2),c("ngClass",t.mode=="light"?"bg-light p-2":"bg-secondary text-light p-2"),a(),x(e.id+" - "+e.createdAt),a(2),E("src","data:image/png;base64,"+(e==null||e.gioco==null?null:e.gioco.image),L),a(2),b(" - ",e==null||e.gioco==null?null:e.gioco.nomeGioco,""),a(4),c("ngClass",t.calculateEsito(e==null?null:e.esito)),a(),x(e==null?null:e.esito),a(2),c("ngIf",!(e!=null&&e.punteggio)),a(),c("ngIf",(e==null?null:e.punteggio)!=null)}}function Ca(i,n){if(i&1){let e=v();s(0,"button",81),p("click",function(){h(e);let o=d(3);return o.partitePage=0,_(o.getPartite())}),l(1,"First"),r()}}function ba(i,n){if(i&1){let e=v();s(0,"button",20),p("click",function(){h(e);let o=d(3);return o.partitePage=o.partitePage-1,_(o.getPartite())}),f(1,"i",82),r()}}function xa(i,n){if(i&1){let e=v();s(0,"button",81),p("click",function(){h(e);let o=d(3);return o.partitePage=o.partitePage+1,_(o.getPartite())}),f(1,"i",83),r()}}function ya(i,n){if(i&1){let e=v();s(0,"button",20),p("click",function(){h(e);let o=d(3);return o.partitePage=(o.partite==null?null:o.partite.totalPages)-1,_(o.getPartite())}),l(1,"Last"),r()}}function Ia(i,n){if(i&1&&(s(0,"div",42),u(1,Ca,2,0,"button",79)(2,ba,2,0,"button",80)(3,xa,2,0,"button",79)(4,ya,2,0,"button",80),r()),i&2){let e=d(2);a(),c("ngIf",!(e.partite!=null&&e.partite.first)),a(),c("ngIf",!(e.partite!=null&&e.partite.first)),a(),c("ngIf",!(e.partite!=null&&e.partite.last)),a(),c("ngIf",!(e.partite!=null&&e.partite.last))}}function Sa(i,n){if(i&1&&(s(0,"div")(1,"div",29),u(2,ma,3,0,"div",110)(3,ua,3,2,"div",49),f(4,"div",30),u(5,ga,6,1,"div",111)(6,va,16,8,"div",87)(7,Ia,5,4,"div",49),r()()),i&2){let e=d();a(2),c("ngIf",e.partite&&(e.partite==null?null:e.partite.content)&&(e.partite==null||e.partite.contet==null?null:e.partite.contet.size)>0),a(),c("ngIf",!e.partite||!(e.partite!=null&&e.partite.content)||(e.partite==null||e.partite.content==null?null:e.partite.content.length)==0),a(2),c("ngIf",e.partite&&(e.partite==null?null:e.partite.content)&&(e.partite==null||e.partite.content==null?null:e.partite.content.length)>0),a(),c("ngForOf",e.partite==null?null:e.partite.content),a(),c("ngIf",e.partite&&(e.partite==null?null:e.partite.content))}}function wa(i,n){if(i&1&&(s(0,"div"),f(1,"app-impostazioni",117),r()),i&2){let e=d();a(),c("section",e.impostazioniSection)("user",e.visitedUser)}}function Ea(i,n){if(i&1&&(s(0,"div"),f(1,"app-preferiti",118),r()),i&2){let e=d();a(),c("userInput",e.visitedUser)}}var ei=class i{constructor(n,e,t,o,m,C,y,P,he,F){this.route=n;this.router=e;this.profiloService=t;this.gamefieldService=o;this.matDialog=m;this.authService=C;this.modeService=y;this.httpClient=P;this.toastr=he;this.cdr=F;this.authService.isAuthenticatedUser.subscribe(Me=>{this.user=this.authService.getUser(),this.visitedUser?.id==this.user?.id&&(this.visitedUser=this.authService.getUser(),this.getCoordinates(),this.menuVoices.add("Impostazioni"),this.menuVoices.delete("Preferiti"),localStorage.setItem("visitedUser",JSON.stringify(this.visitedUser)))}),this.modeService.mode.subscribe(Me=>{this.mode=Me})}id=0;visitedUser;user;recePage=0;receSize=5;receOrderBy="punteggio";receSortOrder="ASC";recensioni=null;giochiPage=0;giochiSize=5;giochiOrderBy="id";giochiSortOrder="ASC";giochi=null;validationPoints=[1,2,3,4,5];gioco=null;ordinaArray=[{label:"Punteggio migliore",values:["punteggio","DESC"]},{label:"Punteggio peggiore",values:["punteggio","ASC"]},{label:"Pi\xF9 recente",values:["createdAt","DESC"]},{label:"Meno recente",values:["createdAt","ASC"]}];ordinaGiocoArray=[{label:"Nome discendente",values:["nomeGioco","DESC"]},{label:"Nome ascendente",values:["nomeGioco","ASC"]},{label:"Difficolt\xE0 minore",values:["difficolta","ASC"]},{label:"Difficolt\xE0 maggiore",values:["difficolta","DESC"]}];ordinaPartiteArray=[{label:"Id ascendente",values:["id","ASC"]},{label:"Id discendente",values:["id","DESC"]},{label:"Punteggio migliore",values:["punteggio.punteggio","DESC"]},{label:"Punteggio peggiore",values:["punteggio.punteggio","ASC"]},{label:"Nome gioco discendente",values:["gioco.nomeGioco","DESC"]},{label:"Nome gioco ascendente",values:["gioco.nomeGioco","ASC"]},{label:"Difficolt\xE0 maggiore",values:["gioco.difficolta","DESC"]},{label:"Difficolt\xE0 minore",values:["gioco.difficolta","ASC"]},{label:"Pi\xF9 recente",values:["createdAt","DESC"]},{label:"Meno recente",values:["createdAt","ASC"]},{label:"Esito partita discendente",values:["esito","DESC"]},{label:"Esito partita ascendente",values:["esito","ASC"]}];sizes=[2,5,10];windowWidth=0;menuVoices=new Set(["Profilo","Recensioni","Giochi","Trofei","Classifiche","Partite","Preferiti"]);section="Profilo";circles=[1,2,3,4,5];partitePage=0;partiteSize=20;partiteOrderBy="id";partiteSortOrder="ASC";partite=null;classifichePage=0;classificheSize=6;classificheOrderBy="id";classificheSortOrder="ASC";classifiche=null;trofeiPage=0;trofeiSize=9;trofeiOrderBy="id";trofeiSortOrder="ASC";trofei=null;firstTimeReces=0;sottomenu=["Cambia immagine del profilo","Cambia la password","Cambia altre informazioni","Richiedi assistenza","Monitora le tue richieste"];impostazioniSection="Richiedi assistenza";mode="light";cityX=0;cityY=0;mapOptions;markers=[{lat:40.73061,lng:-73.935242},{lat:40.74988,lng:-73.968285}];descrizioneForm=new O({});showMenu=!1;ngOnInit(){this.descrizioneForm=new O({descrizione:new w("",[R.required,R.maxLength(5e3)])}),this.route.queryParams.subscribe(n=>{n&&n.user?this.authService.getUserById(n.user).subscribe({next:e=>{this.visitedUser=e,this.getCoordinates(),this.user?.id==this.visitedUser?.id&&(this.menuVoices.add("Impostazioni"),this.menuVoices.delete("Preferiti")),this.getAllDatas(),this.visitedUser!=null&&this.visitedUser!=null?localStorage.setItem("visitedUser",JSON.stringify(this.visitedUser)):this.router.navigate(["/lobby"])}}):localStorage.getItem("visitedUser")?(this.visitedUser=JSON.parse(localStorage.getItem("visitedUser")),this.getCoordinates(),this.user?.id==this.visitedUser?.id&&(this.menuVoices.add("Impostazioni"),this.menuVoices.delete("Preferiti")),this.getAllDatas()):this.router.navigate(["/lobby"])}),localStorage.setItem("location","lobby/profile")}getAllDatas(){this.getGiochi(),this.getPartite(),this.getClassifiche(),this.getTrofei(),this.getRecensioni(),this.onResize()}getRecensioni(){this.profiloService.getRecensioniByUserId(this.visitedUser.id,this.recePage,this.receSize,this.receOrderBy,this.receSortOrder).subscribe({next:n=>{this.recensioni=n}})}getGiochi(){this.profiloService.getGiochiByUserId(this.visitedUser.id,this.giochiPage,this.giochiSize,this.giochiOrderBy,this.giochiSortOrder).subscribe({next:n=>{this.giochi=n}})}getPartite(){this.gamefieldService.getPartitaByUser(this.visitedUser.id,this.partitePage,this.partiteSize,this.partiteOrderBy,this.partiteSortOrder).subscribe({next:n=>{this.partite=n}})}getClassifiche(){this.gamefieldService.getClassificheByUser(this.visitedUser.id,this.classifichePage,this.classificheSize,this.classificheOrderBy,this.classificheSortOrder).subscribe({next:n=>{this.classifiche=n}})}getTrofei(){this.gamefieldService.getTrofeiByUser(this.visitedUser.id,this.trofeiPage,this.trofeiSize,this.trofeiOrderBy,this.trofeiSortOrder).subscribe({next:n=>{this.trofei=n}})}toNumber(n){return Number(n)}onResize(){this.windowWidth=window.innerWidth,this.windowWidth>699&&(this.showMenu=!1)}openGameDialog(n){this.matDialog.open(Xe,{data:n,width:"50%",height:"90%"}).afterClosed().subscribe(t=>{t&&this.router.navigate(["/game-field"],{queryParams:{gioco:n.id}})})}switchSection(n){this.section=n,this.section!="Profilo"&&(this.returnDescrizione=0)}calculateEsito(n){switch(n){case"VINTA":return"text-success";case"PAREGGIATA":return"text-warning";case"PERSA":return"text-danger";case"VALIDA":return"text-success";case"NON_VALIDA":return"text-danger";default:return""}}goToRanking(n){this.router.navigate(["/lobby"],{queryParams:{classificaId:n?.id,section:"classifiche"}})}setImpostazioniSection(n){this.impostazioniSection=n}getCoordinates(){if(this.visitedUser?.completed){let n=this.visitedUser.citta.nome,e=`https://api.opencagedata.com/geocode/v1/json?q=${encodeURIComponent(n)}&key=9ea660b591574bbcb9e3530619d63fff`;try{this.httpClient.get(e).subscribe({next:t=>{let o=t.results[0];if(o){let{lat:m,lng:C}=o.geometry;this.cityX=m,this.cityY=C,this.mapOptions={mapId:"DEMO_MAP_ID",center:{lat:this.cityX,lng:this.cityY},zoom:7}}}})}catch{this.toastr.warning("Non siamo riusciti a recuperare le tue coordinate."),this.mapOptions={mapId:"DEMO_MAP_ID",zoom:7}}}}returnDescrizione=0;showDescrizione(n,e){if(this.returnDescrizione<1){let t=document.createElement("div");return t.innerHTML=e,this.returnDescrizione+=1,n.innerHTML+=t.outerHTML}}ngAfterContentChecked(){this.cdr.detectChanges()}formatDate(n){let e=new Date(n);return e.getDate()+"/"+e.getMonth()+1+"/"+e.getFullYear()}static \u0275fac=function(e){return new(e||i)(g($e),g(Pe),g(ue),g(Yi),g($),g(q),g(le),g(W),g(H),g(ae))};static \u0275cmp=I({type:i,selectors:[["app-profile"]],hostBindings:function(e,t){e&1&&p("resize",function(m){return t.onResize(m)},!1,Ct)},standalone:!0,features:[D],decls:18,vars:12,consts:[["reducedMenu",""],["ordina",""],["elementi",""],["sort",""],[1,"py-5","w-100","text-center",3,"ngClass"],[1,"container"],[1,"row","py-5","my-5","align-items-stretch"],[1,"col-md-12","py-3"],["class","col-md-3",4,"ngIf","ngIfElse"],[1,"col-md-9"],[4,"ngIf"],[1,"col-md-3"],[1,"text-start"],["class","p-3",3,"click",4,"ngFor","ngForOf"],[1,"p-3",3,"click"],["class","personalized-menu text-center",4,"ngIf"],[1,"personalized-menu","text-center"],["class","text-start",3,"click",4,"ngFor","ngForOf"],[1,"text-start",3,"click"],[1,"col-md-12","text-start"],[1,"btn",3,"click"],[1,"bi","bi-list","h1",3,"ngClass"],["class","col-6 p-3 position-relative",4,"ngIf"],[1,"col-6","p-3","position-relative"],[1,"ml-5","mt-5","p-3","border","rounded",3,"ngClass"],[1,"col-12","p-3","d-flex","align-items-end","justify-content-center"],[1,"profile-image","rounded-circle","shadow"],[1,"fs-2","px-2"],[1,"col-md-12","p-3"],[1,"row"],[1,"col-md-6"],[1,"col-md-12","fs-2","p-4"],[1,"fs-4","text-danger"],[1,"col-md-6","fs-2","p-4","overflow-x-auto","overflow-y-hidden"],[1,"col-md-6","fs-2","p-4"],[3,"visitedUser"],["class","map-container pt-5 mt-5",4,"ngIf"],[1,"map-container","pt-5","mt-5"],[3,"options","width"],[3,"position",4,"ngFor","ngForOf"],[3,"position"],[1,"row","text-center"],[1,"col-md-12"],[1,"col-md-12","d-flex","justify-content-end"],[1,"p-1"],["for","ordina",1,"form-label"],["name","ordina","id","ordina",1,"form-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],["name","elementi","id","elementi",1,"form-select",3,"change"],["class","col-md-12",4,"ngIf"],["class","col-md-12 d-flex justify-content-center",4,"ngIf"],[3,"value"],["class","col-md-6 p-2 text-center",4,"ngFor","ngForOf"],[1,"col-md-6","p-2","text-center"],[1,"border","rounded","shadow-sm"],[1,"w-100","text-center","d-flex","justify-content-center","pt-2","rounded-top",3,"ngClass"],["alt","immagine gioco",1,"gioco-image",3,"src"],[1,"p-2","fs-4"],[1,"pt-4","pb-2",3,"ngClass"],[1,"d-flex","justify-content-center"],["class","bi bi-star-fill text-warning h3",3,"ngClass",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","align-items-end"],["alt","profile image",1,"rounded-circle","border","gioco-image",3,"src"],[1,"px-3","fs-5"],[1,"fs-3","py-3","border-bottom"],[1,"date"],[1,"bi","bi-star-fill","text-warning","h3",3,"ngClass"],[1,"col-md-12","d-flex","justify-content-center"],["class","btn m-1",3,"click",4,"ngIf"],[1,"btn","m-1",3,"click"],[1,"bi","bi-caret-left"],[1,"bi","bi-caret-right"],["class","col-md-12 p-3",4,"ngIf"],["class","col-md-4 p-2",4,"ngFor","ngForOf"],[1,"col-md-4","p-2"],[1,"border","shadow"],[1,"fs-5","p-2",3,"ngClass"],["src","assets/profilo/trofeo_vittoria.png","alt","trofeo",1,"w-100","p-2"],[1,"p-2"],["class","btn fs-5",3,"click",4,"ngIf"],["class","btn",3,"click",4,"ngIf"],[1,"btn","fs-5",3,"click"],[1,"bi","bi-arrow-left-circle-fill","h4"],[1,"bi","bi-arrow-right-circle-fill","h4"],[1,"px-2"],["for","sort"],["name","sort","id","sort",1,"form-select",3,"change"],["class","col-md-6 p-3",4,"ngFor","ngForOf"],["class","col-md-12 py-2 bg-white",4,"ngIf"],[1,"col-md-6","p-3"],[1,"p-3","game-card","border","shadow",3,"ngClass"],[1,"w-100","text-center","position-relative"],["alt","gioco_image",1,"w-50","m-auto",3,"src"],[1,"text-center","py-2","mb-2"],[1,"border","my-2"],[1,"border-bottom","p-2","fs-4",3,"ngClass"],[1,"d-flex","justify-content-around","difficult-points-container"],[3,"class","ngClass",4,"ngFor","ngForOf"],[1,"w-100","p-2","bg-info","text-center","d-flex","justify-content-around","align-items-center","text-light","button","shadow",3,"click"],[1,"fs-4","fw-bold","pt-3",3,"ngClass"],["title","Vai al gioco",1,"bi","bi-arrow-up-right","h3","p-3"],[3,"ngClass"],[1,"col-md-12","py-2","bg-white"],["class","col-md-4 p-3",4,"ngFor","ngForOf"],[1,"col-md-4","p-3"],[1,"fs-1","p-3","py-4",3,"ngClass"],[1,"p-4","fs-4"],[1,"text-end","p-2"],["title","Vai alla classifica",1,"btn",3,"click"],[1,"bi","bi-box-arrow-up-right","h4"],["class","col-md-12 py-3",4,"ngIf"],["class","col-md-6",4,"ngIf"],["name","sort","id","sort",1,"form-select",3,"change","mousedown","blur"],[1,"d-flex","justify-content-around","p-2"],["alt","immagine_gioco",1,"w-25",3,"src"],[1,"fs-4"],[1,"fw-bold",3,"ngClass"],[3,"section","user"],[3,"userInput"]],template:function(e,t){if(e&1&&(s(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"h1"),l(5),r()(),u(6,ls,3,1,"div",8)(7,gs,4,2,"ng-template",null,0,Ue),s(9,"div",9),u(10,vs,32,11,"div",10)(11,Ds,21,5,"div",10)(12,Us,8,3,"div",10)(13,Ks,16,4,"div",10)(14,ca,4,2,"div",10)(15,Sa,8,5,"div",10)(16,wa,2,2,"div",10)(17,Ea,2,1,"div",10),r()()()()),e&2){let o=S(8);c("ngClass",t.mode=="light"?"bg-white":"bg-personal text-light"),a(5),x(t.visitedUser==null?null:t.visitedUser.fullName),a(),c("ngIf",t.windowWidth>699)("ngIfElse",o),a(4),c("ngIf",t.section=="Profilo"),a(),c("ngIf",t.section=="Recensioni"),a(),c("ngIf",t.section=="Trofei"),a(),c("ngIf",t.section=="Giochi"),a(),c("ngIf",t.section=="Classifiche"),a(),c("ngIf",t.section=="Partite"),a(),c("ngIf",t.section=="Impostazioni"&&t.authService.getUser().id==t.visitedUser.id),a(),c("ngIf",t.section=="Preferiti")}},dependencies:[A,V,z,Yt,it,Hi,qi,N,me,de,Kt],styles:[".h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{font-family:Just Me Again Down Here,cursive;font-weight:400;font-style:normal}h1[_ngcontent-%COMP%]{font-size:80px}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:120px}.bg-personal[_ngcontent-%COMP%]{background-color:gray}.rounded-circle[_ngcontent-%COMP%]{width:200px;height:200px}.row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:100%!important}.profile-image[_ngcontent-%COMP%]{width:170px;min-height:170px!important;background-size:contain;background-repeat:no-repeat;background-position:center;background-color:#f5f5f5}.gioco-image[_ngcontent-%COMP%]{width:50px;height:50px}ul[_ngcontent-%COMP%]{list-style-type:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{transition:.5s;cursor:pointer}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{transition:.5s;background-color:beige;color:red;scale:1.1;font-weight:800}.difficult-points-container[_ngcontent-%COMP%]{max-height:50px}.difficult-points-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-height:10px;max-width:10px}.bi-heart[_ngcontent-%COMP%], .bi-heart-fill[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{cursor:pointer}.personalized-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px}"]})};var Ta=[{path:"",component:Ht},{path:"profile",component:ei,canActivate:[si]},{path:"preferiti",component:it,canActivate:[si]}],ti=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=re({type:i});static \u0275inj=oe({imports:[st.forChild(Ta),st]})};var un=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=re({type:i})}static{this.\u0275inj=oe({imports:[Se,Se]})}}return i})();var fn=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=re({type:i});static \u0275inj=oe({providers:[Di()],imports:[ti,yt,N,Bi.forRoot(),an,un,st,Qe]})};export{fn as LobbyModule};
